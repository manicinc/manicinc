"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8595],{78595:function(e,n,r){r.r(n),r.d(n,{default:function(){return a}});var t=r(57437),o=r(2265),i=r(48614),d=r(97655);function a(e){let{formId:n,className:r="",fallbackUrl:a}=e,s=function(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let n=e.current;if(!n)return;let r=n.removeChild.bind(n),t=n.appendChild.bind(n),o=n.insertBefore.bind(n);return n.removeChild=function(e){try{if(e.nodeType===Node.ELEMENT_NODE){let n=e;for(;n;){if(n.getAttribute&&"true"===n.getAttribute("data-react-unmanaged"))return console.log("\uD83D\uDEE1️ Prevented React from removing unmanaged DOM node"),e;n=n.parentElement}}return r(e)}catch(n){return console.log("\uD83D\uDEE1️ Caught removeChild error, likely due to Sender.net DOM manipulation:",n),e}},n.appendChild=function(e){let n=t.call(this,e);return e.nodeType===Node.ELEMENT_NODE&&e.setAttribute&&e.setAttribute("data-react-unmanaged","true"),n},()=>{n&&(n.removeChild=r,n.appendChild=t,n.insertBefore=o)}},[]),e}(),[l,m]=(0,o.useState)("loading"),u=(0,o.useRef)(!1),c=(0,o.useRef)(0),p=a||(n?"https://stats.sender.net/forms/".concat(n,"/view"):void 0);return(0,o.useEffect)(()=>{let e;if(!n||""===n.trim()){console.error("\uD83D\uDD34 No formId provided to SenderNewsletterForm"),m("error");return}if(u.current||!s.current)return;u.current=!0;let r=!0,t=s.current,o=e=>{e.setAttribute("data-react-unmanaged","true"),e.setAttribute("data-sender-managed","true"),Array.from(e.children).forEach(o)},i=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(o(e),console.log("\uD83D\uDD27 Marked dynamically added node as unmanaged"))})})}),d=document.createElement("div");d.setAttribute("data-react-unmanaged","true"),d.setAttribute("data-sender-wrapper","true"),d.style.cssText="position: relative; width: 100%; min-height: 500px; padding: 0; margin: 0; box-sizing: border-box;";let a=document.createElement("div");a.setAttribute("data-react-unmanaged","true"),a.setAttribute("data-sender-container","true"),a.innerHTML='\n      <div style="text-align: left; width: 100%; padding: 0; margin: 0; box-sizing: border-box;" \n           class="sender-form-field" \n           data-sender-form-id="'.concat(n,'"\n           data-react-unmanaged="true">\n      </div>\n      <style>\n        /* Custom scrollbar styling */\n        .sender-form-field::-webkit-scrollbar,\n        .sender-form-box::-webkit-scrollbar {\n          width: 8px;\n        }\n        .sender-form-field::-webkit-scrollbar-track,\n        .sender-form-box::-webkit-scrollbar-track {\n          background: rgba(0, 0, 0, 0.1);\n          border-radius: 4px;\n        }\n        .sender-form-field::-webkit-scrollbar-thumb,\n        .sender-form-box::-webkit-scrollbar-thumb {\n          background: rgba(0, 0, 0, 0.3);\n          border-radius: 4px;\n        }\n        .sender-form-field::-webkit-scrollbar-thumb:hover,\n        .sender-form-box::-webkit-scrollbar-thumb:hover {\n          background: rgba(0, 0, 0, 0.5);\n        }\n        \n        .sender-form-field iframe,\n        .sender-form-field form,\n        .sender-form-field div,\n        .sender-form-field input,\n        .sender-form-field button {\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0 !important;\n          padding: 12px !important;\n          box-sizing: border-box !important;\n        }\n        .sender-form-field {\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          box-sizing: border-box !important;\n          overflow-y: auto !important;\n          min-height: 480px !important;\n          max-height: 800px !important;\n        }\n        /* Override Sender.net\'s fixed width */\n        .sender-form-box {\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0 !important;\n          box-sizing: border-box !important;\n          overflow: hidden !important;\n        }\n        .sender-subs-embed-form-dBBEwn .sender-form-box {\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0 !important;\n          box-sizing: border-box !important;\n          overflow: hidden !important;\n        }\n        /* Remove internal padding that causes gaps */\n        .sender-subs-embed-form-dBBEwn .box-padding {\n          padding-left: 12px !important;\n          padding-right: 12px !important;\n          padding-top: 20px !important;\n          padding-bottom: 20px !important;\n        }\n        /* Force full width on all nested elements */\n        .sender-subs-embed-form-dBBEwn,\n        .sender-subs-embed-form-dBBEwn > *,\n        .sender-form-flex,\n        .sender-form-main {\n          width: 100% !important;\n          max-width: 100% !important;\n          margin-left: 0 !important;\n          margin-right: 0 !important;\n          box-sizing: border-box !important;\n        }\n        /* Mobile-specific overrides */\n        @media (max-width: 768px) {\n          .sender-form-box,\n          .sender-subs-embed-form-dBBEwn .sender-form-box {\n            width: 100% !important;\n            max-width: 100% !important;\n            margin: 0 !important;\n            border-radius: 0 !important;\n          }\n          .sender-form-field,\n          .sender-form-field iframe,\n          .sender-form-field form,\n          .sender-form-field div {\n            width: 100% !important;\n            max-width: 100% !important;\n            margin: 0 !important;\n            border-radius: 0 !important;\n          }\n          .sender-form-field input,\n          .sender-form-field button {\n            width: 100% !important;\n            max-width: 100% !important;\n            margin: 0 !important;\n            padding: 12px !important;\n            border-radius: 5px !important;\n            box-sizing: border-box !important;\n          }\n          .sender-subs-embed-form-dBBEwn .box-padding {\n            padding-left: 8px !important;\n            padding-right: 8px !important;\n            padding-top: 15px !important;\n            padding-bottom: 15px !important;\n          }\n          /* Force full width on mobile for all elements */\n          .sender-subs-embed-form-dBBEwn,\n          .sender-subs-embed-form-dBBEwn > *,\n          .sender-form-flex,\n          .sender-form-main {\n            width: 100% !important;\n            max-width: 100% !important;\n            margin: 0 !important;\n            padding-left: 8px !important;\n            padding-right: 8px !important;\n            box-sizing: border-box !important;\n          }\n        }\n      </style>\n    '),d.appendChild(a),t.innerHTML="",t.appendChild(d),o(d),o(a),i.observe(d,{childList:!0,subtree:!0,attributes:!1});let l=()=>{if(!r)return!1;if(c.current++,console.log("\uD83D\uDD04 Render attempt ".concat(c.current,"/").concat(20)),!window.sender||"function"!=typeof window.sender)return console.log("⏳ Waiting for sender..."),c.current>5&&console.log("\uD83D\uDD0D Debugging sender availability:",{senderScripts:document.querySelectorAll('script[src*="sender.net"]').length,windowSender:typeof window.sender,userAgent:navigator.userAgent.includes("Chrome")?"Chrome":"Other",blockedRequests:performance.getEntriesByType("resource").filter(e=>e.name.includes("sender")).length}),!1;try{if("function"!=typeof window.sender)return console.error("\uD83D\uDD34 window.sender is not a function:",typeof window.sender),!1;console.log("\uD83D\uDD27 Calling sender methods with formId:",n),window.sender(),window.sender("init"),window.sender("render"),window.sender("scan"),window.sender("refresh"),window.sender("form",n),window.sender(n),console.log("✅ Called all sender methods");let e=document.querySelectorAll('script[src*="sender.net"]');return console.log("\uD83D\uDD0D Sender scripts found:",e.length),window.sender.error&&console.error("\uD83D\uDD34 Sender reported error:",window.sender.error),setTimeout(()=>{var e,n;if(!r)return;let t=a.querySelector(".sender-form-field"),i=!!((null==t?void 0:t.querySelector("iframe"))||(null==t?void 0:t.querySelector("form"))||(null==t?void 0:t.querySelector("input"))||(null==t?void 0:t.querySelector(".sender-form-box"))||(null==t?void 0:t.querySelector(".sender-subs-embed-form-dBBEwn"))||(null==t?void 0:t.querySelector('[class*="sender"]'))||t&&t.children.length>0||t&&t.innerHTML.trim().length>50),d=!!((null==t?void 0:t.querySelector("[data-sender-form-id]"))||(null==t?void 0:t.querySelector('[class*="sender-form"]'))||document.querySelector(".sender-subs-embed-form-dBBEwn"));console.log("\uD83D\uDD0D Content detection:",{hasContent:i,hasSenderAttributes:d,innerHTML:null==t?void 0:null===(e=t.innerHTML)||void 0===e?void 0:e.substring(0,100),childrenCount:(null==t?void 0:null===(n=t.children)||void 0===n?void 0:n.length)||0}),i||d?(console.log("✅ Form rendered successfully!"),t&&o(t),m("success")):c.current>=20&&(console.error("\uD83D\uDD34 Max attempts reached, form failed to render"),console.error("\uD83D\uDD0D Final state:",{formFieldExists:!!t,formFieldHTML:(null==t?void 0:t.innerHTML)||"No content",senderGlobal:typeof window.sender,documentReadyState:document.readyState}),m("error"))},1500),!0}catch(e){return console.error("\uD83D\uDD34 Error rendering form:",e),!1}};l();let p=500;e=setInterval(()=>{if(!r||c.current>=20){clearInterval(e);return}c.current>10&&(p=Math.min(1.2*p,3e3)),setTimeout(()=>{r&&c.current<20&&l()},p)},500);let f=()=>l();return window.addEventListener("load",f),window.addEventListener("onSenderFormsLoaded",f),()=>{r=!1,e&&clearInterval(e),window.removeEventListener("load",f),window.removeEventListener("onSenderFormsLoaded",f),i.disconnect();let n=t.querySelector('[data-loading-overlay="true"]');n&&n.remove()}},[n]),(0,t.jsxs)("div",{className:"".concat(r," w-full"),style:{width:"100%",padding:0,margin:0},children:[(0,t.jsx)("div",{ref:s,className:"sender-form-container w-full",style:{minHeight:"loading"===l?"500px":"480px",width:"100%",padding:"0",margin:"0"},suppressHydrationWarning:!0,"data-react-unmanaged":"true",children:"loading"===l&&!u.current&&(0,t.jsx)("div",{className:"flex items-center justify-center h-64","data-loading-overlay":"true",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading newsletter form..."})]})})}),(0,t.jsx)(i.M,{children:"error"===l&&(0,t.jsxs)(d.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 p-6 border rounded-lg ".concat(n&&""!==n.trim()?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:[(0,t.jsx)("h3",{className:"font-semibold mb-2 ".concat(n&&""!==n.trim()?"text-red-800":"text-yellow-800"),children:n&&""!==n.trim()?"Newsletter form couldn't load":"Newsletter form configuration missing"}),(0,t.jsx)("p",{className:"text-sm mb-4 ".concat(n&&""!==n.trim()?"text-red-600":"text-yellow-600"),children:n&&""!==n.trim()?"This might be due to ad blockers, content security policies, or network issues. The form works locally but may be blocked in production environments.":"The NEXT_PUBLIC_SENDER_FORM_ID environment variable is not configured."}),p?(0,t.jsxs)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 text-white rounded hover:opacity-90 transition-colors ".concat(n&&""!==n.trim()?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"),children:["Subscribe via web form",(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}):n&&""!==n.trim()?(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Try Again"}):(0,t.jsx)("p",{className:"text-sm text-yellow-700",children:"Please contact the site administrator to set up the newsletter form."})]})})]})}}}]);