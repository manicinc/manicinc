"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2681],{12025:function(e,t,n){n.d(t,{F:function(){return r},ThemeProvider:function(){return l}});var a=n(57437),o=n(2265);let c=(0,o.createContext)(void 0),l=e=>{let{children:t}=e,[n,l]=(0,o.useState)("light"),[r,s]=(0,o.useState)(!1),[i,d]=(0,o.useState)(!1),m=(0,o.useRef)(n),u=(0,o.useRef)(i);(0,o.useEffect)(()=>{m.current=n},[n]),(0,o.useEffect)(()=>{u.current=i},[i]),(0,o.useEffect)(()=>{s(!0),(()=>{let e;try{var t;e=null!==(t=localStorage.getItem("theme"))&&void 0!==t?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",document.documentElement.classList.contains("dark")?e="dark":document.documentElement.classList.contains("light")&&(e="light")}catch(t){console.warn("Could not access localStorage for theme, using system preference."),e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}console.log("ThemeContext Initializing - Detected theme:",e),l(e),document.documentElement.classList.contains(e)||(console.log("Syncing DOM class on init. Removing 'light', 'dark', adding '".concat(e,"'")),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e),document.documentElement.style.setProperty("color-scheme",e)),requestAnimationFrame(()=>{document.documentElement.setAttribute("data-theme-loaded","true"),console.log("data-theme-loaded set to true")})})();let e=new MutationObserver(e=>{e.forEach(e=>{if("class"===e.attributeName&&!u.current){let e=document.documentElement.classList.contains("dark")?"dark":"light";e!==m.current&&l(e)}})});e.observe(document.documentElement,{attributes:!0});let t=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{try{if(null===localStorage.getItem("theme")){let t=e.matches?"dark":"light";console.log("System theme changed, updating to:",t),w(t)}}catch(e){console.warn("Could not access localStorage to check for existing theme preference during system change.")}};return t.addEventListener("change",n),()=>{e.disconnect(),t.removeEventListener("change",n)}},[]);let g=(0,o.useCallback)(e=>{if(i||!r)return;let t=document.documentElement,a=t.classList.contains("dark")?"dark":"light";if(e===a){console.log("Theme already set to",e),n!==e&&l(e);return}console.log("Applying theme change: ".concat(a," -> ").concat(e)),d(!0),t.classList.add("theme-transitioning"),t.classList.remove(a),t.classList.add(e),t.style.setProperty("color-scheme",e),l(e);try{localStorage.setItem("theme",e),console.log("Theme saved to localStorage:",e)}catch(e){console.error("Failed to save theme to localStorage:",e)}setTimeout(()=>{t.classList.remove("theme-transitioning"),d(!1),console.log("Theme transition complete. Current theme: ".concat(e))},300)},[i,r,n]),h=(0,o.useCallback)(()=>{let e=document.documentElement.classList.contains("dark")?"dark":"light";console.log("Toggle theme called."),g("dark"===e?"light":"dark")},[g]),w=(0,o.useCallback)(e=>{console.log("Set theme called with:",e),g(e)},[g]);(0,o.useEffect)(()=>{if(r)return window.toggleTheme=h,()=>{delete window.toggleTheme}},[r,h]);let k=r?{isDarkMode:"dark"===n,theme:n,setTheme:w,toggleTheme:h,mounted:r}:{isDarkMode:!1,theme:"light",setTheme:()=>console.warn("ThemeProvider not mounted yet."),toggleTheme:()=>console.warn("ThemeProvider not mounted yet."),mounted:!1};return(0,a.jsx)(c.Provider,{value:k,children:t})},r=()=>{let e=(0,o.useContext)(c);if(void 0===e){console.warn("useTheme must be used within a ThemeProvider. Providing default values.");let e=!1;try{e="dark"===localStorage.getItem("theme")||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches}catch(e){}return{isDarkMode:e,theme:e?"dark":"light",setTheme:()=>console.error("Cannot set theme: ThemeProvider context is missing."),toggleTheme:()=>console.error("Cannot toggle theme: ThemeProvider context is missing."),mounted:!1}}return e}},25598:function(e,t,n){n.d(t,{A:function(){return c}});var a=n(2265);let o="blog-newsletter-modal-state";function c(){let[e,t]=(0,a.useState)(!1),[n,c]=(0,a.useState)(!1),[l,r]=(0,a.useState)(null),s=(0,a.useCallback)(()=>{try{let e=localStorage.getItem(o);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load newsletter modal state:",e)}return{hasSignedUp:!1,hasClickedNeverShow:!1,hasSeenModal:!1,lastShownDate:null}},[]),i=(0,a.useCallback)(e=>{try{localStorage.setItem(o,JSON.stringify(e))}catch(e){console.warn("Failed to save newsletter modal state:",e)}},[]),d=(0,a.useCallback)(()=>{let e=s();if(e.hasSignedUp||e.hasClickedNeverShow)return!1;if(e.lastShownDate){let t=new Date(e.lastShownDate);if((new Date().getTime()-t.getTime())/864e5<1)return!1}return!0},[s]),m=(0,a.useCallback)(()=>{let e=window.scrollY,a=window.innerHeight;e/Math.max(1,document.documentElement.scrollHeight-a)>=.25&&!n&&(c(!0),l&&clearTimeout(l),r(setTimeout(()=>{d()&&(t(!0),i({...s(),hasSeenModal:!0,lastShownDate:new Date().toISOString()}))},3e3)))},[n,l,d,s,i]);(0,a.useEffect)(()=>{if(d())return window.addEventListener("scroll",m,{passive:!0}),()=>{window.removeEventListener("scroll",m),l&&clearTimeout(l)}},[m,d,l]);let u=(0,a.useCallback)(()=>{t(!1)},[]);return{showModal:e,closeModal:u,neverShowAgain:(0,a.useCallback)(()=>{i({...s(),hasClickedNeverShow:!0}),t(!1)},[s,i]),markAsSignedUp:(0,a.useCallback)(()=>{i({...s(),hasSignedUp:!0}),t(!1)},[s,i]),resetState:(0,a.useCallback)(()=>{localStorage.removeItem(o)},[])}}},21463:function(e,t,n){n.d(t,{Y:function(){return c}});var a=n(2265);let o="manic_cookie_consent";function c(){var e,t,n;let[c,l]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=localStorage.getItem(o);if(e)try{let{preferences:t,version:n}=JSON.parse(e);if("1.0"===n){l(t),s(!0),i(t);return}}catch(e){console.warn("Invalid cookie consent data")}s(!1)};e();let t=()=>e();return window.addEventListener("cookie-consent-updated",t),()=>{window.removeEventListener("cookie-consent-updated",t)}},[]);let i=e=>{if(document.cookie="manic_consent=true; path=/; max-age=".concat(31536e3,"; SameSite=Lax"),e.analytics){if(document.cookie="manic_analytics=enabled; path=/; max-age=".concat(31536e3,"; SameSite=Lax"),window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}),window.clarity)try{window.clarity("consent",!0)}catch(e){}}else if(document.cookie="manic_analytics=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),window.clarity)try{window.clarity("consent",!1)}catch(e){}e.marketing?(document.cookie="manic_marketing=enabled; path=/; max-age=".concat(31536e3,"; SameSite=Lax"),window.gtag&&window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})):(document.cookie="manic_marketing=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",window.gtag&&window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})),e.functional?document.cookie="manic_functional=enabled; path=/; max-age=".concat(31536e3,"; SameSite=Lax"):document.cookie="manic_functional=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"};return{hasConsent:r,canUseMarketing:r&&null!==(e=null==c?void 0:c.marketing)&&void 0!==e&&e,canUseAnalytics:r&&null!==(t=null==c?void 0:c.analytics)&&void 0!==t&&t,canUseFunctional:r&&null!==(n=null==c?void 0:c.functional)&&void 0!==n&&n,preferences:c,updatePreferences:e=>{let t={...c||{essential:!0,analytics:!1,functional:!1,marketing:!1},...e};l(t),s(!0);let n={preferences:t,version:"1.0",timestamp:Date.now()};localStorage.setItem(o,JSON.stringify(n)),i(t),window.dispatchEvent(new CustomEvent("cookie-consent-updated"))},showBanner:()=>{localStorage.removeItem(o),s(!1),l(null),window.dispatchEvent(new CustomEvent("cookie-consent-show-banner"))}}}}}]);