{"version":3,"file":"static/chunks/8955.c69761c160fd1acd.js","mappings":"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","sources":["webpack://_N_E/./src/components/SenderScript.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\ninterface SenderScriptProps {\n  accountId?: string;\n}\n\nexport function SenderScript({ accountId }: SenderScriptProps) {\n  useEffect(() => {\n    // Enhanced global error handler for multiple service errors\n    const handleGlobalError = (event: ErrorEvent) => {\n      const message = event.message?.toLowerCase() || '';\n      const filename = event.filename?.toLowerCase() || '';\n      \n      if (\n        // Sender.net errors\n        message.includes('unexpected token') ||\n        message.includes('syntaxerror') ||\n        message.includes('doctype') ||\n        message.includes('cannot read properties') ||\n        message.includes('typeerror') ||\n        filename.includes('sender.net') ||\n        filename.includes('universal.js') ||\n        (message.includes('json') && message.includes('token')) ||\n        // EmailOctopus errors\n        filename.includes('emailoctopus') ||\n        filename.includes('eocampaign1.com') ||\n        message.includes('parentnode') ||\n        message.includes('removechild') ||\n        // React DOM errors\n        message.includes('notfounderror') ||\n        message.includes('failed to execute') ||\n        message.includes('node to be removed is not a child') ||\n        // MetaMask development errors\n        (message.includes('metamask') && process.env.NODE_ENV === 'development')\n      ) {\n        console.warn('ðŸš¨ Service/DOM error detected and suppressed:', {\n          message: event.message,\n          filename: event.filename,\n          type: filename.includes('sender') ? 'Sender.net service error' : \n                filename.includes('emailoctopus') || filename.includes('eocampaign1') ? 'EmailOctopus script error' :\n                message.includes('removechild') || message.includes('notfounderror') ? 'React DOM cleanup error' :\n                message.includes('metamask') ? 'MetaMask dev error' : 'Service error'\n        });\n        return true; // Prevent the error from bubbling up\n      }\n      return false;\n    };\n\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      const reason = event.reason?.toString?.() || '';\n      const message = event.reason?.message?.toLowerCase?.() || '';\n      \n      if (\n        // Sender.net errors\n        message.includes('unexpected token') ||\n        message.includes('syntaxerror') ||\n        message.includes('doctype') ||\n        message.includes('cannot read properties') ||\n        message.includes('typeerror') ||\n        reason.includes('404') ||\n        reason.includes('sender.net') ||\n        reason.includes('universal.js') ||\n        (message.includes('json') && message.includes('token')) ||\n        // EmailOctopus errors\n        reason.includes('emailoctopus') ||\n        reason.includes('eocampaign1.com') ||\n        message.includes('parentnode') ||\n        message.includes('removechild') ||\n        // DOM manipulation errors\n        message.includes('notfounderror') ||\n        message.includes('failed to execute') ||\n        message.includes('node to be removed is not a child')\n      ) {\n        const errorType = reason.includes('sender') ? 'Sender.net service error' :\n                         reason.includes('emailoctopus') || reason.includes('eocampaign1') ? 'EmailOctopus service error' :\n                         message.includes('removechild') || message.includes('notfounderror') ? 'DOM cleanup error' :\n                         'Service error';\n        \n        console.warn('ðŸš¨ Service/DOM error detected - likely service instability or DOM conflict:', {\n          reason: event.reason,\n          type: `Promise rejection - ${errorType}`\n        });\n        event.preventDefault(); // Prevent unhandled rejection warning\n      }\n    };\n\n    window.addEventListener('error', handleGlobalError);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection);\n\n    // Intercept fetch requests to Sender.net to handle 404s gracefully\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      try {\n        const response = await originalFetch(...args);\n        const url = args[0]?.toString() || '';\n        \n        if (url.includes('sender.net') && !response.ok) {\n          console.warn('ðŸš¨ Sender.net service request failed:', {\n            url,\n            status: response.status,\n            statusText: response.statusText,\n            type: 'Network response error'\n          });\n          \n          // Return a minimal success response to prevent JSON parsing errors\n          if (url.includes('config.json')) {\n            return new Response('{}', {\n              status: 200,\n              statusText: 'OK',\n              headers: { 'Content-Type': 'application/json' }\n            });\n          }\n        }\n        \n        return response;\n      } catch (error) {\n        const url = args[0]?.toString() || '';\n        if (url.includes('sender.net')) {\n          console.warn('ðŸš¨ Sender.net service fetch error:', error);\n          // Return a minimal success response for Sender.net URLs\n          return new Response('{}', {\n            status: 200,\n            statusText: 'OK',\n            headers: { 'Content-Type': 'application/json' }\n          });\n        }\n        throw error;\n      }\n    };\n\n    // Debug logging\n    console.log('ðŸ” SenderScript Debug:', {\n      accountId,\n      accountIdFromEnv: process.env.NEXT_PUBLIC_SENDER_ACCOUNT_ID,\n      windowSender: !!window.sender,\n      windowSenderCapital: !!window.Sender\n    });\n\n    // Validate accountId before proceeding\n    if (!accountId || accountId.trim() === '') {\n      console.warn('âš ï¸ Sender accountId is empty or undefined, skipping initialization');\n      return;\n    }\n\n    // Check if Sender is already initialized\n    if (window.Sender || window.sender) {\n      console.log('âœ… Sender already initialized');\n      // Still try to initialize with account ID if not done yet\n      try {\n        if (window.sender && typeof window.sender === 'function') {\n          window.sender(accountId);\n          console.log('âœ… Re-initialized with account ID:', accountId);\n        }\n      } catch (e) {\n        console.log('Could not re-initialize:', e);\n      }\n      return;\n    }\n\n    // IMPORTANT: Set up the queue function BEFORE loading the script\n    // This is what the Sender script expects to find\n    const script = document.createElement('script');\n    script.src = 'https://cdn.sender.net/accounts_resources/universal.js';\n    script.async = true;\n    \n    // Set up the sender function queue BEFORE the script loads\n    window.sender = window.sender || function() {\n      (window.sender.q = window.sender.q || []).push(arguments);\n    };\n    window.sender.l = Date.now();\n    \n    // Add specific error handler for the Sender.net script\n    const originalWindowError = window.onerror;\n    window.onerror = function(message, source, lineno, colno, error) {\n      const messageStr = message?.toString().toLowerCase() || '';\n      const sourceStr = source?.toString().toLowerCase() || '';\n      \n      if (\n        (sourceStr.includes('universal.js') && sourceStr.includes('sender.net')) ||\n        (messageStr.includes('cannot read properties') && messageStr.includes('undefined')) ||\n        (messageStr.includes('typeerror') && sourceStr.includes('sender'))\n      ) {\n        console.warn('ðŸš¨ Sender.net universal.js script error suppressed:', {\n          message: messageStr,\n          source: sourceStr,\n          line: lineno,\n          column: colno,\n          error: error?.toString(),\n          type: 'Sender.net service instability'\n        });\n        return true; // Prevent the error from appearing in console\n      }\n      // Call original handler for other errors\n      return originalWindowError ? originalWindowError(message, source, lineno, colno, error) : false;\n    };\n    \n    // Wait for the script to load completely, then initialize\n    script.onload = function() {\n      console.log('ðŸš€ Sender universal script loaded, initializing with account ID:', accountId);\n      \n      // Wait a bit more to ensure everything is ready\n      setTimeout(() => {\n        if (window.sender && typeof window.sender === 'function') {\n          try {\n            // Initialize Sender with the account ID using the exact pattern from Sender.net docs\n            window.sender('config', accountId);\n            window.sender(accountId);\n            console.log('âœ… Sender initialized with account ID:', accountId);\n          } catch (error) {\n            console.error('âŒ Error initializing Sender:', error);\n            console.log('ðŸ” Account ID that failed:', accountId);\n          }\n        } else {\n          console.error('âŒ window.sender is not available after script load');\n        }\n      }, 750); // Increased delay to ensure full initialization\n    };\n    \n    script.onerror = function(error) {\n      console.error('âŒ Failed to load Sender script:', error);\n      console.log('ðŸ” Script src:', script.src);\n    };\n    \n    document.head.appendChild(script);\n    console.log('âœ… Sender initialization script added');\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener('error', handleGlobalError);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection);\n      // Restore original fetch\n      window.fetch = originalFetch;\n      // Restore original window.onerror\n      window.onerror = originalWindowError;\n    };\n  }, [accountId]);\n\n  return null;\n}\n"],"names":["SenderScript","param","accountId","useEffect","handleGlobalError","event","message","toLowerCase","filename","includes","console","warn","type","handleUnhandledRejection","reason","toString","errorType","concat","preventDefault","window","addEventListener","originalFetch","fetch","args","response","url","ok","status","statusText","Response","headers","error","log","accountIdFromEnv","process","env","NEXT_PUBLIC_SENDER_ACCOUNT_ID","windowSender","sender","windowSenderCapital","Sender","trim","e","script","document","createElement","src","async","q","push","arguments","l","Date","now","originalWindowError","onerror","source","lineno","colno","messageStr","sourceStr","line","column","onload","setTimeout","head","appendChild","removeEventListener"],"sourceRoot":""}