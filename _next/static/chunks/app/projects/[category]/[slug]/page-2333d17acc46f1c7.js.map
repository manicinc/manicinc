{"version":3,"file":"static/chunks/app/projects/[category]/[slug]/page-2333d17acc46f1c7.js","mappings":"sFAAAA,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,QAEAH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,QAEAH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,QAEAH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,8eCUe,SAASE,EAAcC,CAUjB,KAViB,CACpCC,IAAAA,CAAG,CACHC,IAAAA,EAAM,EAAE,CACRC,QAAAA,CAAO,CACPC,UAAAA,EAAY,EAAE,CACdC,KAAAA,EAAO,QAAQ,CACfC,MAAAA,EAAQ,QAAQ,CAChBC,OAAAA,EAAS,MAAM,CACfC,OAAAA,EAAS,MAAM,CACfC,SAAAA,EAAW,EAAI,CACI,CAViBT,EAW9B,CAACU,EAAUC,EAAY,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACC,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACG,EAAWC,EAAa,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GACrC,CAACK,EAAYC,EAAc,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvC,CAACO,EAAWC,EAAa,CAAGR,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,CAAES,EAAG,EAAGC,EAAG,CAAE,GAClD,CAACC,EAAUC,EAAY,CAAGZ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,CAAES,EAAG,EAAGC,EAAG,CAAE,GAChDG,EAAWC,CAAAA,EAAAA,EAAAA,MAAAA,EAAyB,MAG1CC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRb,EAAW,cAAyDc,MAAA,CAA3CC,KAAKC,MAAM,GAAGC,QAAQ,CAAC,IAAIC,SAAS,CAAC,EAAG,IACnE,EAAG,EAAE,EAcL,IAAMC,EAAY,KAChBtB,EAAY,IACZuB,SAASC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,EACjC,EAGMC,EAAS,KACbtB,EAAauB,GAAQV,KAAKW,GAAG,CAACD,EAAO,IAAM,GAC7C,EAGME,EAAU,KACdzB,EAAauB,GAAQV,KAAKa,GAAG,CAACH,EAAO,IAAM,IAC7C,EAGMI,EAAY,KAChB3B,EAAa,GACbQ,EAAY,CAAEH,EAAG,EAAGC,EAAG,CAAE,EAC3B,EAaMsB,EAAiB,IAChB3B,IAOLO,EAAY,CAAEH,EAJDwB,EAAEC,OAAO,CAAG3B,EAAUE,CAAC,CAIbC,EAHVuB,EAAEE,OAAO,CAAG5B,EAAUG,CAAC,GAKpCuB,EAAEG,cAAc,GAClB,EAGMC,EAAgB,KACpB/B,EAAc,GAChB,EAGAS,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMuB,EAAY,IACZxC,GAAYmC,WAAAA,EAAEM,GAAG,EACnBlB,GAEJ,EAGMmB,EAAkB,IACtBR,EAAeC,EACjB,EAEMQ,EAAgB,KACpBJ,GACF,EAGMK,EAAc,IACd5C,IACEmC,EAAEU,MAAM,CAAG,EACbjB,IAEAG,IAEFI,EAAEG,cAAc,GAEpB,EAOA,OALAQ,OAAOC,gBAAgB,CAAC,UAAWP,GACnCM,OAAOC,gBAAgB,CAAC,YAAaL,GACrCI,OAAOC,gBAAgB,CAAC,UAAWJ,GACnCG,OAAOC,gBAAgB,CAAC,QAASH,EAAa,CAAEI,QAAS,EAAM,GAExD,KACLF,OAAOG,mBAAmB,CAAC,UAAWT,GACtCM,OAAOG,mBAAmB,CAAC,YAAaP,GACxCI,OAAOG,mBAAmB,CAAC,UAAWN,GACtCG,OAAOG,mBAAmB,CAAC,QAASL,EACtC,CACF,EAAG,CAAC5C,EAAUO,EAAYE,EAAU,EA4CpCQ,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIjB,EAAU,CACZ,IAAMkD,EAAQ1B,SAAS2B,aAAa,CAAC,MACrCD,CAAAA,EAAME,EAAE,CAAGjD,EACX+C,EAAMxD,SAAS,CAAG,sBAA+CwB,MAAA,CAAzBlB,EAAW,SAAW,IAC9DkD,EAAMG,SAAS,CAAG,mIAKH7D,MAAAA,CADAD,EAAI,2BAGec,MAAAA,CAFnBb,EAAI,qFAEuCqB,MAAAA,CAAxBR,EAAU,gBAA2CQ,MAAAA,CAA7BA,EAASF,CAAC,CAAGN,EAAU,QAG3EZ,MAAAA,CAHiFoB,EAASD,CAAC,CAAGP,EAAU,sDAGtCa,MAAA,CAAlEzB,EAAU,mCAA2CyB,MAAA,CAARzB,EAAQ,UAAU,GAAG,8sBAexE+B,SAASC,IAAI,CAAC6B,WAAW,CAACJ,GAG1B,IAAMK,EAAcL,EAAMM,aAAa,CAAC,qBACpCD,GACFA,EAAYR,gBAAgB,CAAC,QAASxB,GAGxC,IAAMkC,EAAeP,EAAMM,aAAa,CAAC,gBACrCC,GACFA,EAAaV,gBAAgB,CAAC,QAASnB,GAGzC,IAAM8B,EAAgBR,EAAMM,aAAa,CAAC,iBACtCE,GACFA,EAAcX,gBAAgB,CAAC,QAAShB,GAG1C,IAAM4B,EAAcT,EAAMM,aAAa,CAAC,mBACpCG,GACFA,EAAYZ,gBAAgB,CAAC,QAASd,GAIxC,IAAM2B,EAAUV,EAAMM,aAAa,CAAC,mBAChCI,GACFA,EAAQb,gBAAgB,CAAC,YAAa,IAChC1C,EAAY,IACdG,EAAc,IACdE,EAAa,CACXC,EAAGwB,EAAEC,OAAO,CAAGvB,EAASF,CAAC,CACzBC,EAAGuB,EAAEE,OAAO,CAAGxB,EAASD,CAAC,GAE3BuB,EAAEG,cAAc,GAEpB,GAIFY,EAAMH,gBAAgB,CAAC,QAAS,IAC1BZ,EAAE0B,MAAM,GAAKX,GACf3B,GAEJ,GAGA,IAAMuC,EAAeZ,EAAMM,aAAa,CAAC,yBACrCM,GACFA,EAAaf,gBAAgB,CAAC,QAAS,IACrCZ,EAAE4B,eAAe,EACnB,GAIF,IAAMC,EAAuB,KAC3B,IAAMC,EAAMzC,SAASgC,aAAa,CAAC,IAAYtC,MAAA,CAARf,EAAQ,qBAC3C8D,GACFA,CAAAA,EAAIvC,KAAK,CAACwC,SAAS,CAAG,SAAiCrD,MAAAA,CAAxBR,EAAU,gBAA2CQ,MAAAA,CAA7BA,EAASF,CAAC,CAAGN,EAAU,QAA6Ba,MAAA,CAAvBL,EAASD,CAAC,CAAGP,EAAU,OAE/G,EAGM8D,EAAW,IAAIC,iBAAiB,KACpCJ,GACF,GAIA,OAFAG,EAASE,OAAO,CAACnB,EAAO,CAAEoB,WAAY,GAAMC,UAAW,GAAMC,QAAS,EAAK,GAEpE,KACLL,EAASM,UAAU,GACnB,IAAMC,EAAelD,SAASmD,cAAc,CAACxE,GACzCuE,GACFlD,SAASC,IAAI,CAACmD,WAAW,CAACF,EAE9B,CACF,CACF,EAAG,CAAC1E,EAAUT,EAAKC,EAAKC,EAASU,EAASE,EAAWQ,EAAS,EAG9D,IAAMgE,EAAe,6BAGjBC,MAAAA,CADAC,CAxJiB,KACnB,OAAQpF,GACN,IAAK,QAAS,MAAO,aACrB,KAAK,SAGL,QAHe,MAAO,cACtB,KAAK,QAAS,MAAO,aACrB,KAAK,OAAQ,MAAO,YAEtB,CACF,KAgJmB,WAEfqF,MAAAA,CADAF,CAtImB,KACrB,OAAQjF,GACN,IAAK,SAAU,MAAO,cACtB,KAAK,SAAU,MAAO,cACtB,KAAK,OAAQ,MAAO,YACpB,KAAK,SAAU,MAAO,cACtB,SAAS,MAAO,EAClB,CACF,KA8HqB,WAEjBE,MAAAA,CADAiF,CA7HmB,KACrB,OAAQlF,GACN,IAAK,SAAU,MAAO,eACtB,KAAK,WAAY,MAAO,iBACxB,KAAK,OAAQ,MAAO,aACpB,KAAK,QAAS,MAAO,cACrB,KAAK,SAAU,MAAO,eACtB,SAAS,MAAO,EAClB,CACF,KAoHqB,WAEjBJ,MAAAA,CADAK,EAAW,iBAAmB,GAAG,WACvBmB,MAAA,CAAVxB,EAAU,QACZuF,IAAI,GAGFC,EAAY1F,EACZ2F,EAAgB1F,EAEpB,GAAID,GAAOA,EAAI4F,QAAQ,CAAC,aAAc,CACpC,IAAMC,EAAQ7F,EAAI8F,KAAK,CAAC,aACxBJ,EAAYG,CAAK,CAAC,EAAE,CAACJ,IAAI,GACzBE,EAAgBE,CAAK,CAAC,EAAE,CAACJ,IAAI,IAAMxF,CACrC,CAEA,MACE,GAAA8F,EAAAC,IAAA,EAACC,SAAAA,mCAAkB,0BAA0CvE,MAAA,CAAhBwE,CAhKzB,KACpB,OAAQ9F,GACN,IAAK,OAAQ,MAAO,YACpB,KAAK,SAEL,QAFe,MAAO,cACtB,KAAK,QAAS,MAAO,aAEvB,CACF,gBA0JI,GAAA2F,EAAAI,GAAA,EAAC1B,MAAAA,CACC2B,IAAK7E,EACLxB,IAAKA,EACLC,IAAK0F,EAELW,QAAS9F,EAxRE,KACVA,IACLE,EAAY,IAEZK,EAAa,GACbQ,EAAY,CAAEH,EAAG,EAAGC,EAAG,CAAE,GAEzBY,SAASC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,SACjC,EAgRqCmE,KAAAA,EAC/BC,QAAQ,yCAFGlB,CAAAA,GAAAA,EAAAA,IAIZM,GACC,GAAAI,EAAAI,GAAA,EAACK,aAAAA,2CACEb,ogRAmQX,2BCvgBA,IAAMc,EAAc,GAEhB,EACIC,SAAAA,EAAKC,IAAI,CAAoBD,EAAKE,KAAK,EAAI,GAE3CF,EAAKG,QAAQ,EAAIC,MAAMC,OAAO,CAACL,EAAKG,QAAQ,EAErCH,EAAKG,QAAQ,CAACG,GAAG,CAACP,GAAaQ,IAAI,CAAC,IAExC,GAPW,GA+BhBC,EAAgD,OAAC,CAAEP,KAAAA,CAAI,CAAEE,SAAAA,CAAQ,CAAE,CAAA/G,EACrE,MAAO,GAAAiG,EAAAI,GAAA,EAACgB,MAAAA,CAAIjH,UAAW,mCAAwCwB,MAAA,CAALiF,YAASE,GACvE,EAKMO,EAAsC,OAAC,CAAEP,SAAAA,CAAQ,CAAEQ,QAAAA,EAAU,CAAC,CAAE,CAAAvH,EAClE,MAAO,GAAAiG,EAAAI,GAAA,EAACgB,MAAAA,CAAIjH,UAAU,aAAagC,MAAO,CAAEoF,oBAAqB,UAAkB5F,MAAA,CAAR2F,EAAQ,SAAQ,WAAIR,GACnG,EAIO,SAASU,EAAwBzH,CAAuE,KAAvE,CAAE+G,SAAUW,CAAW,CAAEtH,UAAAA,EAAY,EAAE,CAAgC,CAAvEJ,EAC9B,CAAE2H,WAAAA,CAAU,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IA6CjBC,EAAqBC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAmB,EAGlDC,GAAI,OAAC,CAAEnB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC0B,KAAAA,CAAG3H,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FkB,GAAI,OAAC,CAAErB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC4B,KAAAA,CAAG7H,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FmB,GAAI,OAAC,CAAEtB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC6B,KAAAA,CAAG9H,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FoB,GAAI,OAAC,CAAEvB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC8B,KAAAA,CAAG/H,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FqB,GAAI,OAAC,CAAExB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC+B,KAAAA,CAAGhI,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FsB,GAAI,OAAC,CAAEzB,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAqB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACgC,KAAAA,CAAGjI,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC3FuB,EAAG,OAAC,CAAE1B,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAuB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACiC,IAAAA,CAAElI,UAAU,YAAa,GAAG4H,CAAK,UAAGjB,KAC1FwB,EAAG,OAAC,CAAE3B,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAEyB,KAAAA,CAAI,CAAE,GAAGR,EAAkB,CAAAhI,QAAO,GAAAiG,EAAAI,GAAA,EAACkC,IAAAA,CAAEC,KAAMA,EAAMpI,UAAU,eAAemE,OAAQiE,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMC,UAAU,CAAC,SAAU,SAAWjC,KAAAA,EAAWkC,IAAKF,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMC,UAAU,CAAC,SAAU,sBAAwBjC,KAAAA,EAAY,GAAGwB,CAAK,UAAGjB,KACxO4B,GAAI,OAAC,CAAE/B,KAAAA,CAAI,CAAE,GAAGoB,EAAgB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACsC,KAAAA,CAAGvI,UAAU,aAAc,GAAG4H,CAAK,IACzEY,GAAI,OAAC,CAAEhC,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAkB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACuC,KAAAA,CAAGxI,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KACxF8B,GAAI,OAAC,CAAEjC,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAkB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACwC,KAAAA,CAAGzI,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KACxF+B,GAAI,OAAC,CAAElC,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAsB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAACyC,KAAAA,CAAG1I,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAG5FgC,WAAY,OAAC,CAAEnC,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAwB,CAAAhI,EAEtD,MAAO,GAAAiG,EAAAI,GAAA,EAAC0C,aAAAA,CAAW3I,UAAU,qBAAsB,GAAG4H,CAAK,UAAGjB,GAClE,EAEAiC,KAAM,OAAC,CAAEpC,KAAAA,CAAI,CAAEqC,OAAAA,CAAM,CAAE7I,UAAW8I,CAAa,CAAEnC,SAAUoC,CAAY,CAAE,GAAGnB,EAAkB,CAAAhI,EAEpFoJ,EAAQ,iBAAiBC,IAAI,CAACH,GAAiB,IAErD,GADgB,CAACD,GAAUG,EACd,CACT,IAAME,EAAWF,CAAK,CAAC,EAAE,CACnBG,EAAaC,OAAOL,MAAAA,EAAAA,EAAgB,IAAIM,OAAO,CAAC,MAAO,IAE7D,MACI,GAAAxD,EAAAC,IAAA,EAACmB,MAAAA,CAAIjH,UAAU,uCACX,GAAA6F,EAAAI,GAAA,EAACqD,EAAAA,CAAiBA,CAAAA,CAACtH,MAAQuF,EAAagC,EAAAA,CAAWA,CAAGC,EAAAA,CAAQA,CAAUN,SAAUA,EAAUO,OAAO,MAAMC,gBAAe,GAACC,YAAa,CAAEC,OAAQ,IAAKC,QAAS,gBAAiBC,aAAc,mBAAoBC,gBAAiB,aAAe,EAAGC,aAAc,CAAEhI,MAAO,CAAEiI,WAAY,mBAAoBC,SAAU,SAAUC,WAAY,KAAO,CAAE,EAAI,GAAGvC,CAAK,UAC7VuB,IAEL,GAAAtD,EAAAC,IAAA,EAACsE,SAAAA,CAAO3D,KAAK,SAASzG,UAAU,sBAAsBmG,QAN3C,IAAMkE,UAAUC,SAAS,CAACC,SAAS,CAACpB,GAM4BqB,aAAW,YAAYC,MAAM,iBAAO,IAAC,GAAA5E,EAAAI,GAAA,EAACyE,EAAAA,CAAIA,CAAAA,CAACzK,KAAM,KAAM,SAE9I,CACA,MAAO,GAAA4F,EAAAI,GAAA,EAAC2C,OAAAA,CAAK5I,UAAW,uBAA2CwB,MAAA,CAApBsH,GAAiB,IAAO,GAAGlB,CAAK,UAAGmB,GACtF,EAEAxE,IAAK,OAAC,CAAEiC,KAAAA,CAAI,CAAE3G,IAAAA,CAAG,CAAEC,IAAAA,CAAG,CAAE,GAAG8H,EAAiB,CAAAhI,EAExC,GAAI,CAACC,EAAK,MAAO,GAAAgG,EAAAI,GAAA,EAAC0E,EAAAA,mBAAmBA,CAAAA,CAAC3K,UAAU,iBAChD,IAAM4K,EAAY,iBAAO9K,EAAmBA,EAAM,GAC9C+K,EAAmD,QACnDC,EAA0C,SAC1CC,EAAiC,SACjCC,EAAiC,OACjCC,EAAe,GACfC,EAAUN,EACVO,EAAa,GAChB,GAAIP,EAAUlF,QAAQ,CAAC,KAAM,CACzB,IAAMC,EAAQiF,EAAUhF,KAAK,CAAC,KAC9BsF,EAAUvF,CAAK,CAAC,EAAE,CAACJ,IAAI,GACvBI,EAAMyF,KAAK,CAAC,GAAGC,OAAO,CAACC,IACnB,GAAM,CAACvI,EAAK2D,EAAM,CAAG4E,EAAK5F,QAAQ,CAAC,KAAO4F,EAAK1F,KAAK,CAAC,IAAK,GAAK,CAAC0F,EAAK/F,IAAI,GAAI,OAAO,CAC9EgG,EAAaxI,EAAIwC,IAAI,GAAGiG,WAAW,GACnCC,EAAe/E,EAAMnB,IAAI,GAAG8D,OAAO,CAAC,eAAgB,IAC1D,OAAQkC,GACJ,IAAK,OAAY,CAAC,QAAS,SAAU,QAAS,OAAO,CAAC7F,QAAQ,CAAC+F,IAAeZ,CAAAA,EAAYY,CAAAA,EAAqB,KAC/G,KAAK,QAAa,CAAC,OAAQ,SAAU,QAAQ,CAAC/F,QAAQ,CAAC+F,IAAeX,CAAAA,EAAaW,CAAAA,EAAqB,KACxG,KAAK,SAAc,CAAC,SAAU,OAAO,CAAC/F,QAAQ,CAAC+F,IAAeV,CAAAA,EAAcU,CAAAA,EAAqB,KACjG,KAAK,SAAc,CAAC,OAAQ,SAAS,CAAC/F,QAAQ,CAAC+F,IAAeT,CAAAA,EAAcS,CAAAA,EAAqB,KACjG,KAAK,UAAWR,EAAeQ,EAAc,KAC7C,KAAK,WAAYN,EAAaM,UAAAA,CAClC,CACJ,EACJ,CACA,MAAS,GAAA5F,EAAAC,IAAA,EAACmB,MAAAA,CAAIjH,UAAW,sDAAiEwB,MAAA,CAAXsJ,aAAc,IAAC,GAAAjF,EAAAI,GAAA,EAACtG,EAAaA,CAACE,IAAKA,EAAKC,IAAKoL,EAASnL,QAASkL,EAAchL,KAAM4K,EAAW1K,OAAQ4K,EAAa3K,OAAQ4K,EAAa3K,SAAU8K,EAAa,GAAGvD,CAAK,GAAI,MAC/P,EAEA8D,MAAO,OAAC,CAAElF,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAmB,CAAAhI,QAAO,GAAAiG,EAAAC,IAAA,EAACmB,MAAAA,CAAIjH,UAAU,kCAAwB,IAAC,GAAA6F,EAAAI,GAAA,EAACyF,QAAAA,CAAM1L,UAAU,gBAAiB,GAAG4H,CAAK,UAAGjB,IAAiB,QAC7JgF,GAAI,OAAC,CAAEnF,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAuB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC0F,KAAAA,CAAG3L,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAC7FiF,GAAI,OAAC,CAAEpF,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAuB,CAAAhI,QAAK,GAAAiG,EAAAI,GAAA,EAAC2F,KAAAA,CAAG5L,UAAU,aAAc,GAAG4H,CAAK,UAAGjB,KAG7FM,IAAK,QAQqBT,KARpB,CAAEA,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAiB,CAAAhI,EAExC,GAAI,CAAC4G,EAGD,MAAO,GAAAX,EAAAI,GAAA,EAACgB,MAAAA,CAAK,GAAGW,CAAK,UAAGjB,IAG5B,IAAMkF,EAAAA,OAAgBrF,CAAAA,EAAAA,EAAKsF,UAAU,GAAftF,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAiB,CAAC,wBAAwB,CAGhE,GAAIqF,oBAAAA,EAAqC,CACrC,IAAME,EAAcvF,EAAKsF,UAAU,CAAC,oBAAoB,CACxD,GAAI,iBAAOC,EACN,MAAO,GAAAlG,EAAAI,GAAA,EAACe,EAAAA,CAAeP,KAAMsF,WAA6CpF,GAEnF,CAGA,GAAIkF,eAAAA,EAAgC,CAChC,IAAMG,EAAcxF,EAAKsF,UAAU,CAAC,eAAe,CAC7C3E,EAAU,iBAAO6E,EAA2BC,SAASD,EAAa,IAAM,EAEvEE,EAAgBC,EAAAA,QAAQA,CAACC,OAAO,CAACzF,GAAU0F,MAAM,CAACC,QAE3BC,EAACD,QAD1BE,CAAAA,EAAAA,EAAAA,cAAAA,EAAeF,IACdA,CAAAA,QAAAA,EAAM7F,IAAI,EAAK,QAAU6F,CAAAA,EAAAA,EAAM1E,KAAK,GAAX0E,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAADC,CAAAA,EAAAE,EAAsBzM,SAAS,GAA/BuM,KAAA,IAAAA,EAAA,OAAAA,EAAiC7G,QAAQ,CAAC,8BAExE,MAAO,GAAAG,EAAAI,GAAA,EAACiB,EAAAA,CAAUC,QAASA,WAAU+E,GACzC,CAGA,MAAO,GAAArG,EAAAI,GAAA,EAACgB,MAAAA,CAAK,GAAGW,CAAK,UAAGjB,GAC5B,EAGA+F,KAAM,OAAC,CAAElG,KAAAA,CAAI,CAAEG,SAAAA,CAAQ,CAAE,GAAGiB,EAAkB,CAAAhI,EAC3C,MAAO,GAAAiG,EAAAI,GAAA,EAACyG,OAAAA,CAAK1M,UAAU,eAAgB,GAAG4H,CAAK,UAAGjB,GACrD,CAEJ,GAAI,CAACY,EAAW,EAGVoF,EAA+B,CAACC,EAAAA,CAASA,CAAEC,EAAAA,CAAUA,CAAEC,EAAAA,CAAkBA,CAAC,CAC1EC,EAA+B,CAEjCC,EAAAA,CAASA,CACTC,EAAAA,CAAUA,CACV,CAACC,EAAAA,CAAsBA,CAAE,CAAEC,SAAU,MAAO,EAAE,CAC9CC,EAAAA,CAAWA,CAvK2C,IAC/C,IACJC,CAAAA,EAAAA,EAAAA,EAAAA,EAAMC,EAAM,UAAW,IAElB,GAAI9G,eAAAA,EAAK+G,OAAO,CAAmB,KACZ/G,EAAnB,IAAMgH,EAAAA,OAAahH,CAAAA,EAAAA,EAAKG,QAAQ,GAAbH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAe,CAAC,EAAE,CACrC,GAAIgH,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY/G,IAAI,IAAK,WAAa+G,MAAAA,EAAWD,OAAO,CAAU,CAE7D,IAAME,EAAeC,EADUF,GAAYjI,IAAI,GACdyD,KAAK,CAAC,oCACvC,GAAGyE,EAAc,CACd,IAAMhH,EAAOgH,CAAY,CAAC,EAAE,CAC5BjH,EAAK+G,OAAO,CAAG,MACf/G,EAAKsF,UAAU,CAAG,CACd,wBAAyB,kBACzB,oBAAqBrF,EACrBzG,UAAW,CAAC,kBAAoB,mBAAuBwB,MAAA,CAALiF,GAAO,EAE7DD,EAAKG,QAAQ,CAAGH,EAAKG,QAAQ,CAACyE,KAAK,CAAC,EACvC,CACL,CACJ,CAGC,GAAI5E,MAAAA,EAAK+G,OAAO,CAAU,CAEtB,IAAMI,EAAYD,EADclH,GAAMjB,IAAI,GACZyD,KAAK,CAAC,0CACpC,GAAI2E,EAAW,CACX,IAAMxG,EAAUwG,CAAS,CAAC,EAAE,CAAG1B,SAAS0B,CAAS,CAAC,EAAE,CAAE,IAAM,CAC5DnH,CAAAA,EAAK+G,OAAO,CAAG,MACf/G,EAAKsF,UAAU,CAAG,CACd,wBAAyB,aACzB,eAAgB1C,OAAOjC,GACvBnH,UAAW,CAAC,aAAa,EAE7BwG,EAAKG,QAAQ,CAAG,EAAE,CAE1B,CACN,EACH,EAmIH,CAGD,MACI,GAAAd,EAAAI,GAAA,EAACgB,MAAAA,CAAIjH,UAAW,iBAA2BwB,MAAA,CAAVxB,YAC7B,GAAA6F,EAAAI,GAAA,EAAC2H,EAAAA,EAAaA,CAAAA,CACVjH,SAAUW,EACVuG,WAAYpG,EACZkF,cAAeA,EACfI,cAAeA,KAM/B,CCxSA,IAAMe,EAAU,GAAIC,WAAAA,CAAOA,CAAC,CAC1BC,UAAW,oBACXC,QAAS,GACX,GAOO,eAAeC,EAAkBC,CAAY,CAAEC,CAAY,EAChE,GAAI,CACF,GAAM,CAAEC,KAAAA,CAAI,CAAE,CAAG,MAAMP,EAAQQ,KAAK,CAACC,GAAG,CAAC,CAAEC,MAAOL,EAAMC,KAAAA,CAAK,GAC7D,OAAOC,CACT,CAAE,MAAOI,EAAK,CAEZ,OADAC,QAAQC,KAAK,CAAC,2CAAmDP,MAAAA,CAARD,EAAK,KAAQ3M,MAAA,CAAL4M,GAAQK,GAClE,IACT,CACF,CAoBO,eAAeG,EAAsBT,CAAY,CAAEC,CAAY,EACpE,GAAI,CACF,GAAM,CAAEC,KAAAA,CAAI,CAAE,CAAG,MAAMP,EAAQQ,KAAK,CAACO,gBAAgB,CAAC,CAAEL,MAAOL,EAAMC,KAAAA,CAAK,GAC1E,OAAOC,CACT,CAAE,MAAOI,EAAK,CAEZ,OADAC,QAAQC,KAAK,CAAC,8CAAsDP,MAAAA,CAARD,EAAK,KAAQ3M,MAAA,CAAL4M,GAAQK,GACrE,EAAE,CAEb,CAkBO,eAAeK,EAAmBX,CAAY,CAAEC,CAAY,EACjE,GAAI,CACF,GAAM,CAAEC,KAAAA,CAAI,CAAE,CAAG,MAAMP,EAAQQ,KAAK,CAACS,aAAa,CAAC,CAAEP,MAAOL,EAAMC,KAAAA,CAAK,GACvE,OAAOC,CACT,CAAE,MAAOI,EAAK,CAEZ,OADAC,QAAQC,KAAK,CAAC,uCAA+CP,MAAAA,CAARD,EAAK,KAAQ3M,MAAA,CAAL4M,GAAQK,GAC9D,CAAC,CACV,CACF,CC4EA,IAAAO,EA5IwD,OAAC,CAAEC,IAAAA,CAAG,CAAE,CAAArP,EACxD,CAACsP,EAAYC,EAAc,CAAG3O,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MACtDiE,EAAWnD,CAAAA,EAAAA,EAAAA,MAAAA,EAAoC,MAC/C8N,EAAkB9N,CAAAA,EAAAA,EAAAA,MAAAA,EAAoB,MACtC+N,EAAyB/N,CAAAA,EAAAA,EAAAA,MAAAA,EAAsB,MAC/CgO,EAAwBhO,CAAAA,EAAAA,EAAAA,MAAAA,EAA2B,MACnDiO,EAAyBjO,CAAAA,EAAAA,EAAAA,MAAAA,EAAmD,MAC5EkO,EAAoBlO,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,IAE3BmO,EAAoBC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACpCF,EAAkBG,OAAO,CAAG,GAC5BL,EAAsBK,OAAO,CAAG,KAC5BJ,EAAuBI,OAAO,GAChCvM,OAAOG,mBAAmB,CAAC,SAAUgM,EAAuBI,OAAO,EACnEJ,EAAuBI,OAAO,CAAG,MAEI,OAAnCN,EAAuBM,OAAO,GAChCvM,OAAOwM,YAAY,CAACP,EAAuBM,OAAO,EAClDN,EAAuBM,OAAO,CAAG,KAErC,EAAG,EAAE,EAECE,EAAyBH,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACzC,IAAMI,EAAW1M,OAAO2M,gBAAgB,CAACC,GAASC,eAAe,CACjE,GAAI,CAACH,EAAU,OAAO,EACtB,IAAMI,EAASC,WAAWL,GAC1B,OAAOM,OAAOC,QAAQ,CAACH,GAAUA,EAAS,CAC5C,EAAG,EAAE,EAGL3O,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACJkD,EAASkL,OAAO,EAAElL,EAASkL,OAAO,CAAC5K,UAAU,GASjDN,EAASkL,OAAO,CAAG,IAAIW,qBARE,IACrB,IAAIC,EACJ,IAAK,IAAMC,KAASC,EAAS,CACzB,GAAID,EAAME,cAAc,CAAE,CAAEH,EAAmBC,EAAO,KAAO,CACzD,EAACD,GAAoBC,EAAMG,kBAAkB,CAACC,GAAG,CAAGL,EAAiBI,kBAAkB,CAACC,GAAG,GAAIL,CAAAA,EAAmBC,CAAAA,CAC1H,CACID,GAAoB,CAACf,EAAkBG,OAAO,EAAER,EAAcoB,EAAiBpM,MAAM,CAACT,EAAE,CAChG,EAC8D,CAAEmN,WAAY,sBAAuBC,UAAW,CAAE,GAChH,GAAM,CAAEnB,QAASoB,CAAe,CAAE,CAAGtM,EAC/BuM,EAA8B,EAAE,CAKtC,OAJA/B,EAAI5D,OAAO,CAAC,IACV,IAAM2E,EAAUlO,SAASmD,cAAc,CAACgM,EAAKC,IAAI,EAC7ClB,IAAWe,MAAAA,GAAAA,EAAiBpM,OAAO,CAACqL,GAAUgB,EAAiBG,IAAI,CAACnB,GAC1E,GACO,KAAQgB,EAAiB3F,OAAO,CAAC+F,GAAML,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBM,SAAS,CAACD,IAAML,MAAAA,GAAAA,EAAiBhM,UAAU,EAAI,CAChH,EAAG,CAACkK,EAAI,EAGP1N,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI2N,GAAcE,EAAgBO,OAAO,CAAE,CACzC,IAAM2B,EAAalC,EAAgBO,OAAO,CAAC7L,aAAa,CAAoB,YAAuBtC,MAAA,CAAX0N,EAAW,OACnG,GAAIoC,EAAY,CACZ,IAAMC,EAAgBnC,EAAgBO,OAAO,CAAC6B,qBAAqB,GAC7DC,EAAWH,EAAWE,qBAAqB,EAC/BC,CAAAA,EAASb,GAAG,EAAIW,EAAcX,GAAG,EAAIa,EAASC,MAAM,EAAIH,EAAcG,MAAM,EAC5EJ,EAAWK,cAAc,CAAC,CAAExE,SAAU,SAAUyE,MAAO,SAAU,EACvF,CACF,CACF,EAAG,CAAC1C,EAAW,EAGhB,IAAM2C,EAAe,CAACpP,EAAwCyO,KAC5DzO,EAAEG,cAAc,GAChB,IAAMoN,EAAUlO,SAASmD,cAAc,CAACiM,GACxC,GAAI,CAAClB,EAAS,OAEdP,IACAD,EAAkBG,OAAO,CAAG,GAC5BL,EAAsBK,OAAO,CAAGK,EAEhC,IAAM8B,EAAgB,KACpB,IAAMC,EAAWzC,EAAsBK,OAAO,CAC9C,GAAI,CAACoC,EAAU,OACf,IAAMC,EAAYnC,EAAuBkC,GACnCE,EAAWxQ,KAAKyQ,GAAG,CAACH,EAASP,qBAAqB,GAAGZ,GAAG,CAAGoB,GAC3DG,EAAgB/O,OAAOgP,WAAW,CAAGhP,OAAOiP,OAAO,EAAIvQ,SAASwQ,eAAe,CAACC,YAAY,CAAG,EACjGN,CAAAA,GAAY,GAAKE,CAAAA,GACnB1C,GAEJ,CAEAF,CAAAA,EAAuBI,OAAO,CAAGmC,EACjC1O,OAAOC,gBAAgB,CAAC,SAAUyO,EAAe,CAAExO,QAAS,EAAK,GAEjE+L,EAAuBM,OAAO,CAAGvM,OAAOoP,UAAU,CAAC/C,EAAmB,KAEtEN,EAAc+B,GACd9N,OAAOqP,OAAO,CAACC,YAAY,CAAC,KAAM,GAAI,IAASlR,MAAA,CAAL0P,IAC1ClB,EAAQ2B,cAAc,CAAC,CAAExE,SAAU,SAAUyE,MAAO,OAAQ,GAC5De,sBAAsB,IAAMb,IAC9B,QAQA,CANAvQ,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IACD,KACLkO,GACF,EACC,CAACA,EAAkB,EAElB,GAAQR,IAAAA,EAAI2D,MAAM,EAGpB,GAAA/M,EAAAC,IAAA,EAAC+M,QAAAA,CAAM3M,IAAKkJ,yEACV,GAAAvJ,EAAAI,GAAA,EAAC6B,KAAAA,uDAA2B,0BAC5B,GAAAjC,EAAAI,GAAA,EAACuC,KAAAA,oDACEyG,EAAInI,GAAG,CAAC,GACP,GAAAjB,EAAAI,GAAA,EAACyC,KAAAA,CAA6C1G,MAAO,CAAE8Q,YAAa,GAAwBtR,MAAA,CAArB,CAACyP,EAAK8B,KAAK,CAAG,GAAK,EAAE,MAAK,0DAC/F,GAAAlN,EAAAC,IAAA,EAACqC,IAAAA,CAAEC,KAAM,IAAc5G,MAAA,CAAVyP,EAAKC,IAAI,EAAI/K,QAAS,GAAO0L,EAAapP,EAAGwO,EAAKC,IAAI,oCAAc,kBAAmE1P,MAAA,CAAjD0N,IAAe+B,EAAKC,IAAI,CAAG,SAAW,sBACtID,EAAK8B,KAAK,CAAG,GAAO,GAAAlN,EAAAI,GAAA,EAAC+M,OAAAA,mCAAgB,qBAA8DxR,MAAA,CAAzC0N,IAAe+B,EAAKC,IAAI,CAAG,SAAW,aAAM,MACvG,GAAArL,EAAAI,GAAA,EAAC+M,OAAAA,qDAA4B/B,EAAKgC,IAAI,OAHjChC,EAAKC,IAAI,KAQtB,GAAArL,EAAAC,IAAA,EAACmB,MAAAA,uDAA2B,IAAC,GAAApB,EAAAI,GAAA,EAAC+M,OAAAA,sDAA4B,oBAAsB,2tKAf/C,IAqCvC,ECkSAE,EA5a8C,OAAC,CAAEjE,IAAAA,CAAG,CAAE,CAAArP,EAC9C,CAACsP,EAAYC,EAAc,CAAG3O,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MACtDiE,EAAWnD,CAAAA,EAAAA,EAAAA,MAAAA,EAAoC,MAC/C6R,EAAsB7R,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAC7C+N,EAAyB/N,CAAAA,EAAAA,EAAAA,MAAAA,EAAsB,MAC/CgO,EAAwBhO,CAAAA,EAAAA,EAAAA,MAAAA,EAA2B,MACnDiO,EAAyBjO,CAAAA,EAAAA,EAAAA,MAAAA,EAAmD,MAC5EkO,EAAoBlO,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,IAE3BmO,EAAoBC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACpCF,EAAkBG,OAAO,CAAG,GAC5BL,EAAsBK,OAAO,CAAG,KAC5BJ,EAAuBI,OAAO,GAChCvM,OAAOG,mBAAmB,CAAC,SAAUgM,EAAuBI,OAAO,EACnEJ,EAAuBI,OAAO,CAAG,MAEI,OAAnCN,EAAuBM,OAAO,GAChCvM,OAAOwM,YAAY,CAACP,EAAuBM,OAAO,EAClDN,EAAuBM,OAAO,CAAG,KAErC,EAAG,EAAE,EAECE,EAAyBH,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACzC,IAAMI,EAAW1M,OAAO2M,gBAAgB,CAACC,GAASC,eAAe,CACjE,GAAI,CAACH,EAAU,OAAO,EACtB,IAAMI,EAASC,WAAWL,GAC1B,OAAOM,OAAOC,QAAQ,CAACH,GAAUA,EAAS,CAC5C,EAAG,EAAE,EAECkD,EAAc1L,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC1B,GAAI,CAACd,MAAMC,OAAO,CAACoI,GAAM,MAAO,EAAE,CAElC,IAAMoE,EAAapE,EAChB5C,MAAM,CAAC,GAAU4E,GAAQA,EAAKC,IAAI,EAAID,EAAKgC,IAAI,EAC/CnM,GAAG,CAAC,GAAW,EACd,GAAGmK,CAAI,CACP8B,MAAO,iBAAO9B,EAAK8B,KAAK,CAAgB9B,EAAK8B,KAAK,CAAG,CACvD,IAEIO,EAAcD,EAAWhH,MAAM,CAAC,GAAU4E,EAAK8B,KAAK,EAAI,GACxDQ,EAASD,EAAYV,MAAM,EAAI,EAAIU,EAAcD,EAEjDG,EAAgC,EAAE,CAClCC,EAAY,IAAIC,IAEtB,IAAK,IAAMzC,KAAQsC,EACjB,IAAIE,EAAUE,GAAG,CAAC1C,EAAKC,IAAI,IAC3BsC,EAAOrC,IAAI,CAACF,GACZwC,EAAUG,GAAG,CAAC3C,EAAKC,IAAI,EACnBsC,EAAOZ,MAAM,EAAI,IAAI,MAG3B,OAAOY,CACT,EAAG,CAACvE,EAAI,EAGN1N,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACFkD,EAASkL,OAAO,EAAElL,EAASkL,OAAO,CAAC5K,UAAU,GAUjD,IAAM8O,EAAe5H,SAAS6H,iBADUhS,SAASwQ,eAAe,EAAEyB,gBAAgB,CAAC,mBACtC1K,OAAO,CAAC,KAAM,IAAI9D,IAAI,GAAI,IACjEyO,EAAe5D,OAAOC,QAAQ,CAACwD,GAAgBA,EAAe,GAAK,GACzEpP,CAAAA,EAASkL,OAAO,CAAG,IAAIW,qBAXE,IACpB,IAAIC,EACJ,IAAK,IAAMC,KAASC,EAAS,CACzB,GAAID,EAAME,cAAc,CAAE,CAAEH,EAAmBC,EAAO,KAAO,CACzD,EAACD,GAAoBC,EAAMG,kBAAkB,CAACC,GAAG,CAAGL,EAAiBI,kBAAkB,CAACC,GAAG,GAAIL,CAAAA,EAAmBC,CAAAA,CAC1H,CACID,GAAoB,CAACf,EAAkBG,OAAO,EAAER,EAAcoB,EAAiBpM,MAAM,CAACT,EAAE,CACjG,EAI8D,CAAEmN,WAAY,IAAiBrP,MAAA,CAAbwS,EAAa,mBAAkBlD,UAAW,EAAI,GAC9H,GAAM,CAAEnB,QAASoB,CAAe,CAAE,CAAGtM,EAC/BuM,EAA8B,EAAE,CAKtC,OAJAoC,EAAY/H,OAAO,CAAC,IACf,IAAM2E,EAAUlO,SAASmD,cAAc,CAACgM,EAAKC,IAAI,EAC7ClB,IAAWe,MAAAA,GAAAA,EAAiBpM,OAAO,CAACqL,GAAUgB,EAAiBG,IAAI,CAACnB,GAC7E,GACO,KAAQgB,EAAiB3F,OAAO,CAAC+F,GAAML,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBM,SAAS,CAACD,IAAML,MAAAA,GAAAA,EAAiBhM,UAAU,EAAI,CAClH,EAAG,CAACqO,EAAY,EAGlB,IAAMa,EAAiB,IACrB,IAAM7C,EAAKtP,SAASmD,cAAc,CAACiM,GACnC,GAAI,CAACE,EAAI,OAET3B,IACAD,EAAkBG,OAAO,CAAG,GAC5BL,EAAsBK,OAAO,CAAGyB,EAEhC,IAAMU,EAAgB,KACpB,IAAMC,EAAWzC,EAAsBK,OAAO,CAC9C,GAAI,CAACoC,EAAU,OACf,IAAMC,EAAYnC,EAAuBkC,GACnCE,EAAWxQ,KAAKyQ,GAAG,CAACH,EAASP,qBAAqB,GAAGZ,GAAG,CAAGoB,GAC3DG,EAAgB/O,OAAOgP,WAAW,CAAGhP,OAAOiP,OAAO,EAAIvQ,SAASwQ,eAAe,CAACC,YAAY,CAAG,EACjGN,CAAAA,GAAY,GAAKE,CAAAA,GACnB1C,GAEJ,CAEAF,CAAAA,EAAuBI,OAAO,CAAGmC,EACjC1O,OAAOC,gBAAgB,CAAC,SAAUyO,EAAe,CAAExO,QAAS,EAAK,GAEjE+L,EAAuBM,OAAO,CAAGvM,OAAOoP,UAAU,CAAC/C,EAAmB,MAEtEN,EAAc+B,GACd9N,OAAOqP,OAAO,CAACC,YAAY,CAAC,KAAM,GAAI,IAASlR,MAAA,CAAL0P,IAI1C,IAAM2C,EAAe5H,SAAS6H,iBADUhS,SAASwQ,eAAe,EAAEyB,gBAAgB,CAAC,mBACtC1K,OAAO,CAAC,KAAM,IAAI9D,IAAI,GAAI,IACjEyO,EAAe5D,OAAOC,QAAQ,CAACwD,GAAgBA,EAAe,GAAK,IAGnEK,EAAY9Q,OAAOiP,OAAO,CAAGjB,EAAGI,qBAAqB,GAAGZ,GAAG,CAAGoD,EACpE5Q,OAAO+Q,QAAQ,CAAC,CAAEvD,IAAKnP,KAAKa,GAAG,CAAC,EAAG4R,GAAY/G,SAAU,QAAS,GAClEwF,sBAAsB,IAAMb,IAC9B,QAuBA,CApBAvQ,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI2N,GAAciE,EAAoBxD,OAAO,CAAE,CAC3C,IAAMyE,EAAkBjB,EAAoBxD,OAAO,CAAC7L,aAAa,CAAoB,eAA0BtC,MAAA,CAAX0N,EAAW,OAC3GkF,GAAmBA,EAAgBzC,cAAc,CAAC,CAAExE,SAAU,SAAUyE,MAAO,SAAU,EACjG,CACF,EAAG,CAAC1C,EAAW,EAEf3N,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACJ,CAAC2N,GAAckE,EAAYR,MAAM,CAAG,GACtCzD,EAAciE,CAAW,CAAC,EAAE,CAAClC,IAAI,CAErC,EAAG,CAACkC,EAAalE,EAAW,EAG5B3N,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IACD,KACLkO,GACF,EACC,CAACA,EAAkB,EAElB,CAAC2D,GAAeA,EAAYR,MAAM,CAAG,GAAU,KAGjD,GAAA/M,EAAAC,IAAA,EAACmB,MAAAA,CAAIf,IAAKiN,+DACPC,EAAYtM,GAAG,CAAC,GAab,GAAAjB,EAAAC,IAAA,EAACsE,SAAAA,CAECiK,YAAWpD,EAAKC,IAAI,CACpB/K,QAAS,IAAM8N,EAAehD,EAAKC,IAAI,EACvCzG,MAAOwG,EAAKgC,IAAI,CAEhBzI,aAAY,aAAuBhJ,MAAA,CAAVyP,EAAKgC,IAAI,EAClCqB,eAAcpF,IAAe+B,EAAKC,IAAI,mCAF3BqD,CAAAA,CAhBW,KAExB,IAAMC,EAAa,SAAoBhT,MAAA,CAAXyP,EAAK8B,KAAK,EAChC0B,EAAaxD,IAAAA,EAAK8B,KAAK,CAAS,eACrB9B,IAAAA,EAAK8B,KAAK,CAAS,kBACnB,gBACX2B,EAAcxF,IAAe+B,EAAKC,IAAI,CAAG,SAAW,WAC1D,MAAO,GAAgBsD,MAAAA,CANL,oBAME,KAAiBC,MAAAA,CAAdD,EAAW,KAAiBE,MAAAA,CAAdD,EAAW,KAAejT,MAAA,CAAZkT,EACrD,MAQeH,EAAAA,YAIV,GAAA1O,EAAAI,GAAA,EAAC+M,OAAAA,mDACD,GAAAnN,EAAAI,GAAA,EAAC+M,OAAAA,wDAA+B/B,EAAKgC,IAAI,KATrChC,EAAKC,IAAI,i1YA6Q1B,EC1WA,IAAMyD,GAAmB,IACrB,GAAI,iBAAOjO,EAAoB,OAAOA,EACtC,GAAI,iBAAOA,GAAsB,CAACA,EAAO,OAAO,EAEhD,IAAMkO,EAAelO,EAAM8E,WAAW,GAAGjG,IAAI,GAAG8D,OAAO,CAAC,KAAM,IAC1DwL,EAAe1E,WAAWyE,UAC9B,MAAUC,GAAsB,GAE5BD,EAAaE,QAAQ,CAAC,KACtBD,GAAgB,IACTD,EAAaE,QAAQ,CAAC,MAC7BD,CAAAA,GAAgB,KAEbpT,KAAKsT,KAAK,CAACF,GACtB,EAQMG,GAAe,CAACC,EAAqCC,KACvD,GAAI,CAACD,EAAS,OAAO,EAErB,IAAME,EAAe,CAACD,EAAS1J,WAAW,GAAK,UAAkBhK,MAAA,CAAT0T,GAAW1J,WAAW,GAAG,CAGjF,GAAIyJ,EAAQG,KAAK,EAAIxO,MAAMC,OAAO,CAACoO,EAAQG,KAAK,EAC5C,IAAK,IAAMC,KAAYF,EAAc,CACjC,IAAMG,EAAOL,EAAQG,KAAK,CAACG,IAAI,CAACC,QAAMA,QAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAIC,KAAK,GAATD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAWjQ,IAAI,GAAGiG,WAAW,MAAO6J,IAC1E,GAAIC,GAAQ,KAAsB,IAAfA,EAAK5O,KAAK,CACzB,OAAOiO,GAAiBW,EAAK5O,KAAK,CAE1C,CAIJ,IAAMgP,EAAiBR,EAAS1J,WAAW,GAC3C,GAAIyJ,EAAQU,cAAc,CAACD,IAAmB,KAA4C,IAArCT,CAAgB,CAACS,EAAe,CACjF,OAAOf,GAAiBM,CAAgB,CAACS,EAAe,EAG5D,IAAME,EAAmB,SAAkBpU,MAAA,CAAT0T,UAClC,EAAYS,cAAc,CAACC,IAAqB,KAA8C,IAAvCX,CAAgB,CAACW,EAAiB,CAC7EjB,GAAiBM,CAAgB,CAACW,EAAiB,EAGxD,CACX,EAQMC,GAAc,SAACC,CAAAA,MAAeC,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAW,EAC3C,GAAI,CAACD,GAASA,IAAAA,EAAa,MAAO,UAGlC,IAAME,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAK,CAE/CC,EAAIxU,KAAKyU,KAAK,CAACzU,KAAK0U,GAAG,CAACL,GAASrU,KAAK0U,GAAG,CAJrC,OAKJC,EAAYH,EAAID,EAAMpD,MAAM,CAAGqD,EAAID,EAAMpD,MAAM,CAAG,EAElDyD,EAAkBlG,WAAW,CAAC2F,EAAQrU,KAAK6U,GAAG,CAP1C,KAO8CF,EAAAA,EAAYG,OAAO,CANhER,EAAW,EAAI,EAAIA,IAO9B,MAAO,GAAsBC,MAAAA,CAAnBK,EAAgB,KAAoB7U,MAAA,CAAjBwU,CAAK,CAACI,EAAU,CACjD,EAOMI,GAAU,IACZ,GAAI,CAACC,EAAM,MAAO,MAClB,GAAI,CACA,IAAMC,EAAU,IAAIC,KAAKF,GACnBG,EAAUnV,KAAKyU,KAAK,CAAC,CAAC,IAAIS,OAAOE,OAAO,GAAKH,EAAQG,OAAO,IAAM,KAExE,GAAID,EAAU,EAAG,MAAO,gBACxB,GAAIA,EAAU,GAAI,MAAO,GAAWpV,MAAA,CAARoV,EAAQ,YAEpC,IAAIE,EAAWF,EAAU,QACzB,GAAIE,GAAY,EAAG,MAAO,GAA6BrV,MAAAA,CAA1BA,KAAKyU,KAAK,CAACY,GAAU,OAAyCtV,MAAA,CAApCC,KAAKyU,KAAK,CAACY,GAAY,EAAI,IAAM,GAAG,QAG3F,GAAIA,CADJA,EAAWF,EAAU,SACL,EAAG,MAAO,GAA6BnV,MAAAA,CAA1BA,KAAKyU,KAAK,CAACY,GAAU,OAAyCtV,MAAA,CAApCC,KAAKyU,KAAK,CAACY,GAAY,EAAI,IAAM,GAAG,QAG3F,GAAIA,CADJA,EAAWF,EAAU,QACL,EAAG,MAAO,GAA8BnV,MAAAA,CAA3BA,KAAKyU,KAAK,CAACY,GAAU,QAA0CtV,MAAA,CAApCC,KAAKyU,KAAK,CAACY,GAAY,EAAI,IAAM,GAAG,QAG5F,GAAIA,CADJA,EAAWF,EAAU,OACL,EAAG,MAAO,GAA6BnV,MAAAA,CAA1BA,KAAKyU,KAAK,CAACY,GAAU,OAAyCtV,MAAA,CAApCC,KAAKyU,KAAK,CAACY,GAAY,EAAI,IAAM,GAAG,QAG3F,GAAIA,CADJA,EAAWF,EAAU,KACL,EAAG,MAAO,GAA8BnV,MAAAA,CAA3BA,KAAKyU,KAAK,CAACY,GAAU,QAA0CtV,MAAA,CAApCC,KAAKyU,KAAK,CAACY,GAAY,EAAI,IAAM,GAAG,QAE5F,MAAO,GAAuBtV,MAAA,CAApBC,KAAKyU,KAAK,CAACU,GAAS,WAClC,CAAE,MAAOjI,EAAO,CAEZ,OADAD,QAAQC,KAAK,CAAC,kCAAmCA,GAC1C,KACX,CACJ,EAIe,SAASoI,GAAoBnX,CAA8E,MAoLtGoX,EAHFA,EACAA,EACGA,EACDA,EAAAA,EACGA,EACFA,EACCA,EACDA,EAAAA,EAAAA,KAxLuB,CAAE/B,QAAAA,CAAO,CAAEgC,gBAAAA,EAAkB,EAAE,CAAEhI,IAAKiI,EAAU,EAAE,CAA4B,CAA9EtX,EAGlC,CAACoX,EAAYG,EAAc,CAAG3W,CAAAA,EAAAA,EAAAA,QAAAA,EAAoC,MAClE,CAAC4W,EAAWC,EAAa,CAAG7W,CAAAA,EAAAA,EAAAA,QAAAA,EAAwC,MACpE,CAAC8W,EAAcC,EAAgB,CAAG/W,CAAAA,EAAAA,EAAAA,QAAAA,EAA8B,EAAE,EAClE,CAACgX,EAAaC,GAAe,CAAGjX,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MACxD,CAACkX,GAAiBC,GAAmB,CAAGnX,CAAAA,EAAAA,EAAAA,QAAAA,EAAkB,IAC1D,CAACoX,GAAsBC,GAAwB,CAAGrX,CAAAA,EAAAA,EAAAA,QAAAA,EAAkB,IACpE,CAACsX,GAAeC,GAAiB,CAAGvX,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC7C,CAACwX,GAAkBC,GAAoB,CAAGzX,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GAInD0X,GAAajD,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAShG,GAAG,GAAIgG,EAAQhG,GAAG,CAAC2D,MAAM,CAAG,EAAIqC,EAAQhG,GAAG,CAAGiI,EAsG1E,GAnGA3V,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACN,IAAI4W,EAAY,GAuEhB,MAHAC,CAlEwB,UAEpB,GAAI,CAACnD,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAASoD,MAAM,EAAE,OAGtB,IAAMC,EAAWC,SHzLEC,CAAW,EACtC,GAAI,CACF,IAAMxP,EAAQwP,EAAIxP,KAAK,CAAC,sCACxB,GAAIA,EACF,MAAO,CACLmF,KAAMnF,CAAK,CAAC,EAAE,CACdoF,KAAMpF,CAAK,CAAC,EAAE,CAACK,OAAO,CAAC,SAAU,GACnC,EAEF,OAAO,IACT,CAAE,MAAA5G,EAAM,CACN,OAAO,IACT,CACF,EG4K0CwS,EAAQoD,MAAM,EAC9C,GAAI,CAACC,EAAU,CACPH,GAAWV,GAAe,uCAC9B,MACJ,CAGIU,IACAR,GAAmB,IACnBF,GAAe,MACfN,EAAc,MACdE,EAAa,MACbE,EAAgB,EAAE,GAGtB,GAAI,CAEA,GAAM,CAACkB,EAAYC,EAAaC,EAAe,CAAG,MAAMrZ,QAAQsZ,UAAU,CAAC,CACvE1K,EAAkBoK,EAASnK,IAAI,CAAEmK,EAASlK,IAAI,EAC9CU,EAAmBwJ,EAASnK,IAAI,CAAEmK,EAASlK,IAAI,EAC/CQ,EAAsB0J,EAASnK,IAAI,CAAEmK,EAASlK,IAAI,EACrD,EAGD,GAAI,CAAC+J,EAAW,OAGhB,GAAIM,cAAAA,EAAWI,MAAM,EAAoBJ,EAAW/R,KAAK,CACrDyQ,EAAcsB,EAAW/R,KAAK,OAC3B,GAAI+R,aAAAA,EAAWI,MAAM,CAGxB,MAFAnK,QAAQC,KAAK,CAAC,+BAAgC8J,EAAWK,MAAM,EAEzD,MAAU,uCAIhBJ,CAAuB,cAAvBA,EAAYG,MAAM,CAClBxB,EAAaqB,EAAYhS,KAAK,EAE9BgI,QAAQC,KAAK,CAAC,gCAAiC+J,EAAYI,MAAM,EAIjEH,cAAAA,EAAeE,MAAM,EAAoBjS,MAAMC,OAAO,CAAC8R,EAAejS,KAAK,EAC3E6Q,EAAgBoB,EAAejS,KAAK,EACH,aAA1BiS,EAAeE,MAAM,EAC5BnK,QAAQC,KAAK,CAAC,mCAAoCgK,EAAeG,MAAM,CAG/E,CAAE,MAAOnK,EAAY,CAEbwJ,IACAV,GAAe9I,EAAMoK,OAAO,EAAI,4DAChCrK,QAAQC,KAAK,CAAC,4BAA6BA,GAEnD,QAAU,CAEFwJ,GAAWR,GAAmB,GACtC,CACJ,KAKO,KACHQ,EAAY,EAChB,CACJ,EAAG,CAAClD,MAAAA,EAAAA,KAAAA,EAAAA,EAASoD,MAAM,CAAC,EAGpB9W,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACN,IAAMsQ,EAAe,KAEjBkG,GAAiB3U,OAAOiP,OAAO,CAAG,IACtC,EAIA,OAFAjP,OAAOC,gBAAgB,CAAC,SAAUwO,EAAc,CAAEvO,QAAS,EAAK,GAEzD,IAAMF,OAAOG,mBAAmB,CAAC,SAAUsO,EACtD,EAAG,EAAE,EAYD,CAACoD,EACD,MACI,GAAApP,EAAAI,GAAA,EAACgB,MAAAA,CAAIjH,UAAU,gFAAuE,+DAO9F,GAAM,CACFyK,MAAAA,GAAQ,kBAAkB,CAC1BuO,SAAAA,GAAW,eAAe,CAC1BC,YAAAA,GAAc,EAAE,CAChBC,gBAAAA,EAAe,CACfC,QAAAA,EAAO,CACP1C,KAAAA,EAAI,CACJ2C,MAAAA,EAAK,CACLC,OAAAA,EAAM,CACNC,KAAAA,GAAO,EAAE,CACTjB,OAAAA,EAAM,CACNkB,KAAAA,EAAI,CACJC,KAAAA,GAAO,EAAE,CACTX,OAAAA,EAAM,CACNY,aAAAA,GAAe,EAAE,CACjBC,QAASC,EAAc,CACvBC,aAAAA,EAAY,CACf,CAAG3E,EAGE4E,GAAgBhB,YAAAA,IAAwBA,YAAAA,GAAuBA,GAAS,KACxEiB,GAAcrD,GAAO,IAAIE,KAAKF,IAAMsD,WAAW,GAAK,KAEpDC,GAAetS,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KACzB,IAAMuS,EAA2B,EAAE,CAC7BC,EAAO,IAAIxG,IAEXyG,EAAa,IACVta,IACDqa,EAAKvG,GAAG,CAAC9T,KACbqa,EAAKtG,GAAG,CAAC/T,GACToa,EAAe9I,IAAI,CAACtR,IACxB,EASA,OAPAsa,EAAWf,IACPxS,MAAMC,OAAO,CAACwS,IACdA,GAAOhO,OAAO,CAAC8O,GACU,UAAlB,OAAOd,IACdc,EAAWd,IAGRY,CACX,EAAG,CAACb,GAAOC,GAAO,EAElB9X,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACN0W,GAAoB,EACxB,EAAG,CAAChD,MAAAA,EAAAA,KAAAA,EAAAA,EAAS/D,IAAI,CAAE8I,GAAapH,MAAM,CAAC,EAEvC,IAAMwH,GAAiBJ,EAAY,CAAChC,GAAiB,EAAI,KACnDqC,GAAaL,GAAapH,MAAM,CAAG,EAGnC0H,GAAQtD,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYuD,gBAAgB,GAA5BvD,KAAAA,IAAAA,EAAAA,EAAgChC,GAAaC,EAAS,SAC9DuF,GAAQxD,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYyD,WAAW,GAAvBzD,KAAAA,IAAAA,EAAAA,EAA2BhC,GAAaC,EAAS,SACzDyF,GAAW1D,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY2D,iBAAiB,GAA7B3D,KAAAA,IAAAA,EAAAA,EAAiC,EAC5C0C,GAAU1C,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAY0C,OAAO,GAAnB1C,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAqB4D,IAAI,GAAzB5D,KAAAA,IAAAA,EAAAA,EAA6B2C,EAAAA,GAA7B3C,KAAAA,IAAAA,EAAAA,EAA+C,MACzD6D,GAAa7D,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY8D,iBAAiB,GAA7B9D,KAAAA,IAAAA,EAAAA,EAAiC,EAC9C+D,GAAW/D,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY/W,IAAI,GAAhB+W,KAAAA,IAAAA,EAAAA,EAAoB,EAC/BgE,GAAYhE,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYiE,UAAU,GAAtBjE,KAAAA,IAAAA,EAAAA,EAA0B,KACtCkE,GAAWlE,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYmE,SAAS,GAArBnE,KAAAA,IAAAA,EAAAA,EAAyB4C,EAAAA,GAAzB5C,KAAAA,IAAAA,EAAAA,EAAyCP,EAAAA,GAAzCO,KAAAA,IAAAA,EAAAA,EAAiD,KAC5DoE,GAAkBhE,EAAYiE,OAAO5K,OAAO,CAAC2G,GAAWkE,IAAI,CAAC,CAAA1b,EAAA2b,QAAC,EAAGpT,EAAE,CAAAvI,EAAE,EAAG4b,EAAE,CAAAD,SAAKC,EAAIrT,IAAK,EAAE,CAC1FsT,GAAaL,GAAgBM,MAAM,CAAC,CAACC,EAAAA,QAAK,EAAG7F,EAAM,CAAAlW,SAAK+b,EAAM7F,GAAO,GACrE8F,GAAUrC,IAAQvC,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY6E,QAAQ,GAAIzV,KAAAA,EAG1C0V,GAAc5D,IAAcA,GAAWtF,MAAM,CAAG,EAAI,uBAAyB,qBAGnF,MACI,GAAA/M,EAAAC,IAAA,EAACiW,OAAAA,qHAGI7D,IAAcA,GAAWtF,MAAM,CAAG,GAAK,GAAA/M,EAAAI,GAAA,EAAC+V,EAAUA,CAAC/M,IAAKiJ,KAGzD,GAAArS,EAAAC,IAAA,EAACmB,MAAAA,mCAAe,6DAAyEzF,MAAA,CAAZsa,cAGxE5D,IAAcA,GAAWtF,MAAM,CAAG,GAC/B,GAAA/M,EAAAI,GAAA,EAAC4M,QAAAA,gFACG,GAAAhN,EAAAI,GAAA,EAACgW,EAAeA,CAAChN,IAAKiJ,OAK9B,GAAArS,EAAAC,IAAA,EAACmB,MAAAA,8DAGG,GAAApB,EAAAC,IAAA,EAACoW,SAAAA,0EAEG,GAAArW,EAAAC,IAAA,EAACqW,EAAAA,OAAIA,CAAAA,CAAC/T,KAAK,YAAYpI,UAAU,iCAC7B,GAAA6F,EAAAI,GAAA,EAACmW,EAAAA,CAASA,CAAAA,CAACnc,KAAM,GAAID,UAAU,SAC/B,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,wBAEV,GAAAnN,EAAAC,IAAA,EAACmB,MAAAA,wDACG,GAAApB,EAAAC,IAAA,EAACmB,MAAAA,2DAEG,GAAApB,EAAAC,IAAA,EAACmB,MAAAA,2DACI+R,IAAY,GAAAnT,EAAAI,GAAA,EAAC+M,OAAAA,0DAAiCgG,KAC9Cc,IAAe,GAAAjU,EAAAC,IAAA,EAACkN,OAAAA,uDAA4B,GAAAnN,EAAAI,GAAA,EAACoW,EAAAA,CAAKA,CAAAA,CAACpc,KAAM,GAAID,UAAU,SAAS8Z,MAChFD,IAAiB,GAAAhU,EAAAI,GAAA,EAAC+M,OAAAA,mCAAgB,uBAAqCxR,MAAA,CAAdqY,aAAkBA,KAC3ExB,IAAUiC,GAAQ,GAAK,GAAAzU,EAAAC,IAAA,EAACkN,OAAAA,CAAuCvI,MAAO,GAA0BjJ,MAAA,CAAvB8Y,GAAMgC,cAAc,GAAG,2EAAS,IAAC,GAAAzW,EAAAI,GAAA,EAACsW,EAAAA,CAAIA,CAAAA,CAACtc,KAAM,GAAID,UAAU,SAAQ,IAAEsa,GAAMgC,cAAc,GAAG,OACrKjE,IAAUmC,GAAQ,GAAK,GAAA3U,EAAAC,IAAA,EAACkN,OAAAA,CAAuCvI,MAAO,GAA0BjJ,MAAA,CAAvBgZ,GAAM8B,cAAc,GAAG,2EAAS,IAAC,GAAAzW,EAAAI,GAAA,EAACuW,EAAAA,CAAOA,CAAAA,CAACvc,KAAM,GAAID,UAAU,SAAQ,IAAEwa,GAAM8B,cAAc,GAAG,UAG7K,GAAAzW,EAAAI,GAAA,EAAC0B,KAAAA,CAAkD8U,YAAWhS,gFAAQA,KAEtE,GAAA5E,EAAAI,GAAA,EAACiC,IAAAA,+DArFFgR,IAAmBD,IAAe,0CAwFrC,GAAApT,EAAAC,IAAA,EAACmB,MAAAA,iGACI2U,IAAa,GAAA/V,EAAAC,IAAA,EAACqW,EAAAA,OAAIA,CAAAA,CAAC/T,KAAMwT,GAASzX,OAAO,SAASmE,IAAI,sBAAsBtI,UAAU,qBAAW,IAAC,GAAA6F,EAAAI,GAAA,EAACyW,EAAAA,CAAYA,CAAAA,CAACzc,KAAM,GAAID,UAAU,WAAW,iBAC/IqY,IAAY,GAAAxS,EAAAC,IAAA,EAACqW,EAAAA,OAAIA,CAAAA,CAAC/T,KAAMiQ,GAAQlU,OAAO,SAASmE,IAAI,sBAAsBtI,UAAU,wBAAc,IAAC,GAAA6F,EAAAI,GAAA,EAAC0W,EAAAA,CAAMA,CAAAA,CAAC1c,KAAM,GAAID,UAAU,WAAW,0BAMtJqa,GACI,GAAAxU,EAAAC,IAAA,EAAC8W,UAAAA,+JAEIxC,IACG,GAAAvU,EAAAI,GAAA,EAACgB,MAAAA,8DACG,GAAApB,EAAAI,GAAA,EAAC4W,EAAAA,OAAKA,CAAAA,CAEHhd,IAAKua,GACLta,IAAK,GAAS0B,MAAA,CAANiJ,GAAM,WACdqS,MAAO,KACPC,OAAQ,IACR/c,UAAU,eACVgd,SAAUhF,IAAAA,IANLoC,MAWfJ,GAAapH,MAAM,CAAG,GACnB,GAAA/M,EAAAI,GAAA,EAACgB,MAAAA,CAA4BgW,KAAK,6DAC7BjD,GAAalT,GAAG,CAAC,CAACoW,EAAQC,IACvB,GAAAtX,EAAAI,GAAA,EAACmE,SAAAA,CAEE3D,KAAK,SACLwW,KAAK,WAEL9W,QAAS,IAAM8R,GAAoBkF,GACnCC,eAAcD,IAAQnF,qCAFX,oBAA6DxW,MAAA,CAAzC2b,IAAQnF,GAAmB,SAAW,aAInE,GAAAnS,EAAAI,GAAA,EAAC4W,EAAAA,OAAKA,CAAAA,CACHhd,IAAKqd,EACLpd,IAAK,GAAsBqd,MAAAA,CAAnB1S,GAAM,eAAqBjJ,MAAA,CAAR2b,EAAM,GACjCL,MAAO,IACPC,OAAQ,IACR/c,UAAU,oBACVqG,QAAS8W,IAAQnF,GAAmB,QAAU,UAb9C,GAAamF,MAAAA,CAAVD,EAAO,KAAO1b,MAAA,CAAJ2b,UAsBpC,GAAAtX,EAAAC,IAAA,EAAC8W,UAAAA,+FACG,GAAA/W,EAAAI,GAAA,EAACgB,MAAAA,4DAAiC,GAAApB,EAAAI,GAAA,EAACoX,EAAAA,CAASA,CAAAA,CAACpd,KAAM,GAAIqd,YAAa,MACpE,GAAAzX,EAAAI,GAAA,EAAC0E,EAAAA,CAAmBA,CAAAA,CAACmS,MAAM,QAAQC,OAAO,QAAQQ,QAAS,GAAMvd,UAAU,gCAKpFmZ,GAEG,GAAAtT,EAAAI,GAAA,EAAC2W,UAAAA,CAAQlZ,GAAG,wBAA2E8G,aAAW,mGAC9F,GAAA3E,EAAAI,GAAA,EAACoB,EAAuBA,CAACrH,UAAU,oCAC9BmZ,OAKT,GAAAtT,EAAAI,GAAA,EAAC2W,UAAAA,mFACG,GAAA/W,EAAAI,GAAA,EAACiC,IAAAA,4EAA+C,+DAKvDoR,IAAQA,GAAK1G,MAAM,CAAG,GAClB,GAAA/M,EAAAC,IAAA,EAAC8W,UAAAA,kFACG,GAAA/W,EAAAC,IAAA,EAACmB,MAAAA,8DACG,GAAApB,EAAAI,GAAA,EAACuX,EAAAA,CAAGA,CAAAA,CAACvd,KAAM,GAAID,UAAU,gCACzB,GAAA6F,EAAAI,GAAA,EAAC6B,KAAAA,gEAAoC,2BAEzC,GAAAjC,EAAAI,GAAA,EAACgB,MAAAA,uDACG,GAAApB,EAAAI,GAAA,EAACgB,MAAAA,qDACIqS,GAAKxS,GAAG,CAAC2W,GAAS,GAAA5X,EAAAI,GAAA,EAAC+M,OAAAA,oDAAqCyK,GAA3BA,WAO9CpF,IAAWX,CAAAA,IAAmBV,GAAcQ,CAAAA,GACzC,GAAA3R,EAAAC,IAAA,EAAC8W,UAAAA,qFAEI,GAAA/W,EAAAC,IAAA,EAACsE,SAAAA,CAAiDjE,QAAS,IAAM0R,GAAwB,CAACD,IAAuB8F,gBAAe9F,GAAsB+F,gBAAc,mGAChK,GAAA9X,EAAAC,IAAA,EAACmB,MAAAA,wDACG,GAAApB,EAAAI,GAAA,EAAC0W,EAAAA,CAAMA,CAAAA,CAAC1c,KAAM,GAAID,UAAU,8BAC5B,GAAA6F,EAAAI,GAAA,EAAC4B,KAAAA,qDAAyB,kCAE9B,GAAAhC,EAAAC,IAAA,EAACmB,MAAAA,yDAEIyQ,IAAmB,GAAA7R,EAAAI,GAAA,EAAC+M,OAAAA,6DAAmC,eACvDwE,GAAe,GAAA3R,EAAAI,GAAA,EAAC+M,OAAAA,CAAKvI,MAAO+M,4CAAa,GAAA3R,EAAAI,GAAA,EAAC2X,EAAAA,CAAaA,CAAAA,CAAC3d,KAAM,GAAID,UAAU,iBAE7E,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,mCAAgB,gBAAmDxR,MAAA,CAAnCoW,GAAuB,OAAS,aAC7D,GAAA/R,EAAAI,GAAA,EAAC4X,EAAAA,CAAWA,CAAAA,CAAC5d,KAAM,aAK9B2X,IACG,GAAA/R,EAAAC,IAAA,EAACmB,MAAAA,CAAIvD,GAAG,iFAEH8T,GAAe,CAACE,IAAoB,GAAA7R,EAAAI,GAAA,EAACgB,MAAAA,yDAA+BuQ,IAEpE,CAACA,GAAeE,IAAoB,GAAA7R,EAAAI,GAAA,EAACgB,MAAAA,+DAAoC,2CAEzE,CAACuQ,GAAe,CAACE,IAAmB,CAACV,GAAe,GAAAnR,EAAAI,GAAA,EAACgB,MAAAA,yDAA8B,kCAEnF,CAACuQ,GAAeR,GACb,GAAAnR,EAAAC,IAAA,EAACmB,MAAAA,+FAEG,GAAApB,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAACsW,EAAAA,CAAIA,CAAAA,CAACtc,KAAM,GAAID,UAAU,yBAAwB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,WAAa,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQxD,GAAQ,EAAIA,GAAMgC,cAAc,GAAK,SAC/I,GAAAzW,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAACuW,EAAAA,CAAOA,CAAAA,CAACvc,KAAM,GAAID,UAAU,uBAAsB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,WAAa,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQtD,GAAQ,EAAIA,GAAM8B,cAAc,GAAK,SAChJ,GAAAzW,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAAC8X,EAAAA,CAAGA,CAAAA,CAAC9d,KAAM,GAAID,UAAU,wBAAuB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,cAAgB,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQpD,GAAW,EAAIA,GAAS4B,cAAc,GAAK,SACtJ,GAAAzW,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAAC2X,EAAAA,CAAaA,CAAAA,CAAC3d,KAAM,GAAID,UAAU,yBAAwB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,iBAAmB,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQjD,GAAa,EAAIA,GAAWyB,cAAc,GAAK,SACxK,GAAAzW,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAAC+X,EAAAA,CAAWA,CAAAA,CAAC/d,KAAM,GAAID,UAAU,uBAAsB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,aAAe,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQpE,IAAW,WAC5H,GAAA7T,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAACgY,EAAAA,CAAMA,CAAAA,CAAChe,KAAM,GAAID,UAAU,yBAAwB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,eAAiB,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAQ/C,GAAW,EAAIlF,GAAYkF,KAAAA,IAAmB,SAC7JC,IAAa,GAAAnV,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAACiY,EAAAA,CAAYA,CAAAA,CAACje,KAAM,GAAID,UAAU,uBAAsB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,aAAe,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,CAAOrT,MAAO,IAAIkM,KAAKqE,IAAWsB,cAAc,6CAAK9F,GAAQwE,SACpLE,IAAY,GAAArV,EAAAC,IAAA,EAACmB,MAAAA,sDAA0B,GAAApB,EAAAI,GAAA,EAACkY,EAAAA,CAAQA,CAAAA,CAACle,KAAM,GAAID,UAAU,uBAAsB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,eAAiB,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,CAAOrT,MAAO,IAAIkM,KAAKuE,IAAUoB,cAAc,6CAAK9F,GAAQ0E,SAChLlE,EAAW6E,QAAQ,EAAI,GAAAhW,EAAAC,IAAA,EAACmB,MAAAA,kFAAsD,GAAApB,EAAAI,GAAA,EAACyW,EAAAA,CAAYA,CAAAA,CAACzc,KAAM,GAAID,UAAU,uBAAsB,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,2CAAK,cAAgB,IAAC,GAAAnN,EAAAI,GAAA,EAAC6X,SAAAA,2CAAO,GAAAjY,EAAAI,GAAA,EAACkC,IAAAA,CAAEC,KAAM4O,EAAW6E,QAAQ,CAAE1X,OAAO,SAASmE,IAAI,2EAA8C0O,EAAW6E,QAAQ,QAGxRzE,GAAaqE,GAAa,GACvB,GAAA5V,EAAAC,IAAA,EAACmB,MAAAA,yFACG,GAAApB,EAAAI,GAAA,EAAC8B,KAAAA,uDAA2B,6BAC5B,GAAAlC,EAAAI,GAAA,EAACgB,MAAAA,yDACImU,GAAgBtU,GAAG,CAAC,OAAC,CAACsX,EAAMtI,EAAM,CAAAlW,EACzBye,EAAa5C,GAAa,EAAIha,KAAKa,GAAG,CAAC,GAAK6N,WAAW,CAAC2F,EAAS2F,GAAc,KAAKlF,OAAO,CAAC,KAAO,EACnG+H,EAAYF,EAAK5S,WAAW,GAAGnC,OAAO,CAAC,aAAc,IAC3D,MACI,GAAAxD,EAAAC,IAAA,EAACmB,MAAAA,CAA6CwD,MAAO,GAAYoL,MAAAA,CAATuI,EAAK,MAA2BC,MAAAA,CAAvBxI,GAAYC,GAAO,MAAetU,MAAA,CAAX6c,EAAW,mEAC/F,GAAAxY,EAAAC,IAAA,EAACmB,MAAAA,uDAA4BmX,EAAK,IAAC,GAAAvY,EAAAC,IAAA,EAACkN,OAAAA,yDAA8B,IAAEqL,EAAW,WAC/E,GAAAxY,EAAAI,GAAA,EAACgB,MAAAA,uDAEG,GAAApB,EAAAI,GAAA,EAACgB,MAAAA,CAAsDjF,MAAO,CAAE8a,MAAO,GAActb,MAAA,CAAX6c,EAAW,IAAG,oCAAxE,0BAAoC7c,MAAA,CAAV8c,SAJxCF,EAQlB,QAMX9G,GAAgBA,EAAa1E,MAAM,CAAG,GACnC,GAAA/M,EAAAC,IAAA,EAACmB,MAAAA,kFACG,GAAApB,EAAAI,GAAA,EAAC8B,KAAAA,uDAA2B,wBAC5B,GAAAlC,EAAAC,IAAA,EAACmB,MAAAA,6DAEIqQ,EAAalM,KAAK,CAAC,EAAG,IAAItE,GAAG,CAACyX,GAC3B,GAAA1Y,EAAAC,IAAA,EAACqW,EAAAA,OAAIA,CAAAA,CAAY/T,KAAMmW,EAAEC,QAAQ,EAAI,IAAKra,OAAO,SAASmE,IAAI,sBAAsBtI,UAAU,yBAAyByK,MAAO,GAAe8T,MAAAA,CAAZA,EAAEE,KAAK,CAAC,MAAoBjd,MAAA,CAAhB+c,EAAEG,aAAa,CAAC,6BACzJ,GAAA7Y,EAAAI,GAAA,EAAC4W,EAAAA,OAAKA,CAAAA,CAAChd,IAAK0e,EAAEI,UAAU,EAAI,6BACrB7e,IAAK,GAAW0B,MAAA,CAAR+c,EAAEE,KAAK,CAAC,WAAU3B,MAAO,GAAIC,OAAQ,GAAI/c,UAAU,uBAClE,GAAA6F,EAAAI,GAAA,EAAC+M,OAAAA,6DAAoCuL,EAAEE,KAAK,KAHrCF,EAAE7a,EAAE,GAOlB4T,EAAa1E,MAAM,CAAG,IAAM,GAAA/M,EAAAI,GAAA,EAAC+M,OAAAA,4DAAkC,uBAYlGwG,IAAQA,GAAK5G,MAAM,CAAG,GAAMoE,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYxI,KAAK,EACzC,GAAA3I,EAAAC,IAAA,EAAC8W,UAAAA,kFACG,GAAA/W,EAAAC,IAAA,EAACmB,MAAAA,8DACG,GAAApB,EAAAI,GAAA,EAAC2Y,EAAAA,CAAKA,CAAAA,CAAC3e,KAAM,GAAID,UAAU,+BAC3B,GAAA6F,EAAAI,GAAA,EAAC4B,KAAAA,8DAAmC2R,IAAQA,GAAK5G,MAAM,CAAG,EAAI,YAAc,wBAEjF,GAAA/M,EAAAI,GAAA,EAACgB,MAAAA,4GAEKuS,IAAQA,GAAK5G,MAAM,CAAG,EACnB4G,GAAK1S,GAAG,CAAC,CAAC+X,EAAQC,IACd,GAAAjZ,EAAAC,IAAA,EAACmB,MAAAA,8DACI4X,EAAOE,KAAK,CAAG,GAAAlZ,EAAAI,GAAA,EAAC4W,EAAAA,OAAKA,CAAAA,CAAChd,IAAKgf,EAAOE,KAAK,CAAEjf,IAAK+e,EAAOjE,IAAI,EAAI,cAAekC,MAAO,GAAIC,OAAQ,GAAI/c,UAAU,eAAkB,GAAA6F,EAAAI,GAAA,EAACgB,MAAAA,kEAAuC,GAAApB,EAAAI,GAAA,EAAC2Y,EAAAA,CAAKA,CAAAA,CAAC3e,KAAM,OACrL,GAAA4F,EAAAC,IAAA,EAACmB,MAAAA,wDACG,GAAApB,EAAAI,GAAA,EAAC+M,OAAAA,uDAA8B6L,EAAOjE,IAAI,EAAI,gBAC7CiE,EAAO5B,IAAI,EAAI,GAAApX,EAAAI,GAAA,EAAC+M,OAAAA,uDAA8B6L,EAAO5B,IAAI,MAE7D4B,EAAOtF,IAAI,EAAI,GAAA1T,EAAAI,GAAA,EAACkW,EAAAA,OAAIA,CAAAA,CAAC/T,KAAMyW,EAAOtF,IAAI,CAAEpV,OAAO,SAASmE,IAAI,sBAAsBtI,UAAU,cAAcyK,MAAO,SAAqBjJ,MAAA,CAAZqd,EAAOjE,IAAI,CAAC,uBAAa,GAAA/U,EAAAI,GAAA,EAACyW,EAAAA,CAAYA,CAAAA,CAACzc,KAAM,SANlK6e,IAWhB9H,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYxI,KAAK,EACf,GAAA3I,EAAAC,IAAA,EAACmB,MAAAA,8DACI+P,EAAWxI,KAAK,CAACmQ,UAAU,EAAI,GAAA9Y,EAAAI,GAAA,EAAC4W,EAAAA,OAAKA,CAAAA,CAAChd,IAAKmX,EAAWxI,KAAK,CAACmQ,UAAU,CAAE7e,IAAKkX,EAAWxI,KAAK,CAACiQ,KAAK,EAAI,QAAS3B,MAAO,GAAIC,OAAQ,GAAI/c,UAAU,eAClJ,GAAA6F,EAAAC,IAAA,EAACmB,MAAAA,wDACG,GAAApB,EAAAI,GAAA,EAAC+M,OAAAA,uDAA8BgE,EAAWxI,KAAK,CAACiQ,KAAK,EAAI,UACzD,GAAA5Y,EAAAI,GAAA,EAAC+M,OAAAA,uDAA6B,6BAEjCgE,EAAWxI,KAAK,CAACgQ,QAAQ,EAAI,GAAA3Y,EAAAI,GAAA,EAACkW,EAAAA,OAAIA,CAAAA,CAAC/T,KAAM4O,EAAWxI,KAAK,CAACgQ,QAAQ,CAAEra,OAAO,SAASmE,IAAI,sBAAsBtI,UAAU,cAAcyK,MAAO,SAAgCjJ,MAAA,CAAvBwV,EAAWxI,KAAK,CAACiQ,KAAK,CAAC,sBAAY,GAAA5Y,EAAAI,GAAA,EAAC0W,EAAAA,CAAMA,CAAAA,CAAC1c,KAAM,UAG9M,UAGV,KAGLwZ,IAAgBA,GAAa7G,MAAM,CAAG,GACjC,GAAA/M,EAAAC,IAAA,EAAC8W,UAAAA,+EACG,GAAA/W,EAAAC,IAAA,EAAC+B,KAAAA,iEAAoC,GAAAhC,EAAAI,GAAA,EAAC+Y,EAAAA,CAAaA,CAAAA,CAAC/e,KAAM,GAAID,UAAU,SAAQ,sBAChF,GAAA6F,EAAAI,GAAA,EAACgB,MAAAA,4DACIwS,GAAa3S,GAAG,CAAC,CAACmY,EAAGhJ,IAClB,GAAApQ,EAAAC,IAAA,EAAC6C,aAAAA,6DACG,GAAA9C,EAAAC,IAAA,EAACoC,IAAAA,8DAAgC,IAAE+W,EAAEC,KAAK,CAAC,OAC3C,GAAArZ,EAAAC,IAAA,EAACqZ,SAAAA,+DAAsC,KAChCF,EAAEG,MAAM,CAAEH,EAAEhC,IAAI,EAAI,GAAApX,EAAAC,IAAA,EAACkN,OAAAA,6DAAkC,KAAGiM,EAAEhC,IAAI,SAH1DhH,SAYlCgB,EAAgBrE,MAAM,CAAG,GACpB,GAAA/M,EAAAC,IAAA,EAAC8W,UAAAA,4EACG,GAAA/W,EAAAI,GAAA,EAAC4B,KAAAA,2DAA+B,0BAChC,GAAAhC,EAAAI,GAAA,EAACgB,MAAAA,wDAEIgQ,EAAgBnQ,GAAG,CAACoB,GAAKA,EAAI,GAAArC,EAAAI,GAAA,EAACoZ,EAAAA,CAAWA,CAAAA,CAAcpK,QAAS/M,GAAjBA,EAAEgJ,IAAI,EAAmB,cAKtF,OACJ,IAGJ4G,IACE,GAAAjS,EAAAI,GAAA,EAACmE,SAAAA,CACGjE,QAvXI,KAChB/C,OAAO+Q,QAAQ,CAAC,CACZvD,IAAK,EACLzD,SAAU,QACd,EACJ,EAoXgB3C,aAAW,gBACXC,MAAM,+EAGN,GAAA5E,EAAAI,GAAA,EAACqZ,EAAAA,CAAaA,CAAAA,CAACrf,KAAM,GAAIqd,YAAa,4ppCAiM1D,2FCv1Be,SAASiC,EAA0B3f,CAA2C,MAGxEqV,EAiBPA,EAAAA,EACDA,EAAAA,EAYKA,EAEiBA,EAAiCA,EAEpDA,KArCkC,CAAEA,QAAAA,CAAO,CAAkC,CAA3CrV,EAKhD,GAAI,CAHeqV,CAAAA,UAAAA,EAAQ+D,QAAQ,EAAgB/D,OAAAA,EAAQ+D,QAAQ,EAAK,QACrD/D,CAAAA,EAAAA,EAAQqE,IAAI,GAAZrE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcuK,IAAI,CAAC/B,GAAO,CAAC,cAAe,MAAO,WAAY,OAAQ,UAAW,YAAY,CAAC/X,QAAQ,CAAC+X,EAAIjS,WAAW,OAEvH,OAAO,KAExB,IAAMiU,EAAS,CACb,WAAY,qBACZ,QAAS,sBACT,KAAQxK,EAAQxK,KAAK,CACrB,YAAewK,EAAQgE,WAAW,CAClC,IAAOhE,EAAQsE,IAAI,EAAI,iCAAqDtE,MAAAA,CAApBA,EAAQ+D,QAAQ,CAAC,KAAgBxX,MAAA,CAAbyT,EAAQ/D,IAAI,EACxF,oBAAuB+D,OAAAA,EAAQ+D,QAAQ,CAAY,uBAAyB,oBAC5E,gBAAmB,iBACnB,gBAAmB,MACnB,cAAiB/D,EAAQwB,IAAI,CAC7B,aAAgBxB,EAAQ2E,YAAY,EAAI3E,EAAQwB,IAAI,CACpD,OAAU,CACR,QAAS,eACT,KAAQxB,CAAAA,OAAAA,CAAAA,EAAAA,EAAQuE,IAAI,GAAZvE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,CAAc,CAAC,EAAE,GAAjBA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmB2F,IAAI,GAAI,eACnC,IAAO3F,CAAAA,OAAAA,CAAAA,EAAAA,EAAQuE,IAAI,GAAZvE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,CAAc,CAAC,EAAE,GAAjBA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmBsE,IAAI,GAAI,sBACpC,EACA,UAAa,CACX,QAAS,eACT,KAAQ,eACR,IAAO,sBACT,EACA,OAAUtE,EAAQsE,IAAI,CAAG,CACvB,QAAS,QACT,MAAS,IACT,cAAiB,KACnB,EAAInT,KAAAA,EACJ,WAAc6O,CAAAA,OAAAA,CAAAA,EAAAA,EAAQoE,MAAM,GAAdpE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAgB,CAAC,EAAE,EAAG,uBAAyCzT,MAAA,CAAlByT,EAAQoE,MAAM,CAAC,EAAE,EAAKjT,KAAAA,EACjF,eAAkB6O,EAAQoD,MAAM,CAChC,QAAWpD,EAAQyE,OAAO,EAAKzE,CAAAA,CAAAA,OAAAA,CAAAA,EAAAA,EAAQqE,IAAI,GAAZrE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcvP,QAAQ,CAAC,iBAAUuP,CAAAA,EAAAA,EAAQqE,IAAI,GAAZrE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcvP,QAAQ,CAAC,gBAAiB,sCAAwCU,KAAAA,CAAAA,EAChJ,oBAAuB6O,EAAQmC,SAAS,EAAInC,EAAQyK,YAAY,CAChE,SAAU,OAAEzK,CAAAA,EAAAA,EAAQqE,IAAI,GAAZrE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAclO,IAAI,CAAC,KACjC,EAOA,OAJAsU,OAAOsE,IAAI,CAACF,GAAQpU,OAAO,CAACtI,GAC1B0c,KAAuCrZ,IAAvCqZ,CAAM,CAAC1c,EAA2B,EAAkB,OAAO0c,CAAM,CAAC1c,EAA2B,EAI7F,GAAA6c,EAAA3Z,GAAA,EAAC4Z,SAAAA,CACCpZ,KAAK,sBACLqZ,wBAAyB,CAAEC,OAAQC,KAAKC,SAAS,CAACR,EAAQ,GAGhE","sources":["webpack://_N_E/?5c84","webpack://_N_E/./src/components/ZoomableImage.tsx","webpack://_N_E/./src/components/ProjectMarkdownRenderer.tsx","webpack://_N_E/./src/lib/github.ts","webpack://_N_E/./src/components/Project/TableOfContents.tsx","webpack://_N_E/./src/components/Project/MinimapNav.tsx","webpack://_N_E/./src/components/Project/ProjectDetailClient.tsx","webpack://_N_E/./src/components/SEO/SoftwareApplicationSchema.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/manicinc/manicinc/src/components/Project/ProjectDetailClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/manicinc/manicinc/src/components/RelatedContent.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/manicinc/manicinc/src/components/SEO/BreadcrumbSchema.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/manicinc/manicinc/src/components/SEO/SoftwareApplicationSchema.tsx\");\n","'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\n\ninterface ZoomableImageProps {\n  src: string;\n  alt?: string;\n  caption?: string;\n  className?: string;\n  size?: 'small' | 'medium' | 'large' | 'full';\n  align?: 'left' | 'center' | 'right';\n  effect?: 'shadow' | 'border' | 'glow' | 'glitch' | 'none';\n  border?: 'simple' | 'gradient' | 'glow' | 'inset' | 'dashed' | 'none';\n  zoomable?: boolean;\n}\n\nexport default function ZoomableImage({ \n  src, \n  alt = '', \n  caption, \n  className = '', \n  size = 'medium',\n  align = 'center',\n  effect = 'none',\n  border = 'none',\n  zoomable = true\n}: ZoomableImageProps) {\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [modalId, setModalId] = useState('');\n  const [zoomLevel, setZoomLevel] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const imageRef = useRef<HTMLImageElement>(null);\n\n  // Generate unique ID for modal\n  useEffect(() => {\n    setModalId(`zoom-modal-${Math.random().toString(36).substring(2, 9)}`);\n  }, []);\n\n  // Handle opening the zoom view\n  const openZoom = () => {\n    if (!zoomable) return;\n    setIsZoomed(true);\n    // Reset zoom level and position when opening\n    setZoomLevel(1);\n    setPosition({ x: 0, y: 0 });\n    // Prevent body scrolling when zoomed\n    document.body.style.overflow = 'hidden';\n  };\n\n  // Handle closing the zoom view\n  const closeZoom = () => {\n    setIsZoomed(false);\n    document.body.style.overflow = '';\n  };\n\n  // Zoom in function\n  const zoomIn = () => {\n    setZoomLevel(prev => Math.min(prev + 0.25, 4));\n  };\n\n  // Zoom out function\n  const zoomOut = () => {\n    setZoomLevel(prev => Math.max(prev - 0.25, 0.5));\n  };\n\n  // Reset zoom and position\n  const resetZoom = () => {\n    setZoomLevel(1);\n    setPosition({ x: 0, y: 0 });\n  };\n\n  // Handle drag start\n  const handleDragStart = (e: React.MouseEvent<HTMLImageElement>) => {\n    if (zoomLevel <= 1) return; // Only allow dragging when zoomed in\n    setIsDragging(true);\n    setDragStart({ \n      x: e.clientX - position.x, \n      y: e.clientY - position.y \n    });\n  };\n\n  // Handle drag move\n  const handleDragMove = (e: MouseEvent) => {\n    if (!isDragging) return;\n    \n    // Calculate new position\n    const newX = e.clientX - dragStart.x;\n    const newY = e.clientY - dragStart.y;\n    \n    // Limit dragging based on zoom level and image size\n    setPosition({ x: newX, y: newY });\n    \n    e.preventDefault();\n  };\n\n  // Handle drag end\n  const handleDragEnd = () => {\n    setIsDragging(false);\n  };\n\n  // Close on ESC key\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (isZoomed && e.key === 'Escape') {\n        closeZoom();\n      }\n    };\n    \n    // Setup drag handlers\n    const handleMouseMove = (e: MouseEvent) => {\n      handleDragMove(e);\n    };\n    \n    const handleMouseUp = () => {\n      handleDragEnd();\n    };\n    \n    // Setup wheel zoom\n    const handleWheel = (e: WheelEvent) => {\n      if (isZoomed) {\n        if (e.deltaY < 0) {\n          zoomIn();\n        } else {\n          zoomOut();\n        }\n        e.preventDefault();\n      }\n    };\n    \n    window.addEventListener('keydown', handleEsc);\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    window.addEventListener('wheel', handleWheel, { passive: false });\n    \n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n      window.removeEventListener('wheel', handleWheel);\n    };\n  }, [isZoomed, isDragging, dragStart]);\n\n  // Get CSS classes based on props\n  const getSizeClass = () => {\n    switch (size) {\n      case 'small': return 'image-small';\n      case 'medium': return 'image-medium';\n      case 'large': return 'image-large';\n      case 'full': return 'image-full';\n      default: return 'image-medium';\n    }\n  };\n\n  const getAlignClass = () => {\n    switch (align) {\n      case 'left': return 'align-left';\n      case 'center': return 'align-center';\n      case 'right': return 'align-right';\n      default: return 'align-center';\n    }\n  };\n\n  const getEffectClass = () => {\n    switch (effect) {\n      case 'shadow': return 'image-shadow';\n      case 'border': return 'image-border';\n      case 'glow': return 'image-glow';\n      case 'glitch': return 'image-glitch';\n      default: return '';\n    }\n  };\n\n  const getBorderClass = () => {\n    switch (border) {\n      case 'simple': return 'border-simple';\n      case 'gradient': return 'border-gradient';\n      case 'glow': return 'border-glow';\n      case 'inset': return 'border-inset';\n      case 'dashed': return 'border-dashed';\n      default: return '';\n    }\n  };\n\n  // Add modal to document body to avoid z-index issues\n  useEffect(() => {\n    if (isZoomed) {\n      const modal = document.createElement('div');\n      modal.id = modalId;\n      modal.className = `image-zoom-overlay ${isZoomed ? 'active' : ''}`;\n      modal.innerHTML = `\n        <div class=\"image-zoom-container\">\n          <div class=\"zoom-image-wrapper\">\n            <img \n              src=\"${src}\" \n              alt=\"${alt}\" \n              class=\"image-zoom-img\" \n              style=\"transform: scale(${zoomLevel}) translate(${position.x / zoomLevel}px, ${position.y / zoomLevel}px)\"\n            />\n          </div>\n          ${caption ? `<div class=\"image-zoom-caption\">${caption}</div>` : ''}\n          <div class=\"zoom-controls\">\n            <button class=\"zoom-btn zoom-out-btn\" aria-label=\"Zoom out\">âˆ’</button>\n            <button class=\"zoom-btn zoom-reset-btn\" aria-label=\"Reset zoom\">1:1</button>\n            <button class=\"zoom-btn zoom-in-btn\" aria-label=\"Zoom in\">+</button>\n          </div>\n        </div>\n        <button class=\"image-zoom-close\" aria-label=\"Close image\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n          </svg>\n        </button>\n      `;\n      \n      document.body.appendChild(modal);\n      \n      // Add click handlers\n      const closeButton = modal.querySelector('.image-zoom-close');\n      if (closeButton) {\n        closeButton.addEventListener('click', closeZoom);\n      }\n      \n      const zoomInButton = modal.querySelector('.zoom-in-btn');\n      if (zoomInButton) {\n        zoomInButton.addEventListener('click', zoomIn);\n      }\n      \n      const zoomOutButton = modal.querySelector('.zoom-out-btn');\n      if (zoomOutButton) {\n        zoomOutButton.addEventListener('click', zoomOut);\n      }\n      \n      const resetButton = modal.querySelector('.zoom-reset-btn');\n      if (resetButton) {\n        resetButton.addEventListener('click', resetZoom);\n      }\n      \n      // Get the image element to attach drag handlers\n      const zoomImg = modal.querySelector('.image-zoom-img') as HTMLImageElement;\n      if (zoomImg) {\n        zoomImg.addEventListener('mousedown', (e) => {\n          if (zoomLevel > 1) {\n            setIsDragging(true);\n            setDragStart({ \n              x: e.clientX - position.x, \n              y: e.clientY - position.y \n            });\n            e.preventDefault();\n          }\n        });\n      }\n      \n      // Background click to close\n      modal.addEventListener('click', (e) => {\n        if (e.target === modal) {\n          closeZoom();\n        }\n      });\n      \n      // Prevent propagation from container clicks\n      const imgContainer = modal.querySelector('.image-zoom-container');\n      if (imgContainer) {\n        imgContainer.addEventListener('click', (e) => {\n          e.stopPropagation();\n        });\n      }\n      \n      // Update the image transform whenever zoom or position changes\n      const updateImageTransform = () => {\n        const img = document.querySelector(`#${modalId} .image-zoom-img`) as HTMLImageElement;\n        if (img) {\n          img.style.transform = `scale(${zoomLevel}) translate(${position.x / zoomLevel}px, ${position.y / zoomLevel}px)`;\n        }\n      };\n      \n      // Set up a mutation observer to update the image when the DOM changes\n      const observer = new MutationObserver(() => {\n        updateImageTransform();\n      });\n      \n      observer.observe(modal, { attributes: true, childList: true, subtree: true });\n      \n      return () => {\n        observer.disconnect();\n        const modalElement = document.getElementById(modalId);\n        if (modalElement) {\n          document.body.removeChild(modalElement);\n        }\n      };\n    }\n  }, [isZoomed, src, alt, caption, modalId, zoomLevel, position]);\n\n  // Combine all classes\n  const imageClasses = `\n    content-image \n    ${getSizeClass()} \n    ${getEffectClass()} \n    ${getBorderClass()} \n    ${zoomable ? 'cursor-zoom-in' : ''} \n    ${className}\n  `.trim();\n\n  // Use the caption from the alt text if it has the format: \"description|caption=My caption\"\n  let parsedAlt = alt;\n  let parsedCaption = caption;\n  \n  if (alt && alt.includes('|caption=')) {\n    const parts = alt.split('|caption=');\n    parsedAlt = parts[0].trim();\n    parsedCaption = parts[1].trim() || caption;\n  }\n\n  return (\n    <figure className={`markdown-image-wrapper ${getAlignClass()}`}>\n      <img\n        ref={imageRef}\n        src={src}\n        alt={parsedAlt}\n        className={imageClasses}\n        onClick={zoomable ? openZoom : undefined}\n        loading=\"lazy\"\n      />\n      {parsedCaption && (\n        <figcaption>\n          {parsedCaption}\n        </figcaption>\n      )}\n      \n      {/* Styles for image modal */}\n      <style jsx global>{`\n        .image-zoom-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(10, 11, 19, 0.95);\n          backdrop-filter: blur(8px);\n          z-index: 9999;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          opacity: 0;\n          pointer-events: none;\n          transition: opacity 0.3s ease;\n        }\n        \n        .image-zoom-overlay.active {\n          opacity: 1;\n          pointer-events: auto;\n        }\n        \n        .image-zoom-container {\n          position: relative;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          max-width: 95vw;\n          max-height: 95vh;\n        }\n        \n        .zoom-image-wrapper {\n          overflow: hidden;\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 100%;\n          height: 100%;\n          max-width: 95vw;\n          max-height: 85vh;\n        }\n        \n        .image-zoom-img {\n          max-width: 95vw;\n          max-height: 85vh;\n          object-fit: contain;\n          transform-origin: center;\n          transition: transform 0.3s ease;\n          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);\n          cursor: move;\n          will-change: transform;\n          user-select: none;\n        }\n        \n        .image-zoom-caption {\n          margin-top: 15px;\n          text-align: center;\n          color: var(--text-primary);\n          padding: 10px 20px;\n          font-size: 16px;\n          background-color: rgba(29, 32, 56, 0.7);\n          border-radius: 8px;\n          max-width: 90%;\n          font-family: var(--font-body-blog);\n          font-style: italic;\n        }\n        \n        .zoom-controls {\n          position: absolute;\n          bottom: -70px;\n          left: 50%;\n          transform: translateX(-50%);\n          display: flex;\n          gap: 15px;\n          background-color: rgba(29, 32, 56, 0.7);\n          padding: 8px 16px;\n          border-radius: 30px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n        }\n        \n        .zoom-btn {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background: rgba(var(--accent-primary-rgb), 0.3);\n          color: white;\n          font-size: 20px;\n          font-weight: bold;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          border: none;\n          transition: background-color 0.3s ease, transform 0.2s ease;\n        }\n        \n        .zoom-btn:hover {\n          background: rgba(var(--accent-primary-rgb), 0.5);\n          transform: scale(1.1);\n        }\n        \n        .zoom-btn:active {\n          transform: scale(0.95);\n        }\n        \n        .zoom-reset-btn {\n          font-size: 14px;\n          width: auto;\n          padding: 0 15px;\n          border-radius: 20px;\n        }\n        \n        .image-zoom-close {\n          position: absolute;\n          top: 20px;\n          right: 20px;\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          background: rgba(var(--bg-tertiary-rgb), 0.8);\n          backdrop-filter: blur(10px);\n          color: var(--text-primary);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          border: 2px solid rgba(var(--accent-primary-rgb), 0.3);\n          transition: all 0.3s ease;\n          z-index: 10;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n        }\n        \n        .image-zoom-close svg {\n          width: 24px;\n          height: 24px;\n          transition: transform 0.3s ease;\n        }\n        \n        .image-zoom-close:hover {\n          background: rgba(var(--accent-primary-rgb), 0.9);\n          border-color: var(--accent-primary);\n          transform: scale(1.1);\n          box-shadow: 0 6px 20px rgba(var(--accent-primary-rgb), 0.4);\n        }\n        \n        .image-zoom-close:hover svg {\n          color: white;\n          transform: rotate(90deg);\n        }\n        \n        .image-zoom-close:active {\n          transform: scale(0.95);\n        }\n        \n        /* Light mode adjustments for close button */\n        .light .image-zoom-close {\n          background: rgba(255, 255, 255, 0.95);\n          color: var(--color-light-ink);\n          border-color: rgba(var(--accent-secondary-rgb), 0.3);\n        }\n        \n        .light .image-zoom-close:hover {\n          background: var(--accent-secondary);\n          color: white;\n          border-color: var(--accent-secondary);\n          box-shadow: 0 6px 20px rgba(var(--accent-secondary-rgb), 0.4);\n        }\n        \n        /* Improved Glitch effect */\n        .image-glitch {\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .image-glitch::before,\n        .image-glitch::after {\n          content: \"\";\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: inherit;\n          background-size: cover;\n          background-position: center;\n          opacity: 0;\n          transition: opacity 0.2s;\n          pointer-events: none;\n        }\n        \n        .image-glitch::before {\n          transform: translateX(-5px);\n          background-color: rgba(var(--accent-primary-rgb), 0.2);\n          mix-blend-mode: multiply;\n        }\n        \n        .image-glitch::after {\n          transform: translateX(5px);\n          background-color: rgba(var(--accent-highlight-rgb), 0.2);\n          mix-blend-mode: screen;\n        }\n        \n        .image-glitch:hover::before,\n        .image-glitch:hover::after {\n          opacity: 1;\n          animation: glitch 0.3s infinite;\n        }\n        \n        @keyframes glitch {\n          0%, 100% { opacity: 0.2; }\n          50% { opacity: 0.3; }\n        }\n        \n        /* Make regular images bigger by default */\n        .image-medium {\n          max-width: 650px; /* Increased from 500px */\n          height: auto;\n        }\n        \n        .image-large {\n          max-width: 950px; /* Increased from 800px */\n          height: auto;\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .zoom-controls {\n            bottom: -60px;\n          }\n          \n          .zoom-btn {\n            width: 36px;\n            height: 36px;\n            font-size: 18px;\n          }\n          \n          .image-zoom-close {\n            top: 10px;\n            right: 10px;\n          }\n          \n          .image-zoom-img {\n            max-height: 80vh;\n          }\n          \n          .image-medium, .image-large {\n            max-width: 100%;\n          }\n        }\n      `}</style>\n    </figure>\n  );\n}","// src/components/ProjectMarkdownRenderer.tsx\n// Renderer for Project pages, aiming for a cleaner, more modern aesthetic.\n// V2 - Fixed TypeScript errors related to 'node' and 'rehypeAllowDangerousHtml'.\n\n'use client';\n\n// --- Core React/Next Imports ---\nimport React, { ReactNode, useMemo, isValidElement, ComponentPropsWithoutRef, CSSProperties, Children } from 'react';\n\n// --- Markdown Processing Libraries ---\nimport ReactMarkdown from 'react-markdown';\nimport remarkMath from 'remark-math';\nimport rehypeKatex from 'rehype-katex';\nimport rehypeSlug from 'rehype-slug';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\nimport remarkGfm from 'remark-gfm';\nimport remarkUnwrapImages from 'remark-unwrap-images';\n// *** FIX 2a: Import rehype-raw ***\nimport rehypeRaw from 'rehype-raw'; // <--- Import this\nimport { Components } from 'react-markdown';\nimport type { PluggableList } from 'unified';\nimport type { Element, Text, Comment, ElementContent, Root } from 'hast';\nimport { visit } from 'unist-util-visit';\n\n// --- Syntax Highlighting (Modern Themes) ---\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\n// --- Theme Context & Custom Components ---\nimport { useTheme } from '@/context/ThemeContext';\nimport ZoomableImage from './ZoomableImage';\nimport { AsciiArtPlaceholder } from '@/lib/asciiPlaceholders';\n\n// --- Icons (Example) ---\nimport { Copy } from 'lucide-react';\n\n// === Interfaces & Types ===\ninterface ProjectMarkdownRendererProps {\n    children: string;\n    className?: string;\n}\n// Keep other necessary types (ReactMarkdownProps, ParagraphProps, etc.)\ntype ReactMarkdownProps = { node?: Element; children?: ReactNode; [key: string]: any; };\ntype ParagraphProps = ComponentPropsWithoutRef<'p'> & ReactMarkdownProps;\ntype BlockquoteProps = ComponentPropsWithoutRef<'blockquote'> & ReactMarkdownProps;\ntype CodeProps = ComponentPropsWithoutRef<'code'> & ReactMarkdownProps & { inline?: boolean };\ntype DivProps = ComponentPropsWithoutRef<'div'> & ReactMarkdownProps;\ntype HeadingProps = ComponentPropsWithoutRef<'h1'> & ReactMarkdownProps;\ntype ImgProps = ComponentPropsWithoutRef<'img'> & ReactMarkdownProps;\ntype TableProps = ComponentPropsWithoutRef<'table'> & ReactMarkdownProps;\ntype TableCellProps = ComponentPropsWithoutRef<'td'> & ReactMarkdownProps & { isHeader?: boolean };\ntype ListProps = ComponentPropsWithoutRef<'ul'> & ReactMarkdownProps & { ordered?: boolean; depth?: number };\ntype ListItemProps = ComponentPropsWithoutRef<'li'> & ReactMarkdownProps & { checked?: boolean | null; index?: number; ordered?: boolean };\ntype LinkProps = ComponentPropsWithoutRef<'a'> & ReactMarkdownProps;\ntype HrProps = ComponentPropsWithoutRef<'hr'> & ReactMarkdownProps;\ntype MarkProps = ComponentPropsWithoutRef<'mark'> & ReactMarkdownProps;\n\ninterface ProjectCalloutProps { children: React.ReactNode; type: 'note' | 'warning' | 'tip' | 'alert'; }\ninterface ImageGridProps { children: React.ReactNode; columns?: number; } // Keep if used\n\n\n// === Helper Functions ===\n/**\n * Extracts the raw text content from a HAST node or its children.\n */\nconst getNodeText = (node: ElementContent | Root | undefined): string => {\n    // (Keep implementation as before)\n    if (!node) return '';\n    if (node.type === 'text') return node.value || '';\n    // @ts-ignore\n    if (node.children && Array.isArray(node.children)) {\n        // @ts-ignore\n        return node.children.map(getNodeText).join('');\n    }\n    return '';\n};\n/**\n * Parses a string of simple key=value attributes.\n */\nconst parseAttributes = (attrString: string): Record<string, string> => {\n    // (Keep implementation as before)\n    const attributes: Record<string, string> = {};\n    const regex = /(\\w+)(?:=(?:\"([^\"]*)\"|'([^']*)'|([^}\\s]+)))?/g;\n    let match;\n    while ((match = regex.exec(attrString)) !== null) {\n        const key = match[1];\n        const value = match[2] ?? match[3] ?? match[4] ?? 'true';\n        attributes[key] = value;\n    }\n    return attributes;\n};\n\n\n// === Helper Components (Project Specific) ===\n\n/**\n * Renders a simpler callout box for projects.\n */\nconst ProjectCallout: React.FC<ProjectCalloutProps> = ({ type, children }) => {\n    return <div className={`project-callout project-callout-${type}`}>{children}</div>;\n};\n\n/**\n * Renders an image grid layout. (Keep if parsing logic added)\n */\nconst ImageGrid: React.FC<ImageGridProps> = ({ children, columns = 2 }) => {\n    return <div className=\"image-grid\" style={{ gridTemplateColumns: `repeat(${columns}, 1fr)` }}>{children}</div>;\n};\n\n\n// === Main Project Renderer Component ===\nexport function ProjectMarkdownRenderer({ children: rawMarkdown, className = \"\" }: ProjectMarkdownRendererProps) {\n    const { isDarkMode } = useTheme();\n\n    // --- Optional: HAST Preprocessing for Project-Specific Syntax ---\n    const rehypeProcessProjectSyntax: PluggableList[number] = () => {\n        return (tree: Root) => {\n           visit(tree, 'element', (node: Element) => {\n                // Transform :::note/warning/tip/alert in blockquotes\n                if (node.tagName === 'blockquote') {\n                    const firstChild = node.children?.[0];\n                    if (firstChild?.type === 'element' && firstChild.tagName === 'p') {\n                        const textContent = getNodeText(firstChild).trim();\n                         const calloutMatch = textContent.match(/^:::(note|warning|tip|alert)\\s*$/);\n                         if(calloutMatch) {\n                            const type = calloutMatch[1] as ProjectCalloutProps['type'];\n                            node.tagName = 'div';\n                            node.properties = {\n                                'data-custom-component': 'project-callout',\n                                'data-callout-type': type,\n                                className: ['project-callout', `project-callout-${type}`]\n                            };\n                            node.children = node.children.slice(1);\n                         }\n                    }\n                }\n                 // Add ImageGrid parsing if needed, e.g., based on :::grid{cols=3} syntax\n                 // Example: Look for paragraphs starting with :::grid\n                 if (node.tagName === 'p') {\n                     const textContent = getNodeText(node).trim();\n                     const gridMatch = textContent.match(/^:::grid\\s*(?:\\{columns?=(\\d+)\\})?\\s*$/); // Match :::grid {cols=3}\n                     if (gridMatch) {\n                         const columns = gridMatch[1] ? parseInt(gridMatch[1], 10) : 2; // Default 2 columns\n                         node.tagName = 'div'; // Change p to div\n                         node.properties = {\n                             'data-custom-component': 'image-grid',\n                             'data-columns': String(columns), // Store columns\n                             className: ['image-grid'] // Add class for CSS targeting\n                         };\n                         node.children = []; // Remove the marker text\n                     }\n                 }\n           });\n        };\n    };\n\n    // --- Component Overrides Map (Modern Style) ---\n    const markdownComponents = useMemo((): Components => ({\n        // Keep all Heading, p, a, hr, ul, ol, li overrides applying project-* classes\n\n        h1: ({ node, children, ...props }: HeadingProps) => <h1 className=\"project-h1\" {...props}>{children}</h1>,\n        h2: ({ node, children, ...props }: HeadingProps) => <h2 className=\"project-h2\" {...props}>{children}</h2>,\n        h3: ({ node, children, ...props }: HeadingProps) => <h3 className=\"project-h3\" {...props}>{children}</h3>,\n        h4: ({ node, children, ...props }: HeadingProps) => <h4 className=\"project-h4\" {...props}>{children}</h4>,\n        h5: ({ node, children, ...props }: HeadingProps) => <h5 className=\"project-h5\" {...props}>{children}</h5>,\n        h6: ({ node, children, ...props }: HeadingProps) => <h6 className=\"project-h6\" {...props}>{children}</h6>,\n        p: ({ node, children, ...props }: ParagraphProps) => <p className=\"project-p\" {...props}>{children}</p>,\n        a: ({ node, children, href, ...props }: LinkProps) => ( <a href={href} className=\"project-link\" target={href?.startsWith('http') ? '_blank' : undefined} rel={href?.startsWith('http') ? 'noopener noreferrer' : undefined} {...props}>{children}</a> ),\n        hr: ({ node, ...props }: HrProps) => <hr className=\"project-hr\" {...props} />,\n        ul: ({ node, children, ...props }: ListProps) => <ul className=\"project-ul\" {...props}>{children}</ul>,\n        ol: ({ node, children, ...props }: ListProps) => <ol className=\"project-ol\" {...props}>{children}</ol>,\n        li: ({ node, children, ...props }: ListItemProps) => <li className=\"project-li\" {...props}>{children}</li>,\n\n\n        blockquote: ({ node, children, ...props }: BlockquoteProps) => {\n            // Render standard project blockquote (callouts handled by div override now)\n            return <blockquote className=\"project-blockquote\" {...props}>{children}</blockquote>;\n        },\n\n        code: ({ node, inline, className: codeClassName, children: codeChildren, ...props }: CodeProps) => {\n            // (Keep the existing modern code block implementation from previous response)\n            const match = /language-(\\w+)/.exec(codeClassName || '');\n            const isBlock = !inline && match;\n            if (isBlock) {\n                const language = match[1];\n                const codeString = String(codeChildren ?? '').replace(/\\n$/, '');\n                const handleCopy = () => navigator.clipboard.writeText(codeString);\n                return (\n                    <div className=\"project-code-block-wrapper\">\n                        <SyntaxHighlighter style={(isDarkMode ? vscDarkPlus : oneLight) as any} language={language} PreTag=\"div\" showLineNumbers customStyle={{ margin: '0', padding: '1.2rem 1.5rem', borderRadius: 'var(--radius-lg)', backgroundColor: 'transparent', }} codeTagProps={{ style: { fontFamily: 'var(--font-mono)', fontSize: '0.9rem', lineHeight: '1.6', } }} {...props} >\n                            {codeString}\n                        </SyntaxHighlighter>\n                        <button type=\"button\" className=\"project-copy-button\" onClick={handleCopy} aria-label=\"Copy code\" title=\"Copy\"> <Copy size={14} /> </button>\n                    </div> );\n            }\n            return <code className={`project-inline-code ${codeClassName || ''}`} {...props}>{codeChildren}</code>;\n        },\n\n        img: ({ node, src, alt, ...props }: ImgProps) => {\n            // (Keep the existing image parsing logic and ZoomableImage rendering from previous response)\n            if (!src) return <AsciiArtPlaceholder className=\"mx-auto my-8\" />;\n            const altString = typeof alt === 'string' ? alt : '';\n            let imageSize: 'small' | 'medium' | 'large' | 'full' = 'large';\n            let imageAlign: 'left' | 'center' | 'right' = 'center';\n            let imageEffect: 'shadow' | 'none' = 'shadow';\n            let imageBorder: 'none' | 'simple' = 'none'; // Simplified project borders\n            let imageCaption = '';\n            let altText = altString;\n            let isZoomable = true;\n             if (altString.includes('|')) {\n                 const parts = altString.split('|');\n                 altText = parts[0].trim();\n                 parts.slice(1).forEach(part => {\n                     const [key, value] = part.includes('=') ? part.split('=', 2) : [part.trim(), 'true'];\n                     const trimmedKey = key.trim().toLowerCase();\n                     const trimmedValue = value.trim().replace(/^[\"']|[\"']$/g, '');\n                     switch (trimmedKey) {\n                         case 'size': if (['small', 'medium', 'large', 'full'].includes(trimmedValue)) imageSize = trimmedValue as any; break;\n                         case 'align': if (['left', 'center', 'right'].includes(trimmedValue)) imageAlign = trimmedValue as any; break;\n                         case 'effect': if (['shadow', 'none'].includes(trimmedValue)) imageEffect = trimmedValue as any; break;\n                         case 'border': if (['none', 'simple'].includes(trimmedValue)) imageBorder = trimmedValue as any; break;\n                         case 'caption': imageCaption = trimmedValue; break;\n                         case 'zoomable': isZoomable = trimmedValue !== 'false'; break;\n                     }\n                 });\n             }\n             return ( <div className={`markdown-image-wrapper project-image-wrapper align-${imageAlign}`}> <ZoomableImage src={src} alt={altText} caption={imageCaption} size={imageSize} effect={imageEffect} border={imageBorder} zoomable={isZoomable} {...props} /> </div> );\n        },\n\n        table: ({ node, children, ...props }: TableProps) => ( <div className=\"project-table-wrapper\"> <table className=\"project-table\" {...props}>{children}</table> </div> ),\n        th: ({ node, children, ...props }: TableCellProps) => <th className=\"project-th\" {...props}>{children}</th>,\n        td: ({ node, children, ...props }: TableCellProps) => <td className=\"project-td\" {...props}>{children}</td>,\n\n        // --- Div Override (Handles components transformed by HAST plugin) ---\n        div: ({ node, children, ...props }: DivProps) => {\n            // *** FIX 1: Add check for node ***\n            if (!node) {\n                // Render a default div or fragment if node is somehow undefined\n                // This case should be rare with react-markdown\n                return <div {...props}>{children}</div>;\n            }\n\n            const componentType = node.properties?.['data-custom-component'];\n\n            // Handle project callouts transformed by HAST plugin\n            if (componentType === 'project-callout') {\n                const calloutType = node.properties['data-callout-type'];\n                if (typeof calloutType === 'string') {\n                     return <ProjectCallout type={calloutType as ProjectCalloutProps['type']}>{children}</ProjectCallout>;\n                }\n            }\n\n            // Handle Image Grids transformed by HAST plugin\n            if (componentType === 'image-grid') {\n                const columnsAttr = node.properties['data-columns'];\n                const columns = typeof columnsAttr === 'string' ? parseInt(columnsAttr, 10) : 2;\n                // Need to filter children if HAST plugin didn't remove text nodes\n                 const imageChildren = Children.toArray(children).filter(child =>\n                     isValidElement(child) &&\n                     (child.type === 'img' || (child.props as any)?.className?.includes('markdown-image-wrapper'))\n                 );\n                return <ImageGrid columns={columns}>{imageChildren}</ImageGrid>;\n            }\n\n            // Default div rendering\n            return <div {...props}>{children}</div>;\n        },\n\n        // --- Mark Tag Override ---\n        mark: ({ node, children, ...props }: MarkProps) => {\n           return <mark className=\"project-mark\" {...props}>{children}</mark>\n        }\n\n    }), [isDarkMode]);\n\n    // --- Plugin Configuration ---\n    const remarkPlugins: PluggableList = [remarkGfm, remarkMath, remarkUnwrapImages];\n    const rehypePlugins: PluggableList = [\n        // *** FIX 2b: Add rehype-raw ***\n        rehypeRaw, // Process raw HTML elements like <mark>\n        rehypeSlug,\n        [rehypeAutolinkHeadings, { behavior: 'wrap' }],\n        rehypeKatex,\n        rehypeProcessProjectSyntax // Apply project-specific transformations\n    ];\n\n    // --- Final Render ---\n    return (\n        <div className={`project-prose ${className}`}>\n            <ReactMarkdown\n                children={rawMarkdown}\n                components={markdownComponents}\n                remarkPlugins={remarkPlugins}\n                rehypePlugins={rehypePlugins}\n                // *** FIX 2c: Remove invalid prop ***\n                // rehypeAllowDangerousHtml={true} // REMOVED - Use rehype-raw plugin instead\n            />\n        </div>\n    );\n}","// File: src/lib/github.ts\n\nimport { Octokit } from \"@octokit/rest\";\n\nconst octokit = new Octokit({\n  userAgent: \"manicinc-site/1.0\",\n  timeout: 10000\n});\n\n// --- Generic GitHub Utilities ---\n\n/**\n * Fetch basic repository metadata\n */\nexport async function fetchRepoMetadata(user: string, repo: string) {\n  try {\n    const { data } = await octokit.repos.get({ owner: user, repo });\n    return data;\n  } catch (err) {\n    console.error(`[GitHub] Failed to fetch repo metadata: ${user}/${repo}`, err);\n    return null;\n  }\n}\n\nexport function parseGitHubUrl(url: string): { user: string; repo: string } | null {\n    try {\n      const match = url.match(/github\\.com[:/]([\\w-]+)\\/([\\w.-]+)/);\n      if (match) {\n        return {\n          user: match[1],\n          repo: match[2].replace(/\\.git$/, \"\")\n        };\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  }\n\n/**\n * Fetch contributors to a repo\n */\nexport async function fetchRepoContributors(user: string, repo: string) {\n  try {\n    const { data } = await octokit.repos.listContributors({ owner: user, repo });\n    return data;\n  } catch (err) {\n    console.error(`[GitHub] Failed to fetch contributors for: ${user}/${repo}`, err);\n    return [];\n  }\n}\n\n/**\n * Fetch commit activity over time\n */\nexport async function fetchRepoCommitActivity(user: string, repo: string) {\n  try {\n    const { data } = await octokit.repos.getCommitActivityStats({ owner: user, repo });\n    return data; // array of 52 weeks\n  } catch (err) {\n    console.error(`[GitHub] Failed to fetch commit activity: ${user}/${repo}`, err);\n    return [];\n  }\n}\n\n/**\n * Fetch languages used in the repo\n */\nexport async function fetchRepoLanguages(user: string, repo: string) {\n  try {\n    const { data } = await octokit.repos.listLanguages({ owner: user, repo });\n    return data;\n  } catch (err) {\n    console.error(`[GitHub] Failed to fetch languages: ${user}/${repo}`, err);\n    return {};\n  }\n}\n\n/**\n * Get all public repos from a given user/org\n */\nexport async function fetchUserRepos(user: string) {\n  try {\n    const { data } = await octokit.repos.listForUser({ username: user, per_page: 100 });\n    return data;\n  } catch (err) {\n    console.error(`[GitHub] Failed to fetch repos for user: ${user}`, err);\n    return [];\n  }\n}\n\n/**\n * Detect if repo uses GitHub Pages / CI\n */\nexport async function fetchRepoPagesStatus(user: string, repo: string) {\n  try {\n    const { data } = await octokit.repos.getPages({ owner: user, repo });\n    return data.status; // 'built', 'building', etc.\n  } catch (err) {\n    return null;\n  }\n}\n","// File: src/components/Project/TableOfContents.tsx\n// V2 - Full Code: Themed Styling\n\n'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { TableOfContentsItem } from '@/types/project'; // Ensure path is correct\n\ninterface TableOfContentsProps {\n  toc: TableOfContentsItem[];\n}\n\nconst TableOfContents: React.FC<TableOfContentsProps> = ({ toc }) => {\n  const [activeSlug, setActiveSlug] = useState<string | null>(null);\n  const observer = useRef<IntersectionObserver | null>(null);\n  const tocContainerRef = useRef<HTMLElement>(null);\n  const manualScrollTimeoutRef = useRef<number | null>(null);\n  const manualScrollTargetRef = useRef<HTMLElement | null>(null);\n  const manualScrollHandlerRef = useRef<((this: Window, ev: Event) => void) | null>(null);\n  const isManualScrollRef = useRef(false);\n\n  const clearManualScroll = useCallback(() => {\n    isManualScrollRef.current = false;\n    manualScrollTargetRef.current = null;\n    if (manualScrollHandlerRef.current) {\n      window.removeEventListener('scroll', manualScrollHandlerRef.current);\n      manualScrollHandlerRef.current = null;\n    }\n    if (manualScrollTimeoutRef.current !== null) {\n      window.clearTimeout(manualScrollTimeoutRef.current);\n      manualScrollTimeoutRef.current = null;\n    }\n  }, []);\n\n  const computeScrollMarginTop = useCallback((element: HTMLElement) => {\n    const computed = window.getComputedStyle(element).scrollMarginTop;\n    if (!computed) return 0;\n    const parsed = parseFloat(computed);\n    return Number.isFinite(parsed) ? parsed : 0;\n  }, []);\n\n  // Intersection Observer Logic\n  useEffect(() => {\n    if (observer.current) observer.current.disconnect();\n    const observerCallback = (entries: IntersectionObserverEntry[]) => {\n        let bestVisibleEntry: IntersectionObserverEntry | undefined;\n        for (const entry of entries) {\n            if (entry.isIntersecting) { bestVisibleEntry = entry; break; }\n            if (!bestVisibleEntry || entry.boundingClientRect.top < bestVisibleEntry.boundingClientRect.top) { bestVisibleEntry = entry; }\n        }\n        if (bestVisibleEntry && !isManualScrollRef.current) setActiveSlug(bestVisibleEntry.target.id);\n    };\n    observer.current = new IntersectionObserver(observerCallback, { rootMargin: '-100px 0px -50% 0px', threshold: 0 });\n    const { current: currentObserver } = observer;\n    const observedElements: Element[] = [];\n    toc.forEach((item) => {\n      const element = document.getElementById(item.slug);\n      if (element) { currentObserver?.observe(element); observedElements.push(element); }\n    });\n    return () => { observedElements.forEach(el => currentObserver?.unobserve(el)); currentObserver?.disconnect(); };\n  }, [toc]);\n\n  // Auto-scroll Active Link into View\n   useEffect(() => {\n     if (activeSlug && tocContainerRef.current) {\n       const activeLink = tocContainerRef.current.querySelector<HTMLAnchorElement>(`a[href=\"#${activeSlug}\"]`);\n       if (activeLink) {\n           const containerRect = tocContainerRef.current.getBoundingClientRect();\n           const linkRect = activeLink.getBoundingClientRect();\n           const isVisible = linkRect.top >= containerRect.top && linkRect.bottom <= containerRect.bottom;\n           if (!isVisible) { activeLink.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); }\n       }\n     }\n   }, [activeSlug]);\n\n  // Handle Manual Click & Scroll\n  const handleScroll = (e: React.MouseEvent<HTMLAnchorElement>, slug: string) => {\n    e.preventDefault();\n    const element = document.getElementById(slug);\n    if (!element) return;\n\n    clearManualScroll();\n    isManualScrollRef.current = true;\n    manualScrollTargetRef.current = element;\n\n    const monitorScroll = () => {\n      const targetEl = manualScrollTargetRef.current;\n      if (!targetEl) return;\n      const marginTop = computeScrollMarginTop(targetEl);\n      const distance = Math.abs(targetEl.getBoundingClientRect().top - marginTop);\n      const reachedBottom = window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 1;\n      if (distance <= 2 || reachedBottom) {\n        clearManualScroll();\n      }\n    };\n\n    manualScrollHandlerRef.current = monitorScroll;\n    window.addEventListener('scroll', monitorScroll, { passive: true });\n\n    manualScrollTimeoutRef.current = window.setTimeout(clearManualScroll, 2000);\n\n    setActiveSlug(slug);\n    window.history.replaceState(null, '', `#${slug}`);\n    element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    requestAnimationFrame(() => monitorScroll());\n  };\n\n  useEffect(() => {\n    return () => {\n      clearManualScroll();\n    };\n  }, [clearManualScroll]);\n\n  if (!toc || toc.length === 0) return null;\n\n  return (\n    <aside ref={tocContainerRef} className=\"toc-container sticky top-24\">\n      <h3 className=\"toc-heading\"> Index:// Navigation </h3>\n      <ul className=\"toc-list\">\n        {toc.map((item) => (\n          <li key={item.slug} className=\"toc-list-item\" style={{ paddingLeft: `${(item.level - 1) * 1}rem` }} >\n            <a href={`#${item.slug}`} onClick={(e) => handleScroll(e, item.slug)} className={`toc-link group ${activeSlug === item.slug ? 'active' : 'inactive'}`} >\n              {item.level > 1 && ( <span className={`nesting-indicator ${activeSlug === item.slug ? 'active' : ''}`}>â†³</span> )}\n              <span className=\"link-text\">{item.text}</span>\n            </a>\n          </li>\n        ))}\n      </ul>\n      <div className=\"toc-footer\"> <span className=\"eof-marker\">// EOF_INDEX //</span> </div>\n       <style jsx>{`\n         .toc-container { height: calc(100vh - 8rem); max-height: 700px; overflow-y: auto; padding: 1.2rem 1rem 1.2rem 1.2rem; margin-right: -1rem; border: 1px solid rgba(var(--accent-primary-rgb), 0.4); border-radius: var(--radius-base); background: rgba(var(--bg-secondary-rgb), 0.6); backdrop-filter: blur(8px); box-shadow: 3px 3px 0px rgba(var(--accent-highlight-rgb), 0.2), inset 0 0 10px rgba(var(--bg-primary-rgb), 0.4); scrollbar-width: thin; scrollbar-color: var(--accent-primary) var(--bg-secondary); }\n         .toc-container::-webkit-scrollbar { width: 6px; } .toc-container::-webkit-scrollbar-track { background: var(--bg-secondary); border-radius: 3px; } .toc-container::-webkit-scrollbar-thumb { background-color: var(--accent-primary); border-radius: 3px; border: 1px solid var(--bg-secondary); } .toc-container::-webkit-scrollbar-thumb:hover { background-color: var(--accent-highlight); }\n         .toc-heading { font-size: 0.9rem; font-weight: 700; font-family: var(--font-mono); margin-bottom: 1rem; color: var(--accent-primary); letter-spacing: 0.08em; text-transform: uppercase; padding-bottom: 0.5rem; border-bottom: 1px dashed rgba(var(--accent-primary-rgb), 0.3); text-shadow: 0 0 4px rgba(var(--accent-primary-rgb), 0.5); }\n         .toc-list { list-style: none; padding: 0; margin: 0; }\n         .toc-list-item { margin-bottom: 0.1rem; }\n         .toc-link { display: block; padding: 0.3rem 0.5rem; border-radius: 2px; font-size: 0.8rem; line-height: 1.4; font-family: var(--font-mono); transition: all 0.2s ease-out; cursor: pointer; position: relative; overflow: hidden; }\n         .toc-link.inactive { color: var(--text-secondary); }\n         .toc-link.inactive:hover { color: var(--accent-highlight); background-color: rgba(var(--accent-highlight-rgb), 0.1); transform: translateX(3px); }\n         .toc-link.active { color: var(--accent-highlight); font-weight: 600; background-color: rgba(var(--accent-highlight-rgb), 0.15); transform: scale(1.03); box-shadow: 0 0 8px rgba(var(--accent-highlight-rgb), 0.3); }\n         .toc-link.active::before { content: ''; position: absolute; left: -1.2rem; top: 0; bottom: 0; width: 3px; background-color: var(--accent-highlight); border-radius: 2px; animation: pulse-marker 1.5s infinite ease-in-out; }\n         @keyframes pulse-marker { 0%, 100% { opacity: 0.7; box-shadow: 0 0 3px var(--accent-highlight); } 50% { opacity: 1; box-shadow: 0 0 6px var(--accent-highlight); } }\n         .nesting-indicator { margin-right: 0.4rem; display: inline-block; opacity: 0.5; transition: color 0.2s ease; color: var(--text-muted); }\n         .nesting-indicator.active { color: var(--accent-highlight); opacity: 0.8; }\n         .toc-link:hover .nesting-indicator { color: var(--accent-highlight); }\n         .link-text { }\n         .toc-footer { margin-top: 1.5rem; padding-top: 0.8rem; border-top: 1px dashed rgba(var(--accent-primary-rgb), 0.2); text-align: center; }\n         .eof-marker { font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-muted); opacity: 0.6; letter-spacing: 0.1em; user-select: none; }\n       `}</style>\n    </aside>\n  );\n};\n\nexport default TableOfContents;","// File: src/components/Project/MinimapNav.tsx\n// V2 - Full Code: Themed Styling & Enhanced Visuals\n\n'use client';\n\nimport React, { useEffect, useRef, useMemo, useState, useCallback } from 'react';\nimport { TableOfContentsItem } from '@/types/project'; // Ensure path is correct\n\ninterface MinimapNavProps {\n  toc: TableOfContentsItem[];\n}\n\nconst MinimapNav: React.FC<MinimapNavProps> = ({ toc }) => {\n  const [activeSlug, setActiveSlug] = useState<string | null>(null);\n  const observer = useRef<IntersectionObserver | null>(null);\n  const minimapContainerRef = useRef<HTMLDivElement>(null);\n  const manualScrollTimeoutRef = useRef<number | null>(null);\n  const manualScrollTargetRef = useRef<HTMLElement | null>(null);\n  const manualScrollHandlerRef = useRef<((this: Window, ev: Event) => void) | null>(null);\n  const isManualScrollRef = useRef(false);\n\n  const clearManualScroll = useCallback(() => {\n    isManualScrollRef.current = false;\n    manualScrollTargetRef.current = null;\n    if (manualScrollHandlerRef.current) {\n      window.removeEventListener('scroll', manualScrollHandlerRef.current);\n      manualScrollHandlerRef.current = null;\n    }\n    if (manualScrollTimeoutRef.current !== null) {\n      window.clearTimeout(manualScrollTimeoutRef.current);\n      manualScrollTimeoutRef.current = null;\n    }\n  }, []);\n\n  const computeScrollMarginTop = useCallback((element: HTMLElement) => {\n    const computed = window.getComputedStyle(element).scrollMarginTop;\n    if (!computed) return 0;\n    const parsed = parseFloat(computed);\n    return Number.isFinite(parsed) ? parsed : 0;\n  }, []);\n\n  const filteredToc = useMemo(() => {\n    if (!Array.isArray(toc)) return [];\n\n    const normalized = toc\n      .filter((item) => item && item.slug && item.text)\n      .map((item) => ({\n        ...item,\n        level: typeof item.level === 'number' ? item.level : 1,\n      })) as TableOfContentsItem[];\n\n    const prioritized = normalized.filter((item) => item.level <= 2);\n    const source = prioritized.length >= 3 ? prioritized : normalized;\n\n    const unique: TableOfContentsItem[] = [];\n    const seenSlugs = new Set<string>();\n\n    for (const item of source) {\n      if (seenSlugs.has(item.slug)) continue;\n      unique.push(item);\n      seenSlugs.add(item.slug);\n      if (unique.length >= 14) break; // Prevent overly dense minimap\n    }\n\n    return unique;\n  }, [toc]);\n\n   // --- Intersection Observer Logic ---\n    useEffect(() => {\n        if (observer.current) observer.current.disconnect();\n        const observerCallback = (entries: IntersectionObserverEntry[]) => {\n             let bestVisibleEntry: IntersectionObserverEntry | undefined;\n             for (const entry of entries) {\n                 if (entry.isIntersecting) { bestVisibleEntry = entry; break; }\n                 if (!bestVisibleEntry || entry.boundingClientRect.top < bestVisibleEntry.boundingClientRect.top) { bestVisibleEntry = entry; }\n             }\n             if (bestVisibleEntry && !isManualScrollRef.current) setActiveSlug(bestVisibleEntry.target.id);\n        };\n        const computedHeader = getComputedStyle(document.documentElement).getPropertyValue('--header-height');\n        const parsedHeader = parseInt(computedHeader.replace('px', '').trim(), 10);\n        const headerOffset = Number.isFinite(parsedHeader) ? parsedHeader + 24 : 110;\n        observer.current = new IntersectionObserver(observerCallback, { rootMargin: `-${headerOffset}px 0px -45% 0px`, threshold: 0.1 });\n        const { current: currentObserver } = observer;\n        const observedElements: Element[] = [];\n        filteredToc.forEach((item) => {\n             const element = document.getElementById(item.slug);\n             if (element) { currentObserver?.observe(element); observedElements.push(element); }\n        });\n        return () => { observedElements.forEach(el => currentObserver?.unobserve(el)); currentObserver?.disconnect(); };\n    }, [filteredToc]);\n\n  // --- Scroll To Section ---\n  const handleScrollTo = (slug: string) => {\n    const el = document.getElementById(slug);\n    if (!el) return;\n\n    clearManualScroll();\n    isManualScrollRef.current = true;\n    manualScrollTargetRef.current = el;\n\n    const monitorScroll = () => {\n      const targetEl = manualScrollTargetRef.current;\n      if (!targetEl) return;\n      const marginTop = computeScrollMarginTop(targetEl);\n      const distance = Math.abs(targetEl.getBoundingClientRect().top - marginTop);\n      const reachedBottom = window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 1;\n      if (distance <= 2 || reachedBottom) {\n        clearManualScroll();\n      }\n    };\n\n    manualScrollHandlerRef.current = monitorScroll;\n    window.addEventListener('scroll', monitorScroll, { passive: true });\n\n    manualScrollTimeoutRef.current = window.setTimeout(clearManualScroll, 3500);\n\n    setActiveSlug(slug);\n    window.history.replaceState(null, '', `#${slug}`);\n\n    // Compute sticky header offset similar to observer rootMargin\n    const computedHeader = getComputedStyle(document.documentElement).getPropertyValue('--header-height');\n    const parsedHeader = parseInt(computedHeader.replace('px', '').trim(), 10);\n    const headerOffset = Number.isFinite(parsedHeader) ? parsedHeader + 24 : 110;\n\n    // Scroll accounting for header offset to avoid overshoot/bounce\n    const targetTop = window.scrollY + el.getBoundingClientRect().top - headerOffset;\n    window.scrollTo({ top: Math.max(0, targetTop), behavior: 'smooth' });\n    requestAnimationFrame(() => monitorScroll());\n  };\n\n  // --- Auto-scroll Minimap Indicator ---\n  useEffect(() => {\n    if (activeSlug && minimapContainerRef.current) {\n        const activeIndicator = minimapContainerRef.current.querySelector<HTMLButtonElement>(`[data-slug=\"${activeSlug}\"]`);\n        if (activeIndicator) { activeIndicator.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); }\n    }\n  }, [activeSlug]);\n\n  useEffect(() => {\n    if (!activeSlug && filteredToc.length > 0) {\n      setActiveSlug(filteredToc[0].slug);\n    }\n  }, [filteredToc, activeSlug]);\n\n\n  useEffect(() => {\n    return () => {\n      clearManualScroll();\n    };\n  }, [clearManualScroll]);\n\n  if (!filteredToc || filteredToc.length < 3) return null; // Only show if enough sections\n\n  return (\n    <div ref={minimapContainerRef} className=\"minimap-container\">\n      {filteredToc.map((item) => {\n        // Different shapes and sizes based on heading level\n        const getIndicatorClass = () => {\n          const baseClass = 'minimap-indicator';\n          const levelClass = `level-${item.level}`;\n          const shapeClass = item.level === 1 ? 'shape-circle' : \n                           item.level === 2 ? 'shape-rectangle' : \n                           'shape-diamond';\n          const activeClass = activeSlug === item.slug ? 'active' : 'inactive';\n          return `${baseClass} ${levelClass} ${shapeClass} ${activeClass}`;\n        };\n\n        return (\n          <button\n            key={item.slug}\n            data-slug={item.slug}\n            onClick={() => handleScrollTo(item.slug)}\n            title={item.text}\n            className={getIndicatorClass()}\n            aria-label={`Scroll to ${item.text}`}\n            aria-pressed={activeSlug === item.slug}\n          >\n             <span className=\"indicator-core\"></span>\n             <span className=\"tooltip-text\">{item.text}</span>\n          </button>\n        );\n     })}\n\n     {/* Enhanced JSX Styles for MinimapNav */}\n     <style jsx>{`\n        /* ===== CONTAINER ===== */\n        .minimap-container {\n            position: fixed;\n            top: 50%;\n            transform: translateY(-50%);\n            right: 1.5rem;\n            z-index: 40;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n            max-height: calc(100vh - 10rem);\n            overflow-y: auto;\n            padding: 1rem 0.8rem;\n            background: rgba(var(--bg-secondary-rgb), 0.85);\n            border: 2px solid rgba(var(--accent-highlight-rgb), 0.3);\n            border-radius: var(--radius-lg);\n            backdrop-filter: blur(12px);\n            box-shadow: \n                var(--shadow-large),\n                0 0 20px rgba(var(--accent-highlight-rgb), 0.15),\n                inset 0 1px 0 rgba(255, 255, 255, 0.1);\n            scrollbar-width: none;\n            transition: all 0.3s ease;\n        }\n        \n        .minimap-container::-webkit-scrollbar { display: none; }\n        \n                 /* Show on all screen sizes */\n         .minimap-container {\n             display: flex;\n         }\n\n        /* ===== BASE INDICATOR STYLES ===== */\n        .minimap-indicator {\n            position: relative;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n            border: none;\n            background: transparent;\n            flex-shrink: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        /* ===== SHAPES FOR DIFFERENT LEVELS ===== */\n        /* Level 1: Large Circle */\n        .minimap-indicator.level-1 {\n            width: 14px;\n            height: 14px;\n        }\n        \n        .minimap-indicator.level-1.shape-circle {\n            border-radius: 50%;\n            background: var(--accent-primary);\n        }\n\n        /* Level 2: Rectangle */\n        .minimap-indicator.level-2 {\n            width: 12px;\n            height: 8px;\n        }\n        \n        .minimap-indicator.level-2.shape-rectangle {\n            border-radius: 2px;\n            background: var(--accent-secondary);\n        }\n\n        /* Level 3+: Diamond */\n        .minimap-indicator.level-3,\n        .minimap-indicator.level-4,\n        .minimap-indicator.level-5,\n        .minimap-indicator.level-6 {\n            width: 8px;\n            height: 8px;\n        }\n        \n        .minimap-indicator.shape-diamond {\n            transform: rotate(45deg);\n            background: var(--accent-cool);\n            border-radius: 1px;\n        }\n\n        /* ===== INACTIVE STATES ===== */\n        .minimap-indicator.inactive {\n            opacity: 0.5;\n            box-shadow: \n                0 2px 4px rgba(var(--shadow-color-rgb), 0.2),\n                inset 0 1px 0 rgba(255, 255, 255, 0.1);\n        }\n\n                 /* ===== HOVER STATES ===== */\n         .minimap-indicator.inactive:hover {\n             opacity: 0.8;\n             transform: scale(1.2);\n             background: var(--accent-highlight) !important;\n             box-shadow: \n                 0 2px 8px rgba(var(--accent-highlight-rgb), 0.3),\n                 0 0 12px rgba(var(--accent-highlight-rgb), 0.2);\n         }\n\n         /* Special hover for diamonds */\n         .minimap-indicator.inactive.shape-diamond:hover {\n             transform: rotate(45deg) scale(1.2);\n         }\n\n                 /* ===== ACTIVE STATES (Subtle) ===== */\n         .minimap-indicator.active {\n             opacity: 1;\n             background: var(--accent-highlight) !important;\n             box-shadow: \n                 0 3px 12px rgba(var(--accent-highlight-rgb), 0.4),\n                 0 0 16px rgba(var(--accent-highlight-rgb), 0.3),\n                 inset 0 1px 0 rgba(255, 255, 255, 0.15);\n             animation: subtlePulse 3s ease-in-out infinite;\n         }\n\n                 /* Active scaling - more subtle */\n         .minimap-indicator.active.level-1 {\n             transform: scale(1.4);\n             width: 14px;\n             height: 14px;\n         }\n\n         .minimap-indicator.active.level-2 {\n             transform: scale(1.3);\n             width: 12px;\n             height: 8px;\n         }\n\n         .minimap-indicator.active.shape-diamond {\n             transform: rotate(45deg) scale(1.5);\n             width: 8px;\n             height: 8px;\n         }\n\n        /* ===== DIMMING INACTIVE WHEN ACTIVE EXISTS ===== */\n        .minimap-container:has(.active) .minimap-indicator.inactive {\n            opacity: 0.25;\n            filter: grayscale(0.3);\n        }\n\n        .minimap-container:has(.active) .minimap-indicator.inactive:hover {\n            opacity: 0.7;\n            filter: grayscale(0);\n        }\n\n                 /* ===== SUBTLE PULSE ANIMATION ===== */\n         @keyframes subtlePulse {\n             0%, 100% { \n                 box-shadow: \n                     0 3px 12px rgba(var(--accent-highlight-rgb), 0.4),\n                     0 0 16px rgba(var(--accent-highlight-rgb), 0.3),\n                     inset 0 1px 0 rgba(255, 255, 255, 0.15);\n                 opacity: 1;\n             }\n             50% { \n                 box-shadow: \n                     0 4px 16px rgba(var(--accent-highlight-rgb), 0.5),\n                     0 0 20px rgba(var(--accent-highlight-rgb), 0.4),\n                     inset 0 1px 0 rgba(255, 255, 255, 0.2);\n                 opacity: 0.9;\n             }\n         }\n\n        /* ===== TOOLTIP ===== */\n        .tooltip-text {\n            position: absolute;\n            right: calc(100% + 16px);\n            top: 50%;\n            transform: translateY(-50%);\n            background: var(--bg-tooltip, var(--bg-tertiary));\n            color: var(--text-tooltip, var(--text-primary));\n            padding: 0.4rem 0.8rem;\n            border-radius: var(--radius-base);\n            border: 1px solid rgba(var(--accent-highlight-rgb), 0.4);\n            font-size: 0.75rem;\n            font-family: var(--font-mono);\n            font-weight: 600;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.2s ease 0.3s;\n            pointer-events: none;\n            z-index: 50;\n            box-shadow: var(--shadow-medium);\n            backdrop-filter: blur(8px);\n        }\n\n        .minimap-indicator:hover .tooltip-text {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(-50%) translateX(-4px);\n        }\n\n                 /* ===== MOBILE RESPONSIVE ===== */\n         @media (max-width: 768px) {\n             .minimap-container {\n                 right: 0.75rem;\n                 padding: 0.3rem 0.25rem;\n                 gap: 3px;\n                 max-height: calc(100vh - 12rem);\n                 transform: translateY(-50%) scale(0.7);\n                 transform-origin: right center;\n             }\n             \n             /* Much smaller mobile indicators */\n             .minimap-indicator.level-1 { width: 6px; height: 6px; }\n             .minimap-indicator.level-2 { width: 5px; height: 4px; }\n             .minimap-indicator.level-3,\n             .minimap-indicator.level-4,\n             .minimap-indicator.level-5,\n             .minimap-indicator.level-6 { width: 4px; height: 4px; }\n             \n             /* Very subtle active states on mobile */\n             .minimap-indicator.active.level-1 {\n                 transform: scale(1.2);\n             }\n             .minimap-indicator.active.level-2 {\n                 transform: scale(1.15);\n             }\n             .minimap-indicator.active.shape-diamond {\n                 transform: rotate(45deg) scale(1.2);\n             }\n             \n             /* Minimal hover effects on mobile */\n             .minimap-indicator.inactive:hover {\n                 transform: scale(1.05);\n             }\n             .minimap-indicator.inactive.shape-diamond:hover {\n                 transform: rotate(45deg) scale(1.05);\n             }\n         }\n\n         /* Tablet-specific adjustments */\n         @media (min-width: 769px) and (max-width: 1280px) {\n             .minimap-container {\n                 right: 1rem;\n                 padding: 0.8rem 0.6rem;\n                 gap: 6px;\n             }\n             \n             .minimap-indicator.level-1 { width: 12px; height: 12px; }\n             .minimap-indicator.level-2 { width: 10px; height: 6px; }\n             .minimap-indicator.level-3,\n             .minimap-indicator.level-4,\n             .minimap-indicator.level-5,\n             .minimap-indicator.level-6 { width: 6px; height: 6px; }\n         }\n\n     `}</style>\n    </div>\n  );\n};\n\nexport default MinimapNav;","// src/components/Project/ProjectDetailClient.tsx\n// V9 - Complete implementation with ProjectMarkdownRenderer, Helpers, Scroll-to-Top\n\n'use client';\n\n// --- React and Next.js Imports ---\nimport React, { useEffect, useState, useRef, useMemo } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\n// --- Icon Imports (Using lucide-react as an example) ---\nimport {\n    Github, ExternalLink, Clock, ArrowLeft, Star, GitFork, AlertTriangle, Users, FileCode,\n    Activity, Info, ChevronDown, ChevronUp, Layers, CalendarDays, Eye, ShieldCheck, MessageSquare, Tag, Image as ImageIcon, ArrowUpCircle\n} from 'lucide-react';\n\n// --- Project Specific Imports ---\nimport { Project, TableOfContentsItem, TeamMember, Testimonial } from '@/types/project'; // Ensure types cover all used fields\nimport ProjectCard from './ProjectCard'; // Component to display related projects\nimport { ProjectMarkdownRenderer } from '@/components/ProjectMarkdownRenderer'; // The NEW project-specific renderer\nimport { parseGitHubUrl, fetchRepoMetadata, fetchRepoLanguages, fetchRepoContributors } from '@/lib/github'; // GitHub utility functions\nimport TableOfContents from './TableOfContents'; // Component for displaying TOC\nimport MinimapNav from './MinimapNav'; // Component for the minimap navigation\nimport AsciiArtPlaceholder from '@/lib/asciiPlaceholders'; // Fallback placeholder component\n\n// --- GitHub API Data Types (Allowing for potentially null fields from API) ---\ninterface GitHubRepoOwner {\n    login?: string;\n    avatar_url?: string;\n    html_url?: string;\n}\ninterface GitHubRepoLicense {\n    name?: string | null;\n    spdx_id?: string | null;\n    url?: string | null;\n}\ninterface GitHubRepoMetadata {\n    name?: string;\n    description?: string | null;\n    html_url?: string;\n    owner?: GitHubRepoOwner;\n    stargazers_count?: number;\n    forks_count?: number;\n    subscribers_count?: number; // For watchers\n    open_issues_count?: number;\n    size?: number; // Size in KB\n    language?: string | null;\n    license?: GitHubRepoLicense | null;\n    created_at?: string; // ISO Date string\n    updated_at?: string; // ISO Date string\n    pushed_at?: string; // ISO Date string\n    homepage?: string | null;\n    topics?: string[];\n}\ninterface GitHubContributor {\n    id?: number;\n    login?: string;\n    avatar_url?: string;\n    html_url?: string;\n    contributions?: number;\n}\n\n// --- Component Props Interface ---\ninterface ProjectDetailClientProps {\n    project: Project; // The project data fetched by the server component\n    relatedProjects: Project[]; // Array of related projects\n    toc?: TableOfContentsItem[]; // Optional Table of Contents override (primarily uses project.toc)\n}\n\n// === Helper Functions ===\n\n/**\n * Parses a potentially formatted string (like \"1.2k\") into a number.\n * @param value - The string or number value to parse.\n * @returns The parsed number, or 0 if invalid.\n */\nconst parseNumericStat = (value: string | number | undefined): number => {\n    if (typeof value === 'number') return value;\n    if (typeof value !== 'string' || !value) return 0;\n    // Clean the string: lowercase, remove commas\n    const cleanedValue = value.toLowerCase().trim().replace(/,/g, '');\n    let numericValue = parseFloat(cleanedValue);\n    if (isNaN(numericValue)) return 0;\n    // Handle 'k' (thousands) and 'm' (millions) suffixes\n    if (cleanedValue.endsWith('k')) {\n        numericValue *= 1000;\n    } else if (cleanedValue.endsWith('m')) {\n        numericValue *= 1000000;\n    }\n    return Math.round(numericValue);\n};\n\n/**\n * Safely gets a numeric statistic value from project data, checking multiple possible keys.\n * @param project - The project object.\n * @param statName - The name of the stat (e.g., \"Stars\", \"Forks\").\n * @returns The numeric value of the stat, or 0 if not found.\n */\nconst getStatValue = (project: Project | null | undefined, statName: 'Stars' | 'Forks' | string): number => {\n    if (!project) return 0;\n    // Define possible keys for the stat (e.g., \"stars\", \"github stars\")\n    const possibleKeys = [statName.toLowerCase(), `github ${statName}`.toLowerCase()];\n\n    // Check the 'stats' array first\n    if (project.stats && Array.isArray(project.stats)) {\n        for (const labelKey of possibleKeys) {\n            const stat = project.stats.find(st => st?.label?.trim().toLowerCase() === labelKey);\n            if (stat && typeof stat.value !== 'undefined') {\n                return parseNumericStat(stat.value);\n            }\n        }\n    }\n\n    // Check direct properties on the project object\n    const directPropName = statName.toLowerCase();\n    if (project.hasOwnProperty(directPropName) && typeof (project as any)[directPropName] !== 'undefined') {\n        return parseNumericStat((project as any)[directPropName]);\n    }\n    // Check prefixed properties (e.g., githubStars)\n    const prefixedPropName = `github${statName}`;\n    if (project.hasOwnProperty(prefixedPropName) && typeof (project as any)[prefixedPropName] !== 'undefined') {\n         return parseNumericStat((project as any)[prefixedPropName]);\n    }\n\n    return 0; // Stat not found\n};\n\n/**\n * Formats a number of bytes into a human-readable string (KB, MB, GB, etc.).\n * @param bytes - The number of bytes.\n * @param decimals - The number of decimal places to include.\n * @returns A formatted string like \"1.2 MB\".\n */\nconst formatBytes = (bytes: number, decimals = 1): string => {\n    if (!bytes || bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    // Determine the appropriate size index\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    const sizeIndex = i < sizes.length ? i : sizes.length - 1; // Prevent index out of bounds\n    // Calculate the value in the chosen unit and format it\n    const calculatedValue = parseFloat((bytes / Math.pow(k, sizeIndex)).toFixed(dm));\n    return `${calculatedValue} ${sizes[sizeIndex]}`;\n};\n\n/**\n * Converts a date/timestamp into a relative time string (e.g., \"2 hrs ago\", \"3 mos ago\").\n * @param date - The date string, number timestamp, or Date object.\n * @returns A relative time string, or \"N/A\" if the date is invalid.\n */\nconst timeAgo = (date: string | number | Date | undefined): string => {\n    if (!date) return 'N/A';\n    try {\n        const dateObj = new Date(date);\n        const seconds = Math.floor((new Date().getTime() - dateObj.getTime()) / 1000);\n\n        if (seconds < 0) return 'in the future'; // Handle future dates if necessary\n        if (seconds < 60) return `${seconds} sec ago`;\n\n        let interval = seconds / 31536000; // Years\n        if (interval >= 1) return `${Math.floor(interval)} yr${Math.floor(interval) > 1 ? 's' : ''} ago`;\n\n        interval = seconds / 2592000; // Months\n        if (interval >= 1) return `${Math.floor(interval)} mo${Math.floor(interval) > 1 ? 's' : ''} ago`;\n\n        interval = seconds / 86400; // Days\n        if (interval >= 1) return `${Math.floor(interval)} day${Math.floor(interval) > 1 ? 's' : ''} ago`;\n\n        interval = seconds / 3600; // Hours\n        if (interval >= 1) return `${Math.floor(interval)} hr${Math.floor(interval) > 1 ? 's' : ''} ago`;\n\n        interval = seconds / 60; // Minutes\n        if (interval >= 1) return `${Math.floor(interval)} min${Math.floor(interval) > 1 ? 's' : ''} ago`;\n\n        return `${Math.floor(seconds)} sec ago`;\n    } catch (error) {\n        console.error(\"Error parsing date for timeAgo:\", error);\n        return \"N/A\";\n    }\n};\n\n// === Main Client Component ===\n\nexport default function ProjectDetailClient({ project, relatedProjects = [], toc: tocProp = [] }: ProjectDetailClientProps) {\n\n    // --- State Variables ---\n    const [githubMeta, setGithubMeta] = useState<GitHubRepoMetadata | null>(null); // Stores fetched GitHub repo metadata\n    const [languages, setLanguages] = useState<Record<string, number> | null>(null); // Stores fetched language byte counts\n    const [contributors, setContributors] = useState<GitHubContributor[]>([]); // Stores fetched contributors\n    const [githubError, setGithubError] = useState<string | null>(null); // Stores any error during GitHub fetch\n    const [isLoadingGithub, setIsLoadingGithub] = useState<boolean>(false); // Tracks if GitHub data is currently loading\n    const [isGithubInsightsOpen, setIsGithubInsightsOpen] = useState<boolean>(true); // Controls visibility of the GitHub insights section\n    const [showScrollTop, setShowScrollTop] = useState(false); // Controls visibility of the scroll-to-top button\n    const [activeImageIndex, setActiveImageIndex] = useState(0); // Selected image for gallery display\n\n    // --- Determine Table of Contents ---\n    // Prioritize TOC data passed within the main `project` object\n    const currentToc = project?.toc && project.toc.length > 0 ? project.toc : tocProp;\n\n    // --- Effect: Fetch GitHub Data ---\n    useEffect(() => {\n        let isMounted = true; // Flag to prevent state updates if the component unmounts during async operations\n\n        const fetchGithubData = async () => {\n            // Only fetch if a GitHub URL is provided in the project data\n            if (!project?.github) return;\n\n            // Attempt to parse the GitHub URL\n            const repoInfo = parseGitHubUrl(project.github);\n            if (!repoInfo) {\n                if (isMounted) setGithubError(\"Invalid GitHub URL format provided.\");\n                return;\n            }\n\n            // Reset state and set loading flag before fetching\n            if (isMounted) {\n                setIsLoadingGithub(true);\n                setGithubError(null);\n                setGithubMeta(null);\n                setLanguages(null);\n                setContributors([]);\n            }\n\n            try {\n                // Fetch metadata, languages, and contributors concurrently\n                const [metaResult, langsResult, contribsResult] = await Promise.allSettled([\n                    fetchRepoMetadata(repoInfo.user, repoInfo.repo),\n                    fetchRepoLanguages(repoInfo.user, repoInfo.repo),\n                    fetchRepoContributors(repoInfo.user, repoInfo.repo)\n                ]);\n\n                // Only update state if the component is still mounted\n                if (!isMounted) return;\n\n                // Process metadata result\n                if (metaResult.status === 'fulfilled' && metaResult.value) {\n                    setGithubMeta(metaResult.value as GitHubRepoMetadata);\n                } else if (metaResult.status === 'rejected') {\n                    console.error(\"GitHub Metadata Fetch Error:\", metaResult.reason);\n                    // Set a user-friendly error, potentially masking specific API errors\n                    throw new Error(\"Failed to fetch repository metadata.\");\n                }\n\n                // Process languages result (don't throw error if this fails, it's less critical)\n                if (langsResult.status === 'fulfilled') {\n                    setLanguages(langsResult.value);\n                } else {\n                    console.error(\"GitHub Languages Fetch Error:\", langsResult.reason);\n                }\n\n                // Process contributors result (don't throw error if this fails)\n                if (contribsResult.status === 'fulfilled' && Array.isArray(contribsResult.value)) {\n                    setContributors(contribsResult.value as GitHubContributor[]);\n                } else if (contribsResult.status === 'rejected') {\n                    console.error(\"GitHub Contributors Fetch Error:\", contribsResult.reason);\n                }\n\n            } catch (error: any) {\n                // Catch any error thrown (e.g., from metadata fetch) or network issues\n                if (isMounted) {\n                    setGithubError(error.message || \"An unexpected error occurred while fetching GitHub data.\");\n                    console.error(\"GitHub Fetch Catch Block:\", error);\n                }\n            } finally {\n                // Always turn off loading indicator if component is still mounted\n                if (isMounted) setIsLoadingGithub(false);\n            }\n        };\n\n        fetchGithubData(); // Execute the fetch function\n\n        // Cleanup function: Set isMounted to false when the component unmounts\n        return () => {\n            isMounted = false;\n        };\n    }, [project?.github]); // Re-run effect only if the project's github URL changes\n\n    // --- Effect: Show/Hide Scroll-to-Top Button ---\n    useEffect(() => {\n        const handleScroll = () => {\n            // Show button when scrolled down 300 pixels\n            setShowScrollTop(window.scrollY > 300);\n        };\n        // Add scroll event listener\n        window.addEventListener('scroll', handleScroll, { passive: true }); // Use passive listener for performance\n        // Cleanup: Remove listener when component unmounts\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, []); // Empty dependency array means this effect runs only once on mount\n\n    // --- Function: Scroll to Top ---\n    const scrollToTop = () => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth' // Smooth scrolling animation\n        });\n    };\n\n    // --- Early Return: Handle Missing Project Data ---\n    // Although the server page should handle `notFound`, this adds client-side robustness\n    if (!project) {\n        return (\n            <div className=\"project-load-error container mx-auto p-8 text-center text-text-muted\">\n                Error: Project data is unavailable or could not be loaded.\n            </div>\n        );\n    }\n\n    // --- Destructure Project Properties (with default fallbacks) ---\n    const {\n        title = 'Untitled Project',\n        category = 'Uncategorized',\n        description = '',\n        longDescription,\n        content, // The markdown content\n        date, // Publish date\n        image, // Optional single featured image\n        images, // Optional array of images (gallery)\n        tags = [],\n        github, // GitHub URL\n        link, // Live project URL\n        team = [], // Array of team members\n        status, // e.g., 'ongoing', 'concept', 'completed'\n        testimonials = [],\n        license: projectLicense, // License specified in project frontmatter\n        modifiedDate // Last modified date\n    } = project;\n\n    // --- Prepare Derived Variables for Display ---\n    const displayStatus = status === 'ongoing' || status === 'concept' ? status : null; // Only show 'ongoing' or 'concept'\n    const projectYear = date ? new Date(date).getFullYear() : null;\n    const displayDescription = longDescription || description || \"No detailed description available.\"; // Prefer long description\n    const imageSources = useMemo(() => {\n        const orderedSources: string[] = [];\n        const seen = new Set<string>();\n\n        const pushUnique = (src?: string | null) => {\n            if (!src) return;\n            if (seen.has(src)) return;\n            seen.add(src);\n            orderedSources.push(src);\n        };\n\n        pushUnique(image);\n        if (Array.isArray(images)) {\n            images.forEach(pushUnique);\n        } else if (typeof images === 'string') {\n            pushUnique(images);\n        }\n\n        return orderedSources;\n    }, [image, images]);\n\n    useEffect(() => {\n        setActiveImageIndex(0);\n    }, [project?.slug, imageSources.length]);\n\n    const activeImageSrc = imageSources[activeImageIndex] || null;\n    const hasVisuals = imageSources.length > 0; // Check if there are any images to display\n\n    // --- Prepare GitHub Stats (Combine fetched data with project frontmatter fallbacks) ---\n    const stars = githubMeta?.stargazers_count ?? getStatValue(project, 'Stars');\n    const forks = githubMeta?.forks_count ?? getStatValue(project, 'Forks');\n    const watchers = githubMeta?.subscribers_count ?? 0; // GitHub API uses subscribers_count for watchers\n    const license = githubMeta?.license?.name ?? projectLicense ?? 'N/A'; // Prefer GitHub license name if available\n    const openIssues = githubMeta?.open_issues_count ?? 0;\n    const repoSize = githubMeta?.size ?? 0; // GitHub size is in KB\n    const createdAt = githubMeta?.created_at ?? null; // Date repo was created\n    const pushedAt = githubMeta?.pushed_at ?? modifiedDate ?? date ?? null; // Prioritize pushed_at, then modifiedDate, then date\n    const sortedLanguages = languages ? Object.entries(languages).sort(([, a], [, b]) => b - a) : []; // Sort languages by byte count\n    const totalBytes = sortedLanguages.reduce((sum, [, bytes]) => sum + bytes, 0); // Calculate total language bytes\n    const liveUrl = link || githubMeta?.homepage || undefined; // Prefer project's explicit link, fallback to GitHub homepage\n\n    // --- Determine Layout Class Based on TOC Presence ---\n    const layoutClass = currentToc && currentToc.length > 0 ? 'layout-grid-with-toc' : 'layout-grid-no-toc';\n\n    // --- Render Component JSX ---\n    return (\n        <main className=\"project-detail-page bg-bg-primary text-text-primary pt-8 pb-24 font-body\">\n\n            {/* Render Minimap Navigation if TOC exists */}\n            {currentToc && currentToc.length > 0 && <MinimapNav toc={currentToc} />}\n\n            {/* Main Container with Layout Grid */}\n            <div className={`container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative ${layoutClass}`}>\n\n                {/* Table of Contents Sidebar (Conditional) */}\n                {currentToc && currentToc.length > 0 && (\n                    <aside className=\"toc-sidebar sticky top-20 self-start\">\n                        <TableOfContents toc={currentToc} />\n                    </aside>\n                )}\n\n                {/* Main Content Column */}\n                <div className=\"main-content-area\">\n\n                    {/* Project Header Section */}\n                    <header className=\"project-header mb-10 md:mb-12\">\n                        {/* Back Link */}\n                        <Link href=\"/projects\" className=\"back-link group mb-5\">\n                            <ArrowLeft size={15} className=\"icon\"/>\n                            <span>Return to Matrix</span>\n                        </Link>\n                        <div className=\"header-main\">\n                            <div className=\"header-content\">\n                                {/* Meta Info Badges */}\n                                <div className=\"meta-info mb-3\">\n                                    {category && <span className=\"category-badge\">{category}</span>}\n                                    {projectYear && <span className=\"year-badge\"><Clock size={11} className=\"icon\"/>{projectYear}</span>}\n                                    {displayStatus && <span className={`status-badge status-${displayStatus}`}>{displayStatus}</span>}\n                                    {github && stars > 0 && <span className=\"meta-chip github-stat\" title={`${stars.toLocaleString()} Stars`}> <Star size={12} className=\"icon\"/> {stars.toLocaleString()} </span> }\n                                    {github && forks > 0 && <span className=\"meta-chip github-stat\" title={`${forks.toLocaleString()} Forks`}> <GitFork size={12} className=\"icon\"/> {forks.toLocaleString()} </span> }\n                                </div>\n                                {/* Project Title (with optional popout effect) */}\n                                <h1 className=\"project-title project-title-popout\" data-text={title}>{title}</h1>\n                                {/* Project Description */}\n                                <p className=\"project-description\">{displayDescription}</p>\n                            </div>\n                            {/* Action Buttons (Live Link, GitHub Link) */}\n                            <div className=\"action-buttons mt-5 flex flex-wrap items-start gap-3\">\n                                {liveUrl && ( <Link href={liveUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn-glow\"> <ExternalLink size={14} className=\"mr-1.5\" /> View Live </Link> )}\n                                {github && ( <Link href={github} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn-outline\"> <Github size={14} className=\"mr-1.5\" /> View Code </Link> )}\n                            </div>\n                        </div>\n                    </header>\n\n                    {/* Project Visuals Section (Image/Gallery or Placeholder) */}\n                    {hasVisuals ? (\n                         <section className=\"project-visuals mb-10 md:mb-12 themed-box !p-0 bg-gradient-to-br from-bg-secondary via-bg-tertiary to-bg-secondary\">\n                            {/* Primary Image */}\n                             {activeImageSrc && (\n                                 <div className=\"main-image-wrapper\">\n                                     <Image\n                                        key={activeImageSrc}\n                                        src={activeImageSrc}\n                                        alt={`${title} visual`}\n                                        width={1280}\n                                        height={720}\n                                        className=\"visual-image\"\n                                        priority={activeImageIndex === 0}\n                                     />\n                                 </div>\n                             )}\n                             {/* Sub-Gallery */}\n                             {imageSources.length > 1 && (\n                                 <div className=\"sub-gallery\" role=\"list\">\n                                     {imageSources.map((imgSrc, idx) => (\n                                         <button\n                                            key={`${imgSrc}-${idx}`}\n                                            type=\"button\"\n                                            role=\"listitem\"\n                                            className={`sub-gallery-item ${idx === activeImageIndex ? 'active' : ''}`}\n                                            onClick={() => setActiveImageIndex(idx)}\n                                            aria-current={idx === activeImageIndex}\n                                         >\n                                              <Image\n                                                 src={imgSrc}\n                                                 alt={`${title} thumbnail ${idx + 1}`}\n                                                 width={400}\n                                                 height={250}\n                                                 className=\"sub-gallery-image\"\n                                                 loading={idx === activeImageIndex ? 'eager' : 'lazy'}\n                                              />\n                                         </button>\n                                     ))}\n                                 </div>\n                             )}\n                         </section>\n                      ) : (\n                          // Placeholder if no visuals are provided\n                          <section className=\"project-visuals placeholder-visuals mb-10 md:mb-12\">\n                              <div className=\"placeholder-icon\"><ImageIcon size={48} strokeWidth={1}/></div>\n                              <AsciiArtPlaceholder width=\"125px\" height=\"250px\" animate={true} className=\"ascii-placeholder-detail\"/>\n                          </section>\n                      )}\n\n                    {/* Markdown Content Section */}\n                    {content ? (\n                        // Render markdown content using the project-specific renderer\n                        <section id=\"project-content-start\" className=\"project-content-wrapper mb-10 md:mb-12\" aria-label=\"Project Details\">\n                            <ProjectMarkdownRenderer className=\"project-prose max-w-none\">\n                                {content}\n                            </ProjectMarkdownRenderer>\n                        </section>\n                    ) : (\n                        // Fallback message if no content exists\n                        <section className=\"project-prose max-w-none mb-10 md:mb-12\">\n                            <p className=\"italic text-text-muted font-mono\">// Detailed documentation stream offline or redacted. //</p>\n                        </section>\n                    )}\n\n                    {/* Tags Section */}\n                    {tags && tags.length > 0 && (\n                         <section className=\"tags-section themed-box mb-8 md:mb-12\">\n                             <div className=\"box-header simple\">\n                                 <Tag size={16} className=\"header-icon text-purple-400\"/>\n                                 <h3 className=\"box-title !text-base\">Keywords & Concepts</h3>\n                             </div>\n                             <div className=\"box-content\">\n                                 <div className=\"tags-list\">\n                                     {tags.map(tag => ( <span key={tag} className=\"tag-chip\">{tag}</span> ))}\n                                 </div>\n                             </div>\n                         </section>\n                     )}\n\n                    {/* GitHub Insights Section (Collapsible) */}\n                    {github && (isLoadingGithub || githubMeta || githubError) && (\n                        <section className=\"github-insights themed-box mb-8 md:mb-12\">\n                            {/* Header Button to Toggle Collapse */}\n                             <button className=\"box-header collapsible-header\" onClick={() => setIsGithubInsightsOpen(!isGithubInsightsOpen)} aria-expanded={isGithubInsightsOpen} aria-controls=\"github-insights-content\">\n                                 <div className=\"header-left\">\n                                     <Github size={18} className=\"header-icon text-cyan-400\"/>\n                                     <h2 className=\"box-title\">GitHub Repository Insights</h2>\n                                 </div>\n                                 <div className=\"header-right\">\n                                     {/* Loading/Error Indicators */}\n                                     {isLoadingGithub && <span className=\"loading-indicator\">Syncing...</span>}\n                                     {githubError && <span title={githubError}><AlertTriangle size={16} className=\"error-icon\"/></span>}\n                                     {/* Chevron Icon */}\n                                     <span className={`chevron-icon ${isGithubInsightsOpen ? 'open' : ''}`}>\n                                         <ChevronDown size={20}/>\n                                     </span>\n                                 </div>\n                             </button>\n                             {/* Collapsible Content */}\n                             {isGithubInsightsOpen && (\n                                 <div id=\"github-insights-content\" className=\"box-content\">\n                                     {/* Error Message */}\n                                     {githubError && !isLoadingGithub && (<div className=\"error-message\">{githubError}</div>)}\n                                     {/* Loading Placeholder */}\n                                     {!githubError && isLoadingGithub && (<div className=\"loading-placeholder\">// Establishing uplink to GitHub... //</div>)}\n                                     {/* Fallback if no meta loaded */}\n                                     {!githubError && !isLoadingGithub && !githubMeta && (<div className=\"error-message\">No GitHub metadata available.</div>)}\n                                     {/* Main GitHub Data Grid */}\n                                     {!githubError && githubMeta && (\n                                         <div className=\"grid gap-y-5 gap-x-6 sm:grid-cols-2 lg:grid-cols-3\">\n                                             {/* Stats Items */}\n                                             <div className=\"stat-item\"><Star size={15} className=\"icon text-yellow-400\"/><span>Stars:</span> <strong>{stars > 0 ? stars.toLocaleString() : '0'}</strong></div>\n                                             <div className=\"stat-item\"><GitFork size={15} className=\"icon text-blue-400\"/><span>Forks:</span> <strong>{forks > 0 ? forks.toLocaleString() : '0'}</strong></div>\n                                             <div className=\"stat-item\"><Eye size={15} className=\"icon text-green-400\"/><span>Watchers:</span> <strong>{watchers > 0 ? watchers.toLocaleString() : '0'}</strong></div>\n                                             <div className=\"stat-item\"><AlertTriangle size={15} className=\"icon text-orange-400\"/><span>Open Issues:</span> <strong>{openIssues > 0 ? openIssues.toLocaleString() : '0'}</strong></div>\n                                             <div className=\"stat-item\"><ShieldCheck size={15} className=\"icon text-teal-400\"/><span>License:</span> <strong>{license || 'N/A'}</strong></div>\n                                             <div className=\"stat-item\"><Layers size={15} className=\"icon text-indigo-400\"/><span>Repo Size:</span> <strong>{repoSize > 0 ? formatBytes(repoSize * 1024) : '-'}</strong></div>\n                                             {createdAt && <div className=\"stat-item\"><CalendarDays size={15} className=\"icon text-gray-400\"/><span>Created:</span> <strong title={new Date(createdAt).toLocaleString()}>{timeAgo(createdAt)}</strong></div>}\n                                             {pushedAt && <div className=\"stat-item\"><Activity size={15} className=\"icon text-gray-400\"/><span>Last Push:</span> <strong title={new Date(pushedAt).toLocaleString()}>{timeAgo(pushedAt)}</strong></div>}\n                                             {githubMeta.homepage && <div className=\"stat-item sm:col-span-2 lg:col-span-1\"><ExternalLink size={15} className=\"icon text-cyan-400\"/><span>Homepage:</span> <strong><a href={githubMeta.homepage} target=\"_blank\" rel=\"noopener noreferrer\" className=\"link-hover\">{githubMeta.homepage}</a></strong></div>}\n\n                                             {/* Languages Section */}\n                                             {languages && totalBytes > 0 && (\n                                                 <div className=\"language-section sm:col-span-2 lg:col-span-3\">\n                                                     <h4 className=\"sub-heading\">// Language Distribution</h4>\n                                                     <div className=\"language-bars\">\n                                                         {sortedLanguages.map(([lang, bytes]) => {\n                                                             const percentage = totalBytes > 0 ? Math.max(0.5, parseFloat(((bytes / totalBytes) * 100).toFixed(1))) : 0;\n                                                             const langClass = lang.toLowerCase().replace(/[^a-z0-9]/g, ''); // Class-safe name\n                                                             return (\n                                                                 <div key={lang} className=\"language-bar-item\" title={`${lang}: ${formatBytes(bytes)} (${percentage}%)`}>\n                                                                     <div className=\"lang-label\">{lang} <span className=\"lang-percent\">({percentage}%)</span></div>\n                                                                     <div className=\"lang-bar-bg\">\n                                                                         {/* Apply language-specific class for color */}\n                                                                         <div className={`lang-bar-fg lang-color-${langClass}`} style={{ width: `${percentage}%` }}></div>\n                                                                     </div>\n                                                                 </div>\n                                                             );\n                                                         })}\n                                                     </div>\n                                                 </div>\n                                             )}\n\n                                             {/* Contributors Section */}\n                                             {contributors && contributors.length > 0 && (\n                                                 <div className=\"contributors-section sm:col-span-full\">\n                                                     <h4 className=\"sub-heading\">// Top Contributors</h4>\n                                                     <div className=\"contributor-list\">\n                                                         {/* Show top 18 contributors */}\n                                                         {contributors.slice(0, 18).map(c => (\n                                                             <Link key={c.id} href={c.html_url || '#'} target=\"_blank\" rel=\"noopener noreferrer\" className=\"contributor-item group\" title={`${c.login} (${c.contributions} contributions)`}>\n                                                                 <Image src={c.avatar_url || '/images/default-avatar.png'} // Provide a default avatar path\n                                                                        alt={`${c.login} avatar`} width={36} height={36} className=\"contributor-avatar\"/>\n                                                                 <span className=\"contributor-login\">{c.login}</span>\n                                                             </Link>\n                                                         ))}\n                                                         {/* Indicate if there are more contributors */}\n                                                         {contributors.length > 18 && <span className=\"contributor-more\">...</span>}\n                                                     </div>\n                                                 </div>\n                                             )}\n                                         </div>\n                                     )}\n                                 </div>\n                             )}\n                        </section>\n                     )}\n\n                    {/* Team / Author Section */}\n                     {(team && team.length > 0) || githubMeta?.owner ? (\n                           <section className=\"team-section themed-box mb-8 md:mb-12\">\n                               <div className=\"box-header simple\">\n                                   <Users size={18} className=\"header-icon text-green-400\"/>\n                                   <h2 className=\"box-title !text-lg\">{team && team.length > 0 ? 'Core Team' : 'Repository Owner'}</h2>\n                               </div>\n                              <div className=\"box-content grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n                                   {/* Display project team if available */}\n                                   {team && team.length > 0 ? (\n                                       team.map((member, index) => (\n                                           <div key={index} className=\"team-member group\">\n                                               {member.photo ? <Image src={member.photo} alt={member.name || 'Team member'} width={40} height={40} className=\"team-photo\" /> : <div className=\"team-photo-placeholder\"><Users size={18}/></div> }\n                                               <div className=\"member-info\">\n                                                   <span className=\"member-name\">{member.name || 'Contributor'}</span>\n                                                   {member.role && <span className=\"member-role\">{member.role}</span>}\n                                               </div>\n                                               {member.link && <Link href={member.link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"member-link\" title={`Visit ${member.name}'s profile`}><ExternalLink size={15}/></Link>}\n                                           </div>\n                                       ))\n                                   )\n                                   // Fallback to GitHub owner if no team defined\n                                   : githubMeta?.owner ? (\n                                       <div className=\"team-member group\">\n                                           {githubMeta.owner.avatar_url && <Image src={githubMeta.owner.avatar_url} alt={githubMeta.owner.login || 'Owner'} width={40} height={40} className=\"team-photo\" />}\n                                           <div className=\"member-info\">\n                                               <span className=\"member-name\">{githubMeta.owner.login || 'Owner'}</span>\n                                               <span className=\"member-role\">Repository Maintainer</span>\n                                           </div>\n                                           {githubMeta.owner.html_url && <Link href={githubMeta.owner.html_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"member-link\" title={`Visit ${githubMeta.owner.login}'s GitHub`}><Github size={15}/></Link>}\n                                       </div>\n                                   )\n                                   : null}\n                               </div>\n                           </section>\n                       ) : null}\n\n                    {/* Testimonials Section */}\n                     {testimonials && testimonials.length > 0 && (\n                           <section className=\"testimonials-section mb-8 md:mb-12\">\n                               <h2 className=\"section-heading mb-6\"><MessageSquare size={18} className=\"icon\"/> Feedback Stream</h2>\n                               <div className=\"testimonial-grid\">\n                                   {testimonials.map((t, i) => (\n                                       <blockquote key={i} className=\"testimonial-item\">\n                                           <p className=\"testimonial-quote\">\"{t.quote}\"</p>\n                                           <footer className=\"testimonial-author\">\n                                               â€“ {t.author}{t.role && <span className=\"testimonial-role\">, {t.role}</span>}\n                                           </footer>\n                                       </blockquote>\n                                   ))}\n                               </div>\n                           </section>\n                       )}\n\n                    {/* Related Projects Section */}\n                     {relatedProjects.length > 0 && (\n                           <section className=\"related-projects mt-12 md:mt-16\">\n                               <h2 className=\"related-heading\">// Related Signals //</h2>\n                               <div className=\"related-grid\">\n                                   {/* Ensure ProjectCard component exists and accepts 'project' prop */}\n                                   {relatedProjects.map(p => p ? <ProjectCard key={p.slug} project={p} /> : null)}\n                               </div>\n                           </section>\n                       )}\n\n                </div> {/* End Main Content Area */}\n            </div> {/* End Container / Layout Grid */}\n\n            {/* Scroll To Top Button (Conditional Rendering) */}\n             {showScrollTop && (\n                <button\n                    onClick={scrollToTop}\n                    className=\"scroll-to-top-button\"\n                    aria-label=\"Scroll to top\"\n                    title=\"Scroll to top\"\n                >\n                    {/* Centered Icon */}\n                    <ArrowUpCircle size={28} strokeWidth={1.5} />\n                </button>\n            )}\n\n            {/* --- Inline JSX Styles --- */}\n            {/* Note: It's often better to move complex styles to dedicated CSS files */}\n            <style jsx>{`\n                /* --- Base & Layout --- */\n                .project-detail-page { background: var(--bg-gradient-darker, var(--bg-primary)); padding-bottom: 6rem; }\n                .layout-grid-with-toc { display: grid; grid-template-columns: 220px 1fr; gap: 2.5rem; align-items: start; }\n                .layout-grid-no-toc { display: block; max-width: 900px; /* Center content if no TOC */ margin-left: auto; margin-right: auto; }\n                .toc-sidebar { width: 220px; max-height: calc(100vh - 7rem); /* Ensure vertical space */ position: sticky; top: calc(var(--header-height, 65px) + 1.5rem); /* Adjust offset based on actual header height */ }\n                .main-content-area { min-width: 0; /* Prevent flex/grid blowout */ }\n                @media (max-width: 1100px) { .layout-grid-with-toc { grid-template-columns: 180px 1fr; gap: 1.5rem; } .toc-sidebar { width: 180px; } }\n                @media (max-width: 800px) { .layout-grid-with-toc { display: block; } .toc-sidebar { position: relative; top: 0; width: 100%; margin-bottom: 2rem; max-height: 40vh; border-right: none; border-bottom: 1px solid var(--bg-tertiary); padding-right: 0; padding-bottom: 1rem; overflow-y: auto; /* Allow scrolling if content overflows */ } }\n                .project-load-error { padding: 4rem 1rem; text-align: center; }\n\n                /* --- Header Elements --- */\n                .project-header { border-bottom: 1px solid var(--bg-tertiary); padding-bottom: 2rem; margin-bottom: 2.5rem; }\n                .back-link { display: inline-flex; align-items: center; gap: 0.4rem; color: var(--text-muted); font-size: 0.8rem; margin-bottom: 1.2rem; transition: color var(--transition-fast), transform var(--transition-fast); font-family: var(--font-mono); text-transform: uppercase; letter-spacing: 0.05em; }\n                .back-link:hover { color: var(--accent-highlight); } .back-link .icon { transition: transform 0.2s ease-out; } .back-link:hover .icon { transform: translateX(-4px); }\n                .meta-info { display: flex; flex-wrap: wrap; gap: 0.7rem; align-items: center; margin-bottom: 1rem; }\n                .category-badge { font-family: var(--font-mono); font-size: 0.75rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; background-color: var(--accent-secondary); color: var(--bg-primary); padding: 5px 10px; border-radius: 4px; box-shadow: 1px 1px 2px rgba(0,0,0,0.3); white-space: nowrap; border: 1px solid rgba(var(--bg-primary-rgb, 255, 255, 255), 0.3); /* Added fallback RGB */ }\n                .year-badge, .status-badge, .meta-chip { display: inline-flex; align-items: center; gap: 0.4rem; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-secondary); background: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.85); /* Added fallback RGB */ padding: 5px 10px; border-radius: 4px; border: 1px solid var(--bg-tertiary); white-space: nowrap; box-shadow: inset 0 1px 1px rgba(0,0,0,0.1); backdrop-filter: blur(2px); }\n                .meta-chip .icon { opacity: 0.7; font-size: 0.9em; margin-right: 0.1em; }\n                .status-badge { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; padding: 3px 7px; border-radius: 3px; letter-spacing: 0.06em; }\n                .status-badge.status-ongoing { background-color: var(--accent-alert); color: var(--bg-primary); border-color: transparent; }\n                .status-badge.status-concept { background-color: var(--accent-muted1); color: var(--bg-primary); border-color: transparent; }\n                .meta-chip.github-stat { background-color: rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.8); /* Added fallback RGB */ color: var(--text-secondary); border-color: rgba(var(--accent-secondary-rgb, 126, 161, 150), 0.3); /* Added fallback RGB */ }\n                .meta-chip.github-stat .icon { color: var(--accent-secondary); }\n                .project-title { font-size: clamp(2.2rem, 6vw, 4rem); margin-bottom: 0.6rem; color: var(--text-heading); font-family: var(--font-display); font-weight: 800; line-height: 1.1; letter-spacing: -0.02em; }\n                /* Optional: Popout effect - remove if too ornate for projects */\n                .project-title-popout { display: inline-block; transform-style: preserve-3d; transform: translateZ(20px) rotateX(-7deg); text-shadow: 1px 1px 0px rgba(0,0,0, 0.18), 2px 2px 0px rgba(0,0,0, 0.15), 3px 3px 0px rgba(0,0,0, 0.12), 4px 4px 0px rgba(0,0,0, 0.09), 0 0 20px rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.4); /* Added fallback RGB */ transition: text-shadow 0.3s ease-out, transform 0.3s ease-out; }\n                .project-title-popout:hover { transform: translateZ(24px) rotateX(-8deg); text-shadow: 1px 1px 0px rgba(0,0,0, 0.22), 2px 2px 0px rgba(0,0,0, 0.20), 3px 3px 0px rgba(0,0,0, 0.18), 4px 4px 0px rgba(0,0,0, 0.16), 5px 5px 0px rgba(0,0,0, 0.14), 0 0 25px rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.5); /* Added fallback RGB */ }\n                .project-description { font-size: clamp(1rem, 2.1vw, 1.2rem); color: var(--text-secondary); margin-top: 0.8rem; margin-bottom: 1.8rem; max-width: 70ch; line-height: 1.7; opacity: 0.95; }\n\n                /* --- Visuals --- */\n                .project-visuals { margin-bottom: 2rem; }\n                .themed-box.project-visuals { border-color: var(--bg-tertiary); border-radius: var(--radius-lg); overflow:hidden; } /* Ensure radius clips content */\n                .main-image-wrapper { position: relative; aspect-ratio: 16 / 9; overflow: hidden; border-radius: var(--radius-lg) var(--radius-lg) 0 0; /* Apply radius only to top if sub-gallery exists */ }\n                .themed-box.project-visuals:not(:has(.sub-gallery)) .main-image-wrapper { border-radius: inherit; /* Apply to all corners if no sub-gallery */ }\n                .visual-image { display: block; width: 100%; height: 100%; object-fit: cover; }\n                .sub-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.8rem; padding: 0.8rem; border-top: 1px solid rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.1); /* Added fallback RGB */ }\n                .sub-gallery-item { border-radius: var(--radius-base); overflow: hidden; border: 1px solid var(--bg-tertiary); transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; box-shadow: var(--shadow-low); cursor: pointer; padding: 0; background: transparent; display: block; position: relative; }\n                .sub-gallery-item:hover { transform: scale(1.04); z-index: 2; box-shadow: var(--shadow-medium); }\n                .sub-gallery-item:focus-visible { outline: 2px solid var(--accent-highlight); outline-offset: 2px; }\n                .sub-gallery-item.active { border-color: var(--accent-highlight); box-shadow: var(--shadow-medium); transform: scale(1.02); }\n                .sub-gallery-item.active:hover { transform: scale(1.02); }\n                .sub-gallery-image { display: block; width: 100%; height: 100%; object-fit: cover; }\n                .placeholder-visuals { border: 2px dashed rgba(var(--accent-secondary-rgb, 126, 161, 150), 0.4); /* Added fallback RGB */ border-radius: var(--radius-xl); padding: 2rem; background: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.6); /* Added fallback RGB */ display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 300px; gap: 1rem; }\n                .placeholder-icon { color: var(--accent-secondary); opacity: 0.3; }\n                .ascii-placeholder-detail { color: var(--accent-secondary); opacity: 0.4; font-size: 0.7rem; line-height: 1.1; }\n\n                /* --- Content Wrapper --- */\n                .project-content-wrapper { /* Styles for this wrapper if needed */ }\n\n                /* --- Themed Box (used for sections) --- */\n                .themed-box { border: 1px solid rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.15); /* Added fallback RGB */ border-radius: var(--radius-lg); background: linear-gradient(rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.6), rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.7)); /* Added fallback RGBs */ backdrop-filter: blur(7px); box-shadow: var(--shadow-low); overflow: hidden; transition: border-color 0.3s, box-shadow 0.3s; }\n                .themed-box:hover { border-color: rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.3); /* Added fallback RGB */ box-shadow: var(--shadow-medium); }\n                .box-header { display: flex; align-items: center; justify-content: space-between; padding: 0.9rem 1.3rem; background: rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.5); /* Added fallback RGB */ border-bottom: 1px solid rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.15); /* Added fallback RGB */ transition: background-color 0.2s; }\n                .box-header.simple { background: none; border-bottom: 1px dashed rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.15); /* Added fallback RGB */ padding: 0.6rem 0; margin: 0 1.3rem; }\n                .collapsible-header { width: 100%; background: none; border: none; text-align: left; cursor: pointer; padding: 0.9rem 1.3rem; /* Match box-header padding */ display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.15); /* Added fallback RGB */ }\n                .collapsible-header:hover { background: rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.05); } /* Added fallback RGB */\n                .header-left { display: flex; align-items: center; gap: 0.8rem; }\n                .header-right { display: flex; align-items: center; gap: 0.8rem; }\n                .header-icon { color: var(--accent-highlight); opacity: 0.9; flex-shrink: 0; }\n                .box-title { font-family: var(--font-display); font-size: 1.15rem; font-weight: 600; color: var(--text-heading); margin: 0; line-height: 1.2; }\n                .loading-indicator { font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-muted); font-style: italic; opacity: 0.8; animation: pulse-bg 1.5s infinite alternate; }\n                .error-icon { color: var(--accent-alert); }\n                .chevron-icon { color: var(--text-muted); transition: transform 0.25s ease-out; }\n                .chevron-icon.open { transform: rotate(180deg); }\n                .box-content { padding: 1.3rem 1.5rem; }\n                @keyframes pulse-bg { from { opacity: 0.6; } to { opacity: 0.9; } }\n\n                /* --- GitHub Insights --- */\n                .github-insights .stat-item { display: flex; align-items: center; gap: 0.6rem; font-size: 0.8rem; font-family: var(--font-mono); color: var(--text-secondary); line-height: 1.5; border-bottom: 1px solid rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.7); /* Added fallback RGB */ padding-bottom: 0.6rem; }\n                .stat-item .icon { flex-shrink: 0; opacity: 0.8; width: 16px; height: 16px; }\n                .stat-item span { opacity: 0.9; min-width: 80px; color: var(--text-muted); }\n                .stat-item strong { color: var(--text-primary); font-weight: 600; word-break: break-word; }\n                .stat-item strong a { color: var(--accent-highlight); text-decoration: none; border-bottom: 1px dotted currentColor; transition: color 0.2s, border-color 0.2s; }\n                .stat-item strong a:hover { color: var(--text-bright, var(--text-heading)); border-bottom-color: var(--accent-highlight); border-bottom-style: solid; }\n                .language-section, .contributors-section { margin-top: 1.2rem; padding-top: 1.2rem; border-top: 1px dashed rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.2); /* Added fallback RGB */ }\n                .sub-heading { font-family: var(--font-mono); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); margin-bottom: 0.8rem; opacity: 0.9; border-left: 3px solid var(--accent-highlight); padding-left: 0.6em; }\n                .language-bars { display: flex; flex-direction: column; gap: 0.5rem; }\n                .language-bar-item { font-size: 0.8rem; font-family: var(--font-mono); }\n                .lang-label { display: flex; justify-content: space-between; margin-bottom: 0.25rem; color: var(--text-secondary); font-size: 0.9em; }\n                .lang-percent { opacity: 0.7; font-size: 0.9em; }\n                .lang-bar-bg { width: 100%; height: 8px; background-color: rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.8); /* Added fallback RGB */ border-radius: 4px; overflow: hidden; box-shadow: inset 0 1px 2px rgba(0,0,0,0.25); }\n                .lang-bar-fg { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-highlight)); border-radius: 4px; transition: width 0.6s ease-out; box-shadow: 0 0 5px rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.3); /* Added fallback RGB */ }\n                /* Add specific language colors using classes like .lang-color-javascript */\n                .lang-color-javascript { background: linear-gradient(90deg, #f7df1e, #f0db4f) !important; box-shadow: 0 0 5px #f7df1e80 !important; }\n                .lang-color-typescript { background: linear-gradient(90deg, #3178c6, #569cd6) !important; box-shadow: 0 0 5px #3178c680 !important; }\n                .lang-color-python { background: linear-gradient(90deg, #3776ab, #4b8bbe) !important; box-shadow: 0 0 5px #3776ab80 !important; }\n                .lang-color-css { background: linear-gradient(90deg, #1572b6, #3c99dc) !important; box-shadow: 0 0 5px #1572b680 !important; }\n                .lang-color-html { background: linear-gradient(90deg, #e34f26, #f16529) !important; box-shadow: 0 0 5px #e34f2680 !important; }\n                /* Add more colors... */\n                .contributor-list { display: flex; flex-wrap: wrap; gap: 0.6rem; align-items: center; }\n                .contributor-item { display: inline-flex; align-items: center; gap: 0.5rem; background: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.7); /* Added fallback RGB */ padding: 0.3rem 0.7rem 0.3rem 0.3rem; border-radius: 99px; border: 1px solid var(--bg-tertiary); transition: all 0.2s ease; text-decoration: none; }\n                .contributor-item:hover { background: var(--bg-tertiary); border-color: var(--accent-primary); transform: translateY(-1px); box-shadow: var(--shadow-low); }\n                .contributor-avatar { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; border: 2px solid var(--bg-primary); }\n                .contributor-login { font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-secondary); transition: color 0.2s ease; }\n                .contributor-item:hover .contributor-login { color: var(--accent-primary); }\n                .contributor-more { font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-muted); padding-left: 0.6rem; font-style: italic; }\n                .error-message { font-family: var(--font-mono); color: var(--accent-alert); background: rgba(var(--accent-alert-rgb, 208, 118, 118), 0.1); /* Added fallback RGB */ border: 1px solid rgba(var(--accent-alert-rgb, 208, 118, 118), 0.3); /* Added fallback RGB */ padding: 0.8rem 1rem; border-radius: var(--radius-base); text-align: center; font-size: 0.85rem; }\n                .loading-placeholder { font-family: var(--font-mono); color: var(--text-muted); padding: 1.5rem; border: 1px dashed var(--bg-tertiary); text-align: center; border-radius: var(--radius-base); background: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.6); /* Added fallback RGB */ animation: pulse-bg 1.5s infinite alternate; font-size: 0.9rem; }\n\n                /* --- Team Section --- */\n                .team-section .box-header .icon { color: var(--accent-secondary); }\n                .team-member { display: flex; align-items: center; gap: 0.8rem; background-color: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.7); /* Added fallback RGB */ padding: 0.6rem 0.8rem; border-radius: var(--radius-base); border: 1px solid var(--bg-tertiary); transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease; }\n                .team-member:hover { background-color: rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.9); /* Added fallback RGB */ border-color: rgba(var(--accent-secondary-rgb, 126, 161, 150), 0.4); /* Added fallback RGB */ transform: translateY(-1px); }\n                .team-photo { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--bg-primary); flex-shrink: 0; }\n                .team-photo-placeholder { width: 40px; height: 40px; border-radius: 50%; background: var(--bg-secondary); border: 1px solid var(--bg-tertiary); display: flex; align-items: center; justify-content: center; color: var(--text-muted); flex-shrink: 0; }\n                .member-info { display: flex; flex-direction: column; line-height: 1.3; flex-grow: 1; }\n                .member-name { font-weight: 600; color: var(--text-heading); font-size: 0.9rem; }\n                .member-role { font-size: 0.8rem; color: var(--text-secondary); opacity: 0.9; }\n                .member-link { color: var(--text-muted); margin-left: auto; padding: 0.3rem; border-radius: 50%; transition: color var(--transition-fast), background-color var(--transition-fast); display: inline-flex; align-items: center; justify-content: center; }\n                .member-link:hover { color: var(--accent-highlight); background-color: rgba(var(--accent-highlight-rgb, 184, 142, 98), 0.1); /* Added fallback RGB */ }\n\n                /* --- Tags Section --- */\n                .tags-section .box-header .icon { color: var(--accent-muted1); } /* Example color */\n                .tags-list { display: flex; flex-wrap: wrap; gap: 0.6rem; }\n                .tag-chip { background-color: rgba(var(--accent-muted1-rgb, 212, 187, 201), 0.25); /* Added fallback RGB */ color: var(--accent-muted1); border: 1px solid rgba(var(--accent-muted1-rgb, 212, 187, 201), 0.4); /* Added fallback RGB */ font-size: 0.75rem; padding: 4px 10px; border-radius: var(--radius-pill); /* Pill shape */ box-shadow: none; cursor: default; font-family: var(--font-mono); transition: all var(--transition-fast); line-height: 1.4; text-transform: lowercase; }\n                .tag-chip:hover { background-color: rgba(var(--accent-muted1-rgb, 212, 187, 201), 0.4); /* Added fallback RGB */ color: var(--text-heading); border-color: var(--accent-muted1); }\n\n                /* --- Testimonials Section --- */\n                .testimonials-section { margin-top: 2rem; }\n                .testimonials-section .section-heading { font-size: 1.4rem; color: var(--accent-secondary); border-bottom: 1px solid var(--bg-tertiary); padding-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }\n                .testimonials-section .section-heading .icon { color: currentColor; }\n                .testimonial-grid { display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }\n                .testimonial-item { background: rgba(var(--bg-secondary-rgb, 245, 237, 225), 0.7); /* Added fallback RGB */ border-left: 4px solid var(--accent-secondary); padding: 1.5rem; border-radius: var(--radius-base); /* Simpler radius */ box-shadow: none; border: 1px solid var(--bg-tertiary); border-left-width: 4px; /* Keep left border emphasis */ }\n                .testimonial-quote { font-style: italic; color: var(--text-secondary); line-height: 1.7; margin-bottom: 1rem; position: relative; padding-left: 0; font-size: 1rem; }\n                .testimonial-quote::before { content: none; /* Removed large quote mark */ }\n                .testimonial-author { font-weight: 600; color: var(--text-primary); font-size: 0.9rem; display: block; text-align: right; margin-top: 1rem; }\n                .testimonial-role { font-size: 0.8rem; color: var(--text-secondary); opacity: 0.8; display: inline; }\n\n                /* --- Related Projects --- */\n                .related-projects { border-top: 1px solid var(--bg-tertiary); padding-top: 2.5rem; margin-top: 3rem; }\n                .related-heading { font-family: var(--font-body); font-size: 1.4rem; font-weight: 600; color: var(--text-secondary); margin-bottom: 1.5rem; text-align: center; letter-spacing: 0; opacity: 1; text-shadow: none; } /* Simplified heading */\n                .related-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr)); gap: 1.2rem; }\n\n                /* --- Common Buttons & Links (Modernized slightly) --- */\n                .btn-glow, .btn-outline { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.7rem 1.4rem; border-radius: var(--radius-base); font-size: 0.85rem; font-weight: 600; font-family: var(--font-mono); letter-spacing: 0.04em; text-transform: uppercase; cursor: pointer; transition: all 0.25s ease; border: 1px solid transparent; text-decoration: none; line-height: 1; }\n                .btn-glow { background: var(--accent-primary); color: var(--text-on-accent); border-color: transparent; box-shadow: 0 2px 5px rgba(var(--accent-primary-rgb, 182, 104, 128), 0.3); /* Added fallback RGB */ }\n                .btn-glow:hover { filter: brightness(1.1); box-shadow: 0 4px 8px rgba(var(--accent-primary-rgb, 182, 104, 128), 0.4); /* Added fallback RGB */ transform: translateY(-1px); }\n                .btn-outline { border: 1px solid var(--accent-secondary); color: var(--accent-secondary); background: transparent; backdrop-filter: none; }\n                .btn-outline:hover { background: rgba(var(--accent-secondary-rgb, 126, 161, 150), 0.1); /* Added fallback RGB */ color: var(--accent-highlight); border-color: var(--accent-highlight); transform: translateY(-1px); }\n                .link-hover { color: var(--accent-highlight); border-bottom: 1px dotted currentColor; transition: color 0.2s, border-color 0.2s; display: inline; }\n                .link-hover:hover { color: var(--text-bright, var(--text-heading)); border-bottom-color: var(--accent-highlight); border-bottom-style: solid; }\n\n                /* --- Scroll-to-Top Button (Fixes & Centering) --- */\n                .scroll-to-top-button {\n                    position: fixed;\n                    bottom: 2rem;\n                    right: 2rem; /* Position bottom-right */\n                    z-index: 50; /* Ensure it's above other content */\n                    /* Button Appearance */\n                    background-color: rgba(var(--bg-tertiary-rgb, 237, 228, 214), 0.8); /* Use a theme variable */\n                    color: var(--accent-primary);\n                    border: 1px solid rgba(var(--accent-primary-rgb, 182, 104, 128), 0.3); /* Optional subtle border */\n                    border-radius: 50%; /* Make it circular */\n                    width: 48px; /* Fixed size */\n                    height: 48px;\n                    /* Centering Icon Inside */\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    /* Interaction */\n                    cursor: pointer;\n                    backdrop-filter: blur(5px); /* Optional blur effect */\n                    box-shadow: var(--shadow-medium); /* Use theme shadow */\n                    opacity: 0; /* Start hidden */\n                    transform: translateY(20px); /* Start slightly lower */\n                    transition: transform 0.3s ease-out, background-color 0.3s ease-out, color 0.3s ease-out, opacity 0.3s ease-out, box-shadow 0.3s ease-out;\n                }\n                /* Style when visible (add this class via state/effect) */\n                .scroll-to-top-button.visible {\n                    opacity: 0.9; /* Make it slightly transparent */\n                    transform: translateY(0); /* Slide into view */\n                }\n                .scroll-to-top-button:hover {\n                    transform: scale(1.1); /* Slightly larger on hover */\n                    background-color: rgba(var(--accent-primary-rgb, 182, 104, 128), 0.9); /* Use accent color */\n                    color: var(--text-on-accent); /* Ensure contrast on accent */\n                    opacity: 1;\n                    box-shadow: var(--shadow-high, 0 10px 30px rgba(0,0,0,0.3)); /* Optional higher shadow */\n                }\n                .scroll-to-top-button:active {\n                    transform: scale(1.05); /* Slight press effect */\n                }\n\n            `}</style>\n        </main>\n    );\n}","// src/components/SEO/SoftwareApplicationSchema.tsx\n\"use client\";\n\nimport React from 'react';\nimport { Project } from '@/types/project';\n\ninterface SoftwareApplicationSchemaProps {\n  project: Project;\n}\n\nexport default function SoftwareApplicationSchema({ project }: SoftwareApplicationSchemaProps) {\n  // Only generate schema for software/tool projects\n  const isSoftware = project.category === 'tools' || project.category === 'ai' || \n                     project.tags?.some(tag => ['open-source', 'oss', 'software', 'tool', 'library', 'framework'].includes(tag.toLowerCase()));\n  \n  if (!isSoftware) return null;\n\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"SoftwareApplication\",\n    \"name\": project.title,\n    \"description\": project.description,\n    \"url\": project.link || `https://manic.agency/projects/${project.category}/${project.slug}`,\n    \"applicationCategory\": project.category === 'ai' ? 'DeveloperApplication' : 'DesignApplication',\n    \"operatingSystem\": \"Cross-platform\",\n    \"softwareVersion\": \"1.0\",\n    \"datePublished\": project.date,\n    \"dateModified\": project.modifiedDate || project.date,\n    \"author\": {\n      \"@type\": \"Organization\",\n      \"name\": project.team?.[0]?.name || \"Manic Agency\",\n      \"url\": project.team?.[0]?.link || \"https://manic.agency\"\n    },\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": \"Manic Agency\",\n      \"url\": \"https://manic.agency\"\n    },\n    \"offers\": project.link ? {\n      \"@type\": \"Offer\",\n      \"price\": \"0\",\n      \"priceCurrency\": \"USD\"\n    } : undefined,\n    \"screenshot\": project.images?.[0] ? `https://manic.agency${project.images[0]}` : undefined,\n    \"codeRepository\": project.github,\n    \"license\": project.license || (project.tags?.includes('oss') || project.tags?.includes('open-source') ? 'https://opensource.org/licenses/MIT' : undefined),\n    \"programmingLanguage\": project.languages || project.technologies,\n    \"keywords\": project.tags?.join(', ')\n  };\n\n  // Remove undefined values\n  Object.keys(schema).forEach(key => \n    schema[key as keyof typeof schema] === undefined && delete schema[key as keyof typeof schema]\n  );\n\n  return (\n    <script\n      type=\"application/ld+json\"\n      dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}\n    />\n  );\n}\n\n"],"names":["Promise","resolve","then","__webpack_require__","bind","ZoomableImage","param","src","alt","caption","className","size","align","effect","border","zoomable","isZoomed","setIsZoomed","useState","modalId","setModalId","zoomLevel","setZoomLevel","isDragging","setIsDragging","dragStart","setDragStart","x","y","position","setPosition","imageRef","useRef","useEffect","concat","Math","random","toString","substring","closeZoom","document","body","style","overflow","zoomIn","prev","min","zoomOut","max","resetZoom","handleDragMove","e","clientX","clientY","preventDefault","handleDragEnd","handleEsc","key","handleMouseMove","handleMouseUp","handleWheel","deltaY","window","addEventListener","passive","removeEventListener","modal","createElement","id","innerHTML","appendChild","closeButton","querySelector","zoomInButton","zoomOutButton","resetButton","zoomImg","target","imgContainer","stopPropagation","updateImageTransform","img","transform","observer","MutationObserver","observe","attributes","childList","subtree","disconnect","modalElement","getElementById","removeChild","imageClasses","getEffectClass","getSizeClass","getBorderClass","trim","parsedAlt","parsedCaption","includes","parts","split","jsx_runtime","jsxs","figure","getAlignClass","jsx","ref","onClick","undefined","loading","figcaption","getNodeText","node","type","value","children","Array","isArray","map","join","ProjectCallout","div","ImageGrid","columns","gridTemplateColumns","ProjectMarkdownRenderer","rawMarkdown","isDarkMode","useTheme","markdownComponents","useMemo","h1","props","h2","h3","h4","h5","h6","p","a","href","startsWith","rel","hr","ul","ol","li","blockquote","code","inline","codeClassName","codeChildren","match","exec","language","codeString","String","replace","SyntaxHighlighter","vscDarkPlus","oneLight","PreTag","showLineNumbers","customStyle","margin","padding","borderRadius","backgroundColor","codeTagProps","fontFamily","fontSize","lineHeight","button","navigator","clipboard","writeText","aria-label","title","Copy","AsciiArtPlaceholder","altString","imageSize","imageAlign","imageEffect","imageBorder","imageCaption","altText","isZoomable","slice","forEach","part","trimmedKey","toLowerCase","trimmedValue","table","th","td","componentType","properties","calloutType","columnsAttr","parseInt","imageChildren","Children","toArray","filter","child","_child_props_className","isValidElement","_child_props","mark","remarkPlugins","remarkGfm","remarkMath","remarkUnwrapImages","rehypePlugins","rehypeRaw","rehypeSlug","rehypeAutolinkHeadings","behavior","rehypeKatex","visit","tree","tagName","firstChild","calloutMatch","textContent","gridMatch","ReactMarkdown","components","octokit","Octokit","userAgent","timeout","fetchRepoMetadata","user","repo","data","repos","get","owner","err","console","error","fetchRepoContributors","listContributors","fetchRepoLanguages","listLanguages","Project_TableOfContents","toc","activeSlug","setActiveSlug","tocContainerRef","manualScrollTimeoutRef","manualScrollTargetRef","manualScrollHandlerRef","isManualScrollRef","clearManualScroll","useCallback","current","clearTimeout","computeScrollMarginTop","computed","getComputedStyle","element","scrollMarginTop","parsed","parseFloat","Number","isFinite","IntersectionObserver","bestVisibleEntry","entry","entries","isIntersecting","boundingClientRect","top","rootMargin","threshold","currentObserver","observedElements","item","slug","push","el","unobserve","activeLink","containerRect","getBoundingClientRect","linkRect","bottom","scrollIntoView","block","handleScroll","monitorScroll","targetEl","marginTop","distance","abs","reachedBottom","innerHeight","scrollY","documentElement","scrollHeight","setTimeout","history","replaceState","requestAnimationFrame","length","aside","paddingLeft","level","span","text","Project_MinimapNav","minimapContainerRef","filteredToc","normalized","prioritized","source","unique","seenSlugs","Set","has","add","parsedHeader","computedHeader","getPropertyValue","headerOffset","handleScrollTo","targetTop","scrollTo","activeIndicator","data-slug","aria-pressed","getIndicatorClass","levelClass","shapeClass","activeClass","parseNumericStat","cleanedValue","numericValue","endsWith","round","getStatValue","project","statName","possibleKeys","stats","labelKey","stat","find","st","label","directPropName","hasOwnProperty","prefixedPropName","formatBytes","bytes","decimals","sizes","i","floor","log","sizeIndex","calculatedValue","pow","toFixed","timeAgo","date","dateObj","Date","seconds","getTime","interval","ProjectDetailClient","githubMeta","relatedProjects","tocProp","setGithubMeta","languages","setLanguages","contributors","setContributors","githubError","setGithubError","isLoadingGithub","setIsLoadingGithub","isGithubInsightsOpen","setIsGithubInsightsOpen","showScrollTop","setShowScrollTop","activeImageIndex","setActiveImageIndex","currentToc","isMounted","fetchGithubData","github","repoInfo","parseGitHubUrl","url","metaResult","langsResult","contribsResult","allSettled","status","reason","message","category","description","longDescription","content","image","images","tags","link","team","testimonials","license","projectLicense","modifiedDate","displayStatus","projectYear","getFullYear","imageSources","orderedSources","seen","pushUnique","activeImageSrc","hasVisuals","stars","stargazers_count","forks","forks_count","watchers","subscribers_count","name","openIssues","open_issues_count","repoSize","createdAt","created_at","pushedAt","pushed_at","sortedLanguages","Object","sort","param1","b","totalBytes","reduce","sum","liveUrl","homepage","layoutClass","main","MinimapNav","TableOfContents","header","Link","ArrowLeft","Clock","toLocaleString","Star","GitFork","data-text","ExternalLink","Github","section","Image","width","height","priority","role","imgSrc","idx","aria-current","ImageIcon","strokeWidth","animate","Tag","tag","aria-expanded","aria-controls","AlertTriangle","ChevronDown","strong","Eye","ShieldCheck","Layers","CalendarDays","Activity","lang","percentage","langClass","c","html_url","login","contributions","avatar_url","Users","member","index","photo","MessageSquare","t","quote","footer","author","ProjectCard","ArrowUpCircle","SoftwareApplicationSchema","some","schema","technologies","keys","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","script","dangerouslySetInnerHTML","__html","JSON","stringify"],"sourceRoot":""}